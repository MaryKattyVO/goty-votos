(self.webpackChunkgoty=self.webpackChunkgoty||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},7368:(t,e,n)=>{"use strict";n.d(e,{deG:()=>an,tb:()=>Mu,AFp:()=>Nu,ip1:()=>Ou,CZH:()=>Du,hGG:()=>Oc,z2F:()=>bc,sBO:()=>Da,Sil:()=>Wu,_Vd:()=>ea,EJc:()=>qu,SBq:()=>sa,qLn:()=>Cr,vpe:()=>lu,gxx:()=>fs,tBr:()=>kn,XFs:()=>D,OlP:()=>on,zs3:()=>ks,ZZ4:()=>Sa,aQg:()=>Ca,soG:()=>ju,YKP:()=>Va,v3s:()=>xc,h0i:()=>qa,PXZ:()=>gc,R0b:()=>Ku,FiY:()=>An,Lbi:()=>Fu,g9A:()=>Pu,Qsj:()=>ua,FYo:()=>aa,JOm:()=>Or,Tiy:()=>la,q3G:()=>yr,tp0:()=>In,EAV:()=>Ec,Rgc:()=>Fa,dDg:()=>ic,DyG:()=>un,q4F:()=>fa,GfV:()=>ha,s_b:()=>za,ifc:()=>M,eFA:()=>mc,G48:()=>dc,X6Q:()=>fc,_c5:()=>Ac,VLi:()=>ac,c2e:()=>Uu,zSh:()=>ps,wAp:()=>Vo,vHH:()=>v,EiD:()=>gr,mCW:()=>Jn,qzn:()=>Vn,JVY:()=>zn,pB0:()=>Zn,eBb:()=>Gn,L6k:()=>Hn,LAX:()=>$n,cg1:()=>Uo,Tjo:()=>kc,kL8:()=>jo,yhl:()=>Bn,dqk:()=>B,sIi:()=>Fs,CqO:()=>to,QGY:()=>Js,F4k:()=>Xs,RDi:()=>kt,AaK:()=>f,z3N:()=>qn,qOj:()=>Is,TTD:()=>bt,_Bn:()=>Jo,xp6:()=>yi,uIk:()=>Vs,Tol:()=>yo,Gre:()=>Lo,ekj:()=>mo,Suo:()=>Su,Xpm:()=>X,lG2:()=>ot,Yz7:()=>x,cJS:()=>T,oAB:()=>rt,Yjl:()=>at,Y36:()=>Gs,_UZ:()=>Qs,qZA:()=>Ys,TgZ:()=>Ws,EpF:()=>Ks,n5z:()=>tn,Ikx:()=>Ro,LFG:()=>Sn,$8M:()=>nn,NdJ:()=>eo,CRH:()=>Eu,kcU:()=>ve,O4$:()=>ye,oxw:()=>io,Hsn:()=>ao,F$t:()=>oo,Q6J:()=>$s,DdM:()=>iu,VKq:()=>su,WLB:()=>ou,kEZ:()=>au,iGM:()=>xu,MAs:()=>Hs,Jf7:()=>Ar,CHM:()=>Gt,oJD:()=>vr,LSH:()=>wr,kYT:()=>it,Udp:()=>go,YNc:()=>zs,W1O:()=>Iu,_uU:()=>Io,Oqu:()=>Oo,hij:()=>Do,AsE:()=>No,Gf:()=>Tu});var r=n(5959),i=n(7570),s=n(8318),o=n(1906),a=n(2875),u=n(1564);function c(){return new r.xQ}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function w(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():w(t)}function _(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${b(t)} found${n}`)}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return E(t,k)||E(t,I)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(O))?t[A]:null}const k=l({"\u0275prov":l}),A=l({"\u0275inj":l}),I=l({ngInjectableDef:l}),O=l({ngInjectorDef:l});var D=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function L(t){const e=N;return N=t,e}function R(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&D.Optional?null:void 0!==e?e:void _(f(t),"Injector")}function P(t){return{toString:t}.toString()}var F=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,B=U||V||j||q,z={},H=[],G=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),Z=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),K=l({__NG_ELEMENT_ID__:l});let J=0;function X(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||H,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||H,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function tt(t){return ut(t)||function(t){return t[$]||null}(t)}function et(t){return function(t){return t[Z]||null}(t)}const nt={};function rt(t){return P(()=>{const e={type:t.type,bootstrap:t.bootstrap||H,declarations:t.declarations||H,imports:t.imports||H,exports:t.exports||H,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(nt[t.id]=t.type),e})}function it(t,e){return P(()=>{const n=ct(t,!0);n.declarations=e.declarations||H,n.imports=e.imports||H,n.exports=e.exports||H})}function st(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ot=X;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[G]||null}function ct(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),xt}function xt(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new wt(u&&u.currentValue,e,o===z),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}bt.ngInherit=!0;const Et="http://www.w3.org/2000/svg";let Ct;function kt(t){Ct=t}function At(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function It(t){return!!t.listen}const Ot={createRenderer:(t,e)=>At()};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Nt(t,e){return Dt(e[t])}function Lt(t,e){return Dt(e[t.index])}function Rt(t,e){return t.data[e]}function Pt(t,e){const n=e[t];return ft(n)?n:n[0]}function Ft(t){return 4==(4&t[2])}function Mt(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function jt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Vt={lFrame:le(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return Vt.bindingsEnabled}function zt(){return Vt.lFrame.lView}function Ht(){return Vt.lFrame.tView}function Gt(t){return Vt.lFrame.contextLView=t,t[8]}function $t(){let t=Zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zt(){return Vt.lFrame.currentTNode}function Wt(t,e){const n=Vt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Vt.lFrame.isParent}function Qt(){Vt.lFrame.isParent=!1}function Kt(){return Vt.isInCheckNoChangesMode}function Jt(t){Vt.isInCheckNoChangesMode=t}function Xt(){const t=Vt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return Vt.lFrame.bindingIndex++}function ee(t){const e=Vt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ne(t,e){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){Vt.lFrame.currentDirectiveIndex=t}function ie(){return Vt.lFrame.currentQueryIndex}function se(t){Vt.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ae(t,e,n){if(n&D.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&D.Host||(r=oe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Vt.lFrame=ce();return r.currentTNode=e,r.lView=t,!0}function ue(t){const e=ce(),n=t[1];Vt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=Vt.lFrame,e=null===t?null:t.child;return null===e?le(t):e}function le(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function he(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fe=he;function de(){const t=he();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pe(){return Vt.lFrame.selectedIndex}function ge(t){Vt.lFrame.selectedIndex=t}function me(){const t=Vt.lFrame;return Rt(t.tView,t.selectedIndex)}function ye(){Vt.lFrame.currentNamespace=Et}function ve(){Vt.lFrame.currentNamespace=null}function we(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function be(t,e,n){Te(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Te(t,e,n,r)}function xe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Te(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Se(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Se(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ee=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ke(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ie(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function Ie(t){return 64===t.charCodeAt(0)}function Oe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||De(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function De(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ne(t){return t!==Ee}function Le(t){return 32767&t}function Re(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Pe=!0;function Fe(t){const e=Pe;return Pe=t,e}let Me=0;function Ue(t,e){const n=qe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,je(r.data,t),je(e,null),je(r.blueprint,null));const i=Ve(t,e),s=t.injectorIndex;if(Ne(i)){const t=Le(i),n=Re(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function je(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ee;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ee}function Be(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(r=n[K]),null==r&&(r=n[K]=Me++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function ze(t,e,n){if(n&D.Optional)return t;_(e,"NodeInjector")}function He(t,e,n,r){if(n&D.Optional&&void 0===r&&(r=null),0==(n&(D.Self|D.Host))){const i=t[9],s=L(void 0);try{return i?i.get(e,r,n&D.Optional):R(e,r,n&D.Optional)}finally{L(s)}}return ze(r,e,n)}function Ge(t,e,n,r=D.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(K)?t[K]:void 0;return"number"==typeof e?e>=0?255&e:Ze:e}(n);if("function"==typeof s){if(!ae(e,t,r))return r&D.Host?ze(i,n,r):He(e,n,r,i);try{const t=s(r);if(null!=t||r&D.Optional)return t;_(n)}finally{fe()}}else if("number"==typeof s){let i=null,o=qe(t,e),a=Ee,u=r&D.Host?e[16][6]:null;for((-1===o||r&D.SkipSelf)&&(a=-1===o?Ve(t,e):e[o+8],a!==Ee&&Je(r,!1)?(i=e[1],o=Le(a),e=Re(a,e)):o=-1);-1!==o;){const t=e[1];if(Ke(s,o,t.data)){const t=We(o,e,n,i,r,u);if(t!==$e)return t}a=e[o+8],a!==Ee&&Je(r,e[1].data[o+8]===u)&&Ke(s,o,e)?(i=t,o=Le(a),e=Re(a,e)):o=-1}}}return He(e,n,r,i)}const $e={};function Ze(){return new Xe($t(),zt())}function We(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Ye(a,o,n,null==r?gt(a)&&Pe:r!=o&&0!=(3&a.type),i&D.Host&&s===a);return null!==u?Qe(e,o,u,a):$e}function Ye(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&yt(t)&&t.type===n)return u}return null}function Qe(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ce){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=Fe(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?L(o.injectImpl):null;ae(t,r,D.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&L(u),Fe(a),o.resolving=!1,fe()}}return i}function Ke(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Je(t,e){return!(t&D.Self||t&D.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function tn(t){return P(()=>{const e=t.prototype.constructor,n=e[Q]||en(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||en(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function en(t){return y(t)?()=>{const e=en(m(t));return e&&e()}:vt(t)}function nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($t(),t)}const rn="__parameters__";function sn(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(rn)?t[rn]:Object.defineProperty(t,rn,{value:[]})[rn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class on{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=x({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const an=new on("AnalyzeForEntryComponents"),un=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),cn(r,e)):e!==t&&e.push(r)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function pn(t,e,n){let r=mn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gn(t,e){const n=mn(t,e);if(n>=0)return t[1|n]}function mn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const yn={},vn=/\n/gm,wn="__source",bn=l({provide:String,useValue:l});let _n;function xn(t){const e=_n;return _n=t,e}function Tn(t,e=D.Default){if(void 0===_n)throw new Error("inject() must be called from an injection context");return null===_n?R(t,void 0,e):_n.get(t,e&D.Optional?null:void 0,e)}function Sn(t,e=D.Default){return(N||Tn)(m(t),e)}function En(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=D.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(Sn(t,n))}else e.push(Sn(r))}return e}function Cn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const kn=Cn(sn("Inject",t=>({token:t})),-1),An=Cn(sn("Optional"),8),In=Cn(sn("SkipSelf"),4);let On,Dn;function Nn(t){var e;return(null===(e=function(){if(void 0===On&&(On=null,B.trustedTypes))try{On=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return On}())||void 0===e?void 0:e.createHTML(t))||t}function Ln(t){var e;return(null===(e=function(){if(void 0===Dn&&(Dn=null,B.trustedTypes))try{Dn=B.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Dn}())||void 0===e?void 0:e.createHTML(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pn extends Rn{getTypeName(){return"HTML"}}class Fn extends Rn{getTypeName(){return"Style"}}class Mn extends Rn{getTypeName(){return"Script"}}class Un extends Rn{getTypeName(){return"URL"}}class jn extends Rn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function Vn(t,e){const n=Bn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Bn(t){return t instanceof Rn&&t.getTypeName()||null}function zn(t){return new Pn(t)}function Hn(t){return new Fn(t)}function Gn(t){return new Mn(t)}function $n(t){return new Un(t)}function Zn(t){return new jn(t)}class Wn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Nn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Yn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Nn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Nn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match(Qn)||t.match(Kn)?t:"unsafe:"+t}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const er=Xn("area,br,col,hr,img,wbr"),nr=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rr=Xn("rp,rt"),ir=tr(rr,nr),sr=tr(er,tr(nr,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(rr,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),or=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=Xn("srcset"),ur=tr(or,ar,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cr=Xn("script,style,template");class lr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!cr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!ur.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;or[s]&&(o=Jn(o)),ar[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Jn(t.trim())).join(", ")),this.buf.push(" ",e,'="',dr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function dr(t){return t.replace(/&/g,"&amp;").replace(hr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pr;function gr(t,e){let n=null;try{pr=pr||function(t){const e=new Yn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Nn(""),"text/html")}catch(t){return!1}}()?new Wn(e):e}(t);let r=e?String(e):"";n=pr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==s);return Nn((new lr).sanitizeChildren(mr(n)||n))}finally{if(n){const t=mr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function mr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=br();return e?Ln(e.sanitize(yr.HTML,t)||""):Vn(t,"HTML")?Ln(qn(t)):gr(At(),w(t))}function wr(t){const e=br();return e?e.sanitize(yr.URL,t)||"":Vn(t,"URL")?qn(t):Jn(w(t))}function br(){const t=zt();return t&&t[12]}function _r(t,e){t.__ngContext__=e}function xr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Tr(t){return t.ngDebugContext}function Sr(t){return t.ngOriginalError}function Er(t,...e){t.error(...e)}class Cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Er}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Tr(t)?Tr(t):this._findContext(Sr(t)):null}_findOriginalError(t){let e=Sr(t);for(;e&&Sr(e);)e=Sr(e);return e}}const kr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Ar(t){return t.ownerDocument.defaultView}function Ir(t){return t instanceof Function?t():t}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Dr(t,e){return(void 0)(t,e)}function Nr(t){const e=t[3];return dt(e)?e[3]:e}function Lr(t){return Pr(t[13])}function Rr(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Fr(t,e,n,r,i){if(null!=r){let s,o=!1;dt(r)?s=r:ft(r)&&(o=!0,r=r[0]);const a=Dt(r);0===t&&null!==n?null==i?Hr(e,n,a):zr(e,n,a,i||null,!0):1===t&&null!==n?zr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=$r(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Dt(n)&&Fr(e,t,r,s,i);for(let o=ht;o<n.length;o++){const i=n[o];ti(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Mr(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ur(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function jr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Ur(s,r),e>0&&(t[n-1][4]=r[4]);const o=fn(t,ht+e);ti(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function qr(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&ti(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Vr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Vr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Dt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Ur(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Br(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Lt(r,n)}(t,e.parent,n)}function zr(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Hr(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function Gr(t,e,n,r,i){null!==r?zr(t,e,n,r,i):Hr(t,e,n)}function $r(t,e){return It(t)?t.parentNode(e):e.parentNode}function Zr(t,e,n){return Wr(t,e,n)}let Wr=function(t,e,n){return 40&t.type?Lt(t,n):null};function Yr(t,e,n,r){const i=Br(t,r,e),s=e[11],o=Zr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gr(s,i,n[a],o,!1);else Gr(s,i,n,o,!1)}function Qr(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return Jr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Qr(t,n);{const n=t[e.index];return dt(n)?Jr(-1,n):Dt(n)}}if(32&n)return Dr(e,t)()||Dt(t[e.index]);{const n=Kr(t,e);return null!==n?Array.isArray(n)?n[0]:Qr(Nr(t[16]),n):Qr(t,e.next)}}return null}function Kr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Jr(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Qr(t,r)}return e[7]}function Xr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&_r(Dt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Xr(t,e,n.child,r,i,s,!1),Fr(e,t,i,a,s);else if(32&u){const o=Dr(n,r);let u;for(;u=o();)Fr(e,t,i,u,s);Fr(e,t,i,a,s)}else 16&u?ei(t,e,r,n,i,s):Fr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ti(t,e,n,r,i,s){Xr(n,r,t.firstChild,e,i,s,!1)}function ei(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Fr(e,t,i,a[u],s);else Xr(t,e,a,o[3],i,s,!0)}function ni(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ri(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ii(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const si="ng-template";function oi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ii(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ai(t){return 4===t.type&&t.value!==si}function ui(t,e,n){return e===(4!==t.type||n?t.value:si)}function ci(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ui(t,u,n)||""===u&&1===e.length){if(li(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!oi(t.attrs,c,n)){if(li(r))return!1;o=!0}continue}const l=hi(8&r?"class":u,i,ai(t),n);if(-1===l){if(li(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ii(e,c,0)||2&r&&c!==t){if(li(r))return!1;o=!0}}}}else{if(!o&&!li(r)&&!li(u))return!1;if(o&&li(u))continue;o=!1,r=u|1&r}}return li(r)||o}function li(t){return 0==(1&t)}function hi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fi(t,e,n=!1){for(let r=0;r<e.length;r++)if(ci(t,e[r],n))return!0;return!1}function di(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function pi(t,e){return t?":not("+e.trim()+")":e}function gi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||li(o)||(e+=pi(s,i),i=""),r=o,s=s||!li(r);n++}return""!==i&&(e+=pi(s,i)),e}const mi={};function yi(t){vi(Ht(),zt(),pe()+t,Kt())}function vi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ge(n)}function wi(t,e){return t<<17|e<<2}function bi(t){return t>>17&32767}function _i(t){return 2|t}function xi(t){return(131068&t)>>2}function Ti(t,e){return-131069&t|e<<2}function Si(t){return 1|t}function Ei(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];se(i),n.contentQueries(2,e[s],s)}}}function Ci(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,jt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function ki(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Zt(),o=Yt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Vt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Vt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Wt(s,!0),s}function Ai(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ii(t,e,n){ue(e);try{const r=t.viewQuery;null!==r&&is(1,r,n);const i=t.template;null!==i&&Ni(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ei(t,e),t.staticViewQueries&&is(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Xi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function Oi(t,e,n,r){const i=e[2];if(256==(256&i))return;ue(e);const s=Kt();try{jt(e),Vt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ni(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),xe(e,0)}if(function(t){for(let e=Lr(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Lr(t);null!==e;e=Rr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Mt(n)&&Oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ei(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&be(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),xe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ge(~r);else{const i=r,s=n[++t],o=n[++t];ne(s,i),o(2,e[i])}}}finally{ge(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ki(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&is(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&be(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),xe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{de()}}function Di(t,e,n,r){const i=e[10],s=!Kt(),o=Ft(e);try{s&&!o&&i.begin&&i.begin(),o&&Ii(t,e,r),Oi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ni(t,e,n,r,i){const s=pe(),o=2&r;try{ge(-1),o&&e.length>lt&&vi(t,e,lt,Kt()),n(r,i)}finally{ge(s)}}function Li(t,e,n){Bt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ue(n,e),_r(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=yt(r);s&&Zi(e,n,r);const u=Qe(e,t,a,n);_r(u,e),null!==o&&Wi(0,a-i,u,r,0,o),s&&(Pt(n.index,e)[8]=u)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Vt.lFrame.currentDirectiveIndex;try{ge(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];re(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Bi(r,i)}}finally{ge(-1),re(o)}}(t,e,n))}function Ri(t,e,n=Lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Pi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fi(t,e,n,r,i,s,o,a,u,c){const l=lt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:mi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Mi(t,e,n,r){const i=os(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&as(t).push(r,i.length-1))}function Ui(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ji(t,e,n,r,i,s,o,a){const u=Lt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(cs(t,n,c,r,i),gt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,It(s)?s.setProperty(u,r,i):Ie(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function qi(t,e,n,r){let i=!1;if(Bt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];fi(n,o.selectors,!1)&&(i||(i=[]),Be(Ue(n,e),t,o.type),yt(o)?(zi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Gi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ai(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Oe(n.mergedAttrs,c.hostAttrs),$i(t,n,e,u,c),Hi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ai(e)?null:Yi(n,i);s.push(c),o=Ui(n,u,o),a=Ui(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Oe(n.mergedAttrs,n.attrs),i}function Vi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Bi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Hi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function Gi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $i(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=vt(i.type)),o=new Ce(s,yt(i),null);t.blueprint[r]=o,n[r]=o,Vi(t,e,0,r,Ai(t,n,i.hostVars,mi),i)}function Zi(t,e,n){const r=Lt(e,t),i=Pi(n),s=t[10],o=ts(t,Ci(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Wi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Yi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Qi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ki(t,e){const n=Pt(e,t);if(Mt(n)){const t=n[1];80&n[2]?Oi(t,n,t.template,n[8]):n[5]>0&&Ji(n)}}function Ji(t){for(let n=Lr(t);null!==n;n=Rr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Oi(t,e,t.template,e[8])}else e[5]>0&&Ji(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Mt(r)&&r[5]>0&&Ji(r)}}function Xi(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ii(r,n,n[8])}function ts(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function es(t){for(;t;){t[2]|=64;const e=Nr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ns(t,e,n){const r=e[10];r.begin&&r.begin();try{Oi(t,e,t.template,n)}catch(i){throw us(e,i),i}finally{r.end&&r.end()}}function rs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=xr(n),i=r[1];Di(i,r,i.template,n)}}(t[8])}function is(t,e,n){se(0),e(t,n)}const ss=(()=>Promise.resolve(null))();function os(t){return t[7]||(t[7]=[])}function as(t){return t.cleanup||(t.cleanup=[])}function us(t,e){const n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function cs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ls(t,e,n){const r=Nt(e,t);!function(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function hs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=d(i,t):2==s&&(r=d(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const fs=new on("INJECTOR",-1);class ds{get(t,e=yn){if(e===yn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const ps=new on("Set Injector scope."),gs={},ms={};let ys;function vs(){return void 0===ys&&(ys=new ds),ys}function ws(t,e=null,n=null,r){return new bs(t,n,e||vs(),r)}class bs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],i)),this.records.set(fs,Ts(void 0,this));const s=this.records.get(ps);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=yn,n=D.Default){this.assertNotDestroyed();const r=xn(this);try{if(!(n&D.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof on)&&S(t);e=n&&this.injectableDefInScope(n)?Ts(_s(t),gs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&D.Self?vs():this.parent).get(t,e=n&D.Optional&&e===yn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(f(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[wn]&&i.unshift(e[wn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{xn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ln(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ln(r,t=>this.processProvider(t,n,r||H))}}this.injectorDefTypes.add(s);const a=vt(s)||(()=>new s);this.records.set(s,Ts(a,gs));const u=r.providers;if(null!=u&&!o){const e=t;ln(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Es(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return Ss(t)?Ts(void 0,t.useValue):Ts(xs(t),gs)}(t);if(Es(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Ts(void 0,gs,!0),e.factory=()=>En(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===gs&&(e.value=ms,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=m(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function _s(t){const e=S(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof on)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=dn(e,"?");throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[I]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function xs(t,e,n){let r;if(Es(t)){const e=m(t);return vt(e)||_s(e)}if(Ss(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...En(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Sn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||_s(e);r=()=>new e(...En(t.deps))}var i;return r}function Ts(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ss(t){return null!==t&&"object"==typeof t&&bn in t}function Es(t){return"function"==typeof t}const Cs=function(t,e,n){return function(t,e=null,n=null,r){const i=ws(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ks=(()=>{class t{static create(t,e){return Array.isArray(t)?Cs(t,e,""):Cs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=yn,t.NULL=new ds,t.\u0275prov=x({token:t,providedIn:"any",factory:()=>Sn(fs)}),t.__NG_ELEMENT_ID__=-1,t})();function As(t,e){we(xr(t)[1],$t())}function Is(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Os(t.inputs),e.declaredInputs=Os(t.declaredInputs),e.outputs=Os(t.outputs);const n=i.hostBindings;n&&Ls(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ds(t,s),o&&Ns(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Is&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oe(i.hostAttrs,n=Oe(n,i.hostAttrs))}}(r)}function Os(t){return t===z?{}:t===H?[]:t}function Ds(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ns(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ls(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Rs=null;function Ps(){if(!Rs){const t=B.Symbol;if(t&&t.iterator)Rs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Rs=n)}}}return Rs}function Fs(t){return!!Ms(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ps()in t)}function Ms(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Us(t,e,n){return t[e]=n}function js(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qs(t,e,n,r){const i=js(t,e,n);return js(t,e+1,r)||i}function Vs(t,e,n,r){const i=zt();return js(i,te(),e)&&(Ht(),function(t,e,n,r,i,s){const o=Lt(t,e);!function(t,e,n,r,i,s,o){if(null==s)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?w(s):o(s,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(me(),i,t,e,n,r)),Vs}function Bs(t,e,n,r){return js(t,te(),n)?e+w(n)+r:mi}function zs(t,e,n,r,i,s,o,a){const u=zt(),c=Ht(),l=t+lt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ki(e,t,4,o||null,Ut(c,a));qi(e,n,l,Ut(c,u)),we(e,l);const h=l.tViews=Fi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Wt(h,!1);const f=u[11].createComment("");Yr(c,u,f,h),_r(f,u),ts(u,u[l]=Qi(f,u,f,h)),mt(h)&&Li(c,u,h),null!=o&&Ri(u,h,a)}function Hs(t){return function(t,e){return t[e]}(Vt.lFrame.contextLView,lt+t)}function Gs(t,e=D.Default){const n=zt();return null===n?Sn(t,e):Ge($t(),n,m(t),e)}function $s(t,e,n){const r=zt();return js(r,te(),e)&&ji(Ht(),me(),r,t,e,r[11],n,!1),$s}function Zs(t,e,n,r,i){const s=i?"class":"style";cs(t,n,e.inputs[s],s,r)}function Ws(t,e,n,r){const i=zt(),s=Ht(),o=lt+t,a=i[11],u=i[o]=Mr(a,e,Vt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=ki(e,t,2,i,Ut(a,s));return qi(e,n,u,Ut(a,o)),null!==u.attrs&&hs(u,u.attrs,!1),null!==u.mergedAttrs&&hs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Wt(c,!0);const l=c.mergedAttrs;null!==l&&ke(a,u,l);const h=c.classes;null!==h&&ri(a,u,h);const f=c.styles;null!==f&&ni(a,u,f),64!=(64&c.flags)&&Yr(s,i,u,c),0===Vt.lFrame.elementDepthCount&&_r(u,i),Vt.lFrame.elementDepthCount++,mt(c)&&(Li(s,i,c),function(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&Ri(i,c)}function Ys(){let t=$t();Yt()?Qt():(t=t.parent,Wt(t,!1));const e=t;Vt.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(we(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Zs(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Zs(n,e,zt(),e.stylesWithoutHost,!1)}function Qs(t,e,n,r){Ws(t,e,n,r),Ys()}function Ks(){return zt()}function Js(t){return!!t&&"function"==typeof t.then}function Xs(t){return!!t&&"function"==typeof t.subscribe}const to=Xs;function eo(t,e,n,r){const i=zt(),s=Ht(),o=$t();return function(t,e,n,r,i,s,o,a){const u=mt(r),c=t.firstCreatePass&&as(t),l=os(e);let h=!0;if(3&r.type||a){const f=Lt(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(Dt(t[r.index])):r.index;if(It(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ro(r,e,0,s,!1);const t=n.listen(d,i,s);l.push(s,t),c&&c.push(i,g,p,p+1)}}else s=ro(r,e,0,s,!0),d.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,p,o)}else s=ro(r,e,0,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,!!n,r),eo}function no(t,e,n,r){try{return!1!==n(r)}catch(i){return us(t,i),!1}}function ro(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&es(o);let a=no(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=no(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function io(t=1){return function(t){return(Vt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Vt.lFrame.contextLView))[8]}(t)}function so(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?fi(t,s,!0):di(r,s))return i}else n=i}return n}function oo(t){const e=zt()[16][6];if(!e.projection){const n=e.projection=dn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?so(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ao(t,e=0,n){const r=zt(),i=Ht(),s=ki(i,lt+t,16,null,n||null);null===s.projection&&(s.projection=e),Qt(),64!=(64&s.flags)&&function(t,e,n){ei(e[11],0,e,n,Br(t,n,e),Zr(n.parent||e[6],n,e))}(i,r,s)}function uo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?bi(s):xi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];co(t[a],e)&&(u=!0,t[a+1]=r?Si(n):_i(n)),a=r?bi(n):xi(n)}u&&(t[n+1]=r?_i(s):Si(s))}function co(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mn(t,e)>=0}const lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ho(t){return t.substring(lo.key,lo.keyEnd)}function fo(t,e){const n=lo.textEnd;return n===e?-1:(e=lo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,lo.key=e,n),po(t,e,n))}function po(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function go(t,e,n){return wo(t,e,n,!1),go}function mo(t,e){return wo(t,e,null,!0),mo}function yo(t){bo(pn,vo,t,!0)}function vo(t,e){for(let n=function(t){return function(t){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=t.length}(t),fo(t,po(t,0,lo.textEnd))}(e);n>=0;n=fo(e,n))pn(t,ho(e),!0)}function wo(t,e,n,r){const i=zt(),s=Ht(),o=ee(2);s.firstUpdatePass&&xo(s,t,o,r),e!==mi&&js(i,o,e)&&Eo(s,s.data[pe()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=f(qn(t)))),t}(e,n),r,o)}function bo(t,e,n,r){const i=Ht(),s=ee(2);i.firstUpdatePass&&xo(i,null,s,r);const o=zt();if(n!==mi&&js(o,s,n)){const a=i.data[pe()];if(Ao(a,r)&&!_o(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=d(t,n||"")),Zs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===mi&&(i=H);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Eo(t,e,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=qn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function _o(t,e){return e>=t.expandoStartIndex}function xo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[pe()],o=_o(t,n);Ao(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Vt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=So(n=To(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=To(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==xi(r))return t[bi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=To(null,t,e,n[1],r),n=So(n,e.attrs,r),function(t,e,n,r){t[bi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=So(r,t[s].hostAttrs,n);return So(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=bi(o),u=xi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=bi(t[a+1]);t[r+1]=wi(e,a),0!==e&&(t[e+1]=Ti(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=wi(a,0),0!==a&&(t[a+1]=Ti(t[a+1],r)),a=r;else t[r+1]=wi(u,0),0===a?a=r:t[u+1]=Ti(t[u+1],r),u=r;l&&(t[r+1]=_i(t[r+1])),uo(t,c,r,!0),uo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mn(s,e)>=0&&(n[r+1]=Si(n[r+1]))}(e,c,t,r,s),o=wi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function To(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=So(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function So(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Eo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ko(1==(1&c)?Co(u,e,n,i,xi(c),o):void 0)||(ko(s)||2==(2&c)&&(s=Co(u,null,n,i,a,o)),function(t,e,n,r,i){const s=It(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Or.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Or.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Nt(pe(),n),i,s))}function Co(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===mi&&(l=c?H:void 0);let h=c?gn(l,r):u===r?l:void 0;if(s&&!ko(h)&&(h=gn(e,r)),ko(h)&&(a=h,o))return a;const f=t[i+1];i=o?bi(f):xi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=gn(t,r))}return a}function ko(t){return void 0!==t}function Ao(t,e){return 0!=(t.flags&(e?16:32))}function Io(t,e=""){const n=zt(),r=Ht(),i=t+lt,s=r.firstCreatePass?ki(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return It(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Yr(r,n,o,s),Wt(s,!1)}function Oo(t){return Do("",t,""),Oo}function Do(t,e,n){const r=zt(),i=Bs(r,t,e,n);return i!==mi&&ls(r,pe(),i),Do}function No(t,e,n,r,i){const s=zt(),o=function(t,e,n,r,i,s){const o=qs(t,Vt.lFrame.bindingIndex,n,i);return ee(2),o?e+w(n)+r+w(i)+s:mi}(s,t,e,n,r,i);return o!==mi&&ls(s,pe(),o),No}function Lo(t,e,n){bo(pn,vo,Bs(zt(),t,e,n),!0)}function Ro(t,e,n){const r=zt();return js(r,te(),e)&&ji(Ht(),me(),r,t,e,r[11],n,!0),Ro}const Po=void 0;var Fo=["en",[["a","p"],["AM","PM"],Po],[["AM","PM"],Po,Po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Po,"{1} 'at' {0}",Po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Mo={};function Uo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=qo(e);if(n)return n;const r=e.split("-")[0];if(n=qo(r),n)return n;if("en"===r)return Fo;throw new Error(`Missing locale data for the locale "${t}".`)}function jo(t){return Uo(t)[Vo.PluralCase]}function qo(t){return t in Mo||(Mo[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Mo[t]}var Vo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Bo="en-US";let zo=Bo;function Ho(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(zo=t.toLowerCase().replace(/_/g,"-"))}function Go(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let s=0;s<t.length;s++)Go(t[s],e,n,r,i);else{const s=Ht(),o=zt();let a=Es(t)?t:m(t.provide),u=xs(t);const c=$t(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Es(t)||!t.multi){const r=new Ce(u,i,Gs),d=Wo(a,e,i?l:l+f,h);-1===d?(Be(Ue(c,o),s,a),$o(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Wo(a,e,l+f,h),p=Wo(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Be(Ue(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ce(t,n,Gs);return s.multi=[],s.index=e,s.componentProviders=0,Zo(s,i,r&&!n),s}(i?Qo:Yo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),$o(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else $o(s,t,d>-1?d:p,Zo(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function $o(t,e,n,r){const i=Es(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Zo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Yo(t,e,n,r){return Ko(this.multi,[])}function Qo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Qe(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Ko(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Ko(i,s);return s}function Ko(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Jo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ht();if(r.firstCreatePass){const i=yt(t);Go(n,r.data,r.blueprint,i,!0),Go(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Xo{}class ta{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ea=(()=>{class t{}return t.NULL=new ta,t})();function na(...t){}function ra(t,e){return new sa(Lt(t,e))}const ia=function(){return ra($t(),zt())};let sa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ia,t})();function oa(t){return t instanceof sa?t.nativeElement:t}class aa{}let ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ca(),t})();const ca=function(){const t=zt(),e=Pt($t().index,t);return function(t){return t[11]}(ft(e)?e:t)};let la=(()=>{class t{}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>null}),t})();class ha{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fa=new ha("12.0.5");class da{constructor(){}supports(t){return Fs(t)}create(t){return new ga(t)}}const pa=(t,e)=>e;class ga{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<wa(n,r,i)?e:n,o=wa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Fs(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ps()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ma(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new va),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new va),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ma{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ya{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class va{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ya,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ba{constructor(){}supports(t){return t instanceof Map||Ms(t)}create(){return new _a}}class _a{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ms(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new xa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class xa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ta(){return new Sa([new da])}let Sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ta()),deps:[[t,new In,new An]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=x({token:t,providedIn:"root",factory:Ta}),t})();function Ea(){return new Ca([new ba])}let Ca=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ea()),deps:[[t,new In,new An]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=x({token:t,providedIn:"root",factory:Ea}),t})();function ka(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Dt(s)),dt(s))for(let t=ht;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ka(e[1],e,n,r)}const o=n.type;if(8&o)ka(t,e,n.child,r);else if(32&o){const t=Dr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Kr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Nr(e[16]);ka(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Aa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ka(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(jr(t,n),fn(e,n))}this._attachedToViewContainer=!1}qr(this._lView[1],this._lView)}onDestroy(t){Mi(this._lView[1],this._lView,null,t)}markForCheck(){es(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ns(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{ns(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ti(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ia extends Aa{constructor(t){super(t),this._view=t}detectChanges(){rs(this._view)}checkNoChanges(){!function(t){Jt(!0);try{rs(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const Oa=function(t){return function(t,e,n){if(gt(t)&&!n){const n=Pt(t.index,e);return new Aa(n,n)}return 47&t.type?new Aa(e[16],e):null}($t(),zt(),16==(16&t))};let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oa,t})();const Na=[new ba],La=new Sa([new da]),Ra=new Ca(Na),Pa=function(){return ja($t(),zt())};let Fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pa,t})();const Ma=Fa,Ua=class extends Ma{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ci(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ii(e,n,t),new Aa(n)}};function ja(t,e){return 4&t.type?new Ua(e,t,ra(t,e)):null}class qa{}class Va{}const Ba=function(){return Wa($t(),zt())};let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ba,t})();const Ha=za,Ga=class extends Ha{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ra(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(Ne(t)){const e=Re(t,this._hostLView),n=Le(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=$a(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(qa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ga(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ht+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ht?(e[4]=n[i],hn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Jr(i,s),a=n[11],u=$r(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ti(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),hn(Za(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=$a(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);n&&(fn(Za(this._lContainer),e),qr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);return n&&null!=fn(Za(this._lContainer),e)?new Aa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function $a(t){return t[8]}function Za(t){return t[8]||(t[8]=[])}function Wa(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=Lt(t,e);zr(n,$r(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Qi(r,e,i,t),ts(e,n)}return new Ga(n,t,e)}const Ya={};class Qa extends ea{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new Xa(e,this.ngModule)}}function Ka(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ja=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kr});class Xa extends Xo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(gi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ka(this.componentDef.inputs)}get outputs(){return Ka(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Ya,i);return s!==Ya||r===Ya?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(aa,Ot),o=i.get(la,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Mr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?Et:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:kr,clean:ss,playerHandler:null,flags:0},f=Fi(0,null,null,1,0,null,null,null,null,null),d=Ci(null,f,h,l,null,null,s,a,o,i);let p,g;ue(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=ki(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(hs(a,u,!0),null!==t&&(ke(i,t,u),null!==a.classes&&ri(i,t,a.classes),null!==a.styles&&ni(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ci(n,Pi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Be(Ue(a,n),o,e.type),zi(o,a),Gi(a,n.length,1)),ts(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)ke(a,c,["ng-version",fa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!li(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ke(a,c,t),e&&e.length>0&&ri(a,c,e.join(" "))}if(g=Rt(f,lt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),$i(t,r,e,Ai(t,e,1,null),n));const i=Qe(e,t,r.directiveStart,r);_r(i,e);const s=Lt(r,e);return s&&_r(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=$t();e.contentQueries(1,o,t.directiveStart)}const a=$t();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ge(a.index),Vi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Bi(e,o)),o}(t,this.componentDef,d,h,[As]),Ii(f,d,null)}finally{de()}return new tu(this.componentType,p,ra(g,d),d,g)}}class tu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ia(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const eu=new Map;class nu extends qa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Qa(this);const n=ct(t),r=t[Y]||null;r&&Ho(r),this._bootstrapComponents=Ir(n.bootstrap),this._r3Injector=ws(t,e,[{provide:qa,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ks.THROW_IF_NOT_FOUND,n=D.Default){return t===ks||t===qa||t===fs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ru extends Va{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,eu.get(i),n),eu.set(i,n));const s=Ir(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new nu(this.moduleType,t)}}function iu(t,e,n){const r=Xt()+t,i=zt();return i[r]===mi?Us(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function su(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return js(t,o,i)?Us(t,o+1,s?r.call(s,i):r(i)):uu(t,o+1)}(zt(),Xt(),t,e,n,r)}function ou(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return qs(t,a,i,s)?Us(t,a+2,o?r.call(o,i,s):r(i,s)):uu(t,a+2)}(zt(),Xt(),t,e,n,r,i)}function au(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=qs(t,e,n,r);return js(t,e+2,i)||s}(t,u,i,s,o)?Us(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):uu(t,u+3)}(zt(),Xt(),t,e,n,r,i,s)}function uu(t,e){const n=t[e];return n===mi?void 0:n}function cu(t){return e=>{setTimeout(t,void 0,e)}}const lu=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=cu(u),a&&(a=cu(a)),c&&(c=cu(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function hu(){return this._results[Ps()]()}class fu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ps(),n=fu.prototype;n[e]||(n[e]=hu)}get changes(){return this._changes||(this._changes=new lu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=cn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class du{constructor(t){this.queryList=t,this.matches=null}clone(){return new du(this.queryList)}setDirty(){this.queryList.setDirty()}}class pu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new pu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Au(t,e).matches&&this.queries[e].setDirty()}}class gu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class mu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new mu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class yu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new yu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,vu(e,i)),this.matchTNodeWithReadOption(t,e,Ye(e,t,i,!1,!1))}else n===Fa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===sa||r===za||r===Fa&&4&e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function vu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function wu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ra(t,e):4&t.type?ja(t,e):null}(e,t):-2===n?function(t,e,n){return n===sa?ra(e,t):n===Fa?ja(e,t):n===za?Wa(e,t):void 0}(t,e,r):Qe(t,t[1],n,e)}function bu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:wu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function _u(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=bu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ht;t<o.length;t++){const e=o[t];e[17]===e[3]&&_u(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];_u(n[1],n,i,r)}}}}}return r}function xu(t){const e=zt(),n=Ht(),r=ie();se(r+1);const i=Au(n,r);if(t.dirty&&Ft(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?_u(n,e,r,[]):bu(n,e,i,r);t.reset(s,oa),t.notifyOnChanges()}return!0}return!1}function Tu(t,e,n){const r=Ht();r.firstCreatePass&&(ku(r,new gu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Cu(r,zt(),e)}function Su(t,e,n,r){const i=Ht();if(i.firstCreatePass){const s=$t();ku(i,new gu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Cu(i,zt(),n)}function Eu(){return t=zt(),e=ie(),t[19].queries[e].queryList;var t,e}function Cu(t,e,n){const r=new fu(4==(4&n));Mi(t,e,r,r.destroy),null===e[19]&&(e[19]=new pu),e[19].queries.push(new du(r))}function ku(t,e,n){null===t.queries&&(t.queries=new mu),t.queries.track(new yu(e,n))}function Au(t,e){return t.queries.getByIndex(e)}function Iu(t,e){return ja(t,e)}const Ou=new on("Application Initializer");let Du=(()=>{class t{constructor(t){this.appInits=t,this.resolve=na,this.reject=na,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Js(e))t.push(e);else if(to(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Sn(Ou,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const Nu=new on("AppId"),Lu={provide:Nu,useFactory:function(){return`${Ru()}${Ru()}${Ru()}`},deps:[]};function Ru(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pu=new on("Platform Initializer"),Fu=new on("Platform ID"),Mu=new on("appBootstrapListener");let Uu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const ju=new on("LocaleId"),qu=new on("DefaultCurrencyCode");class Vu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Bu=function(t){return new ru(t)},zu=Bu,Hu=function(t){return Promise.resolve(Bu(t))},Gu=function(t){const e=Bu(t),n=Ir(ct(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new Xa(n)),t},[]);return new Vu(e,n)},$u=Gu,Zu=function(t){return Promise.resolve(Gu(t))};let Wu=(()=>{class t{constructor(){this.compileModuleSync=zu,this.compileModuleAsync=Hu,this.compileModuleAndAllComponentsSync=$u,this.compileModuleAndAllComponentsAsync=Zu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const Yu=(()=>Promise.resolve(0))();function Qu(t){"undefined"==typeof Zone?Yu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ku{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lu(!1),this.onMicrotaskEmpty=new lu(!1),this.onStable=new lu(!1),this.onError=new lu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tc(t),t.isCheckStableRunning=!0,Xu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ec(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),nc(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return ec(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),nc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,tc(t),Xu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ku.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ku.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ju,na,na);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ju={};function Xu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ec(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nc(t){t._nesting--,Xu(t)}class rc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lu,this.onMicrotaskEmpty=new lu,this.onStable=new lu,this.onError=new lu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ic=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ku.assertNotInAngularZone(),Qu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Sn(Ku))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})(),sc=(()=>{class t{constructor(){this._applications=new Map,cc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return cc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();class oc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ac(t){cc=t}let uc,cc=new oc,lc=!0,hc=!1;function fc(){return hc=!0,lc}function dc(){if(hc)throw new Error("Cannot enable prod mode after platform setup.");lc=!1}const pc=new on("AllowMultipleToken");class gc{constructor(t,e){this.name=t,this.token=e}}function mc(t,e,n=[]){const r=`Platform: ${e}`,i=new on(r);return(e=[])=>{let s=yc();if(!s||s.injector.get(pc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ps,useValue:"platform"});!function(t){if(uc&&!uc.destroyed&&!uc.injector.get(pc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");uc=t.get(vc);const e=t.get(Pu,null);e&&e.forEach(t=>t())}(ks.create({providers:t,name:r}))}return function(t){const e=yc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function yc(){return uc&&!uc.destroyed?uc:null}let vc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new rc:("zone.js"===t?void 0:t)||new Ku({enableLongStackTrace:fc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Ku,useValue:n}];return n.run(()=>{const e=ks.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Cr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{_c(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Js(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Du);return t.runInitializers(),t.donePromise.then(()=>(Ho(i.injector.get(ju,Bo)||Bo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=wc({},e);return function(t,e,n){const r=new ru(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(bc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Sn(ks))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function wc(t,e){return Array.isArray(e)?e.reduce(wc,t):Object.assign(Object.assign({},t),e)}let bc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ku.assertNotInAngularZone(),Qu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe(t=>{return(0,u.x)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.N);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Xo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(qa),i=n.create(ks.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(ic,null),a=o&&i.injector.get(sc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),_c(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;_c(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Mu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Sn(Ku),Sn(ks),Sn(Cr),Sn(ea),Sn(Du))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function _c(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xc{}class Tc{}const Sc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ec=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Sc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Cc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Cc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Sn(Wu),Sn(Tc,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function Cc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const kc=function(t){return null},Ac=mc(null,"core",[{provide:Fu,useValue:"unknown"},{provide:vc,deps:[ks]},{provide:sc,deps:[]},{provide:Uu,deps:[]}]),Ic=[{provide:bc,useClass:bc,deps:[Ku,ks,Cr,ea,Du]},{provide:Ja,deps:[Ku],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Du,useClass:Du,deps:[[new An,Ou]]},{provide:Wu,useClass:Wu,deps:[]},Lu,{provide:Sa,useFactory:function(){return La},deps:[]},{provide:Ca,useFactory:function(){return Ra},deps:[]},{provide:ju,useFactory:function(t){return Ho(t=t||"undefined"!=typeof $localize&&$localize.locale||Bo),t},deps:[[new kn(ju),new An,new In]]},{provide:qu,useValue:"USD"}];let Oc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Sn(bc))},t.\u0275mod=rt({type:t}),t.\u0275inj=T({providers:Ic}),t})()},2346:(t,e,n)=>{"use strict";n.d(e,{hO:()=>C,xv:()=>w,Dh:()=>v,HU:()=>d,GT:()=>y,sI:()=>S,on:()=>_,ss:()=>p,pX:()=>m,yq:()=>x});var r=n(8489),i=n(8569),s=n(6599),o=n(4187),a=n(9098),u=n(7368),c=n(1858);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,s.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,o.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),w=new u.OlP("angularfire2.app.nameOrConfig"),b=new u.GfV("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&T("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const x=()=>{T("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},T=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&T("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:_,deps:[v,u.R0b,[new u.FiY,w]]};let C=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",b.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:w,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[E]}),t})()},1062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,s=n(4762),o=n(250),a=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,o.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,o.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,o.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&(0,o.ZB)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,s.pi)((0,s.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,o.ZB)(e,t)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,o.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var w=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),w.apply(void 0,t)};var b=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.28",void 0),t.registerVersion("fire-js","")}(b);const _=b},5119:(t,e,n)=>{"use strict";n.d(e,{wA:()=>s,H0:()=>u});var r=n(4762),i=n(250),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},308:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,{in:()=>o,Yd:()=>h,Ub:()=>f,Am:()=>d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},250:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>b,r3:()=>T,Sg:()=>u,ne:()=>S,p$:()=>s,ZB:()=>o,m9:()=>k,z$:()=>c,jU:()=>f,ru:()=>d,d:()=>g,w1:()=>m,uI:()=>l,UG:()=>h,b$:()=>p,G6:()=>v,Mn:()=>y});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}function v(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var w=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return(0,r.ZT)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?_(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new w(i,a,r);return u},t}();function _(t,e){return t.replace(x,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var x=/\{\$([^}]+)}/g;function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new E(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),s=1518500249):(i=a^u^c,s=1859775393):r<60?(i=a&u|c&(a|u),s=2400959708):(i=a^u^c,s=3395469782);var h=(o<<5|o>>>27)+i+l+s+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function k(t){return t&&t._delegate?t._delegate:t}},1858:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(1062),i="8.8.0";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(6673),i=n(5331),s=n(7498),o=n(6197),a=n(3392),u=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(s.c)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var r=n(1484),i=n(4294);const s={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),s=n(7570),o=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(7570);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(5024),i=n(7498),s=n(7570),o=n(5331),a=n(1484),u=n(4294);class c extends s.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(8470),i=n(2056),s=n(5024);const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>o,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),s=n(6015);class o extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,s.s)(t)(e)}catch(r){e.error(r)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),s=n(7570),o=n(1564);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}refCount(){return(0,o.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>s});var r=n(8318);const i=new r.y(t=>t.complete());function s(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(8318),i=n(6015),s=n(7570),o=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>{const i=t[o.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>o});var r=n(8318),i=n(625),s=n(2570);function o(t,e){return e?(0,s.r)(t,e):new r.y((0,i.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(8318),i=n(6163),s=n(7471),o=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,s.J)(e)((0,o.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>o});var r=n(6163),i=n(9342),s=n(2570);function o(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,s.r)(t,e)):(0,i.n)(t)}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>s});var r=n(3982),i=n(3392);function s(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>(0,i.D)(t(n,s)).pipe((0,r.U)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.IY(this),n=this.destination;n.add(e);const r=(0,s.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9098:(t,e,n)=>{"use strict";n.d(e,{ht:()=>l,QV:()=>u});var r=n(6673),i=n(653),s=n(878),o=n(8318);let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return t=this.error,new o.y(e=>e.error(t));case"C":return(0,i.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(6673);function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},4187:(t,e,n)=>{"use strict";n.d(e,{R:()=>m});var r=n(8318);let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(8277);class l extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class f extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n(8470);class g extends r.y{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,((0,p.k)(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},6599:(t,e,n)=>{"use strict";n.d(e,{b:()=>o});var r=n(6673);function i(){}var s=n(5024);function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var r=n(8318),i=n(7570);function s(t,e){return new r.y(n=>{const r=new i.w;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>s});var r=n(7570);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8569:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>s});var r=n(8277);const i=new(n(1098).v)(r.o),s=i},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n(1098);class o extends s.v{}const a=new o(i),u=a},5686:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});const i=r()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},3392:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},2056:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},5168:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},6163:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(625),i=n(4294),s=n(5686),o=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=t=>{if(t&&"function"==typeof t[o.L])return l=t,t=>{const e=l[o.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[s.hZ])return e=t,t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},2501:function(t){t.exports=function(){"use strict";const t=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),e="SweetAlert2:",n=t=>t.charAt(0).toUpperCase()+t.slice(1),r=t=>Array.prototype.slice.call(t),i=t=>{console.warn("".concat(e," ").concat("object"==typeof t?t.join(" "):t))},s=t=>{console.error("".concat(e," ").concat(t))},o=[],a=t=>"function"==typeof t?t():t,u=t=>t&&"function"==typeof t.toPromise,c=t=>u(t)?t.toPromise():Promise.resolve(t),l=t=>t&&Promise.resolve(t)===t,h=t=>t instanceof Element||(t=>"object"==typeof t&&t.jquery)(t),f=t=>{const e={};for(const n in t)e[t[n]]="swal2-"+t[n];return e},d=f(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),p=f(["success","warning","info","question","error"]),g=()=>document.body.querySelector(".".concat(d.container)),m=t=>{const e=g();return e?e.querySelector(t):null},y=t=>m(".".concat(t)),v=()=>y(d.popup),w=()=>y(d.icon),b=()=>y(d.title),_=()=>y(d["html-container"]),x=()=>y(d.image),T=()=>y(d["progress-steps"]),S=()=>y(d["validation-message"]),E=()=>m(".".concat(d.actions," .").concat(d.confirm)),C=()=>m(".".concat(d.actions," .").concat(d.deny)),k=()=>m(".".concat(d.loader)),A=()=>m(".".concat(d.actions," .").concat(d.cancel)),I=()=>y(d.actions),O=()=>y(d.footer),D=()=>y(d["timer-progress-bar"]),N=()=>y(d.close),L=()=>{const t=r(v().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((t,e)=>(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0),e=r(v().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(t=>"-1"!==t.getAttribute("tabindex"));return(t=>{const e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e})(t.concat(e)).filter(t=>K(t))},R=()=>!P()&&!document.body.classList.contains(d["no-backdrop"]),P=()=>document.body.classList.contains(d["toast-shown"]),F={previousBodyPadding:null},M=(t,e)=>{if(t.textContent="",e){const n=(new DOMParser).parseFromString(e,"text/html");r(n.querySelector("head").childNodes).forEach(e=>{t.appendChild(e)}),r(n.querySelector("body").childNodes).forEach(e=>{t.appendChild(e)})}},U=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},j=(t,e,n)=>{if(((t,e)=>{r(t.classList).forEach(n=>{Object.values(d).includes(n)||Object.values(p).includes(n)||Object.values(e.showClass).includes(n)||t.classList.remove(n)})})(t,e),e.customClass&&e.customClass[n]){if("string"!=typeof e.customClass[n]&&!e.customClass[n].forEach)return i("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof e.customClass[n],'"'));z(t,e.customClass[n])}},q=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return G(t,d[e]);case"checkbox":return t.querySelector(".".concat(d.checkbox," input"));case"radio":return t.querySelector(".".concat(d.radio," input:checked"))||t.querySelector(".".concat(d.radio," input:first-child"));case"range":return t.querySelector(".".concat(d.range," input"));default:return G(t,d.input)}},V=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},B=(t,e,n)=>{t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(e=>{t.forEach?t.forEach(t=>{n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},z=(t,e)=>{B(t,e,!0)},H=(t,e)=>{B(t,e,!1)},G=(t,e)=>{for(let n=0;n<t.childNodes.length;n++)if(U(t.childNodes[n],e))return t.childNodes[n]},$=(t,e,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},Z=(t,e="flex")=>{t.style.display=e},W=t=>{t.style.display="none"},Y=(t,e,n,r)=>{const i=t.querySelector(e);i&&(i.style[n]=r)},Q=(t,e,n)=>{e?Z(t,n):W(t)},K=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),J=t=>!!(t.scrollHeight>t.clientHeight),X=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},tt=(t,e=!1)=>{const n=D();K(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"},10))},et=()=>"undefined"==typeof window||"undefined"==typeof document,nt='\n <div aria-labelledby="'.concat(d.title,'" aria-describedby="').concat(d["html-container"],'" class="').concat(d.popup,'" tabindex="-1">\n   <button type="button" class="').concat(d.close,'"></button>\n   <ul class="').concat(d["progress-steps"],'"></ul>\n   <div class="').concat(d.icon,'"></div>\n   <img class="').concat(d.image,'" />\n   <h2 class="').concat(d.title,'" id="').concat(d.title,'"></h2>\n   <div class="').concat(d["html-container"],'" id="').concat(d["html-container"],'"></div>\n   <input class="').concat(d.input,'" />\n   <input type="file" class="').concat(d.file,'" />\n   <div class="').concat(d.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(d.select,'"></select>\n   <div class="').concat(d.radio,'"></div>\n   <label for="').concat(d.checkbox,'" class="').concat(d.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(d.label,'"></span>\n   </label>\n   <textarea class="').concat(d.textarea,'"></textarea>\n   <div class="').concat(d["validation-message"],'" id="').concat(d["validation-message"],'"></div>\n   <div class="').concat(d.actions,'">\n     <div class="').concat(d.loader,'"></div>\n     <button type="button" class="').concat(d.confirm,'"></button>\n     <button type="button" class="').concat(d.deny,'"></button>\n     <button type="button" class="').concat(d.cancel,'"></button>\n   </div>\n   <div class="').concat(d.footer,'"></div>\n   <div class="').concat(d["timer-progress-bar-container"],'">\n     <div class="').concat(d["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),rt=()=>{Fe.isVisible()&&Fe.resetValidationMessage()},it=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?st(t,e):t&&M(e,t)},st=(t,e)=>{t.jquery?ot(e,t):M(e,t.toString())},ot=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},at=(()=>{if(et())return!1;const t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1})();function ut(t,e,r){Q(t,r["show".concat(n(e),"Button")],"inline-block"),M(t,r["".concat(e,"ButtonText")]),t.setAttribute("aria-label",r["".concat(e,"ButtonAriaLabel")]),t.className=d[e],j(t,r,"".concat(e,"Button")),z(t,r["".concat(e,"ButtonClass")])}var ct={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const lt=["input","file","range","select","radio","checkbox","textarea"],ht=(t,e)=>{t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},ft=(t,e,n)=>{if(n.inputLabel){t.id=d.input;const r=document.createElement("label"),i=d["input-label"];r.setAttribute("for",t.id),r.className=i,z(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},dt=t=>{const e=d[t]?d[t]:d.input;return G(v(),e)},pt={};pt.text=pt.email=pt.password=pt.number=pt.tel=pt.url=(t,e)=>("string"==typeof e.inputValue||"number"==typeof e.inputValue?t.value=e.inputValue:l(e.inputValue)||i('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof e.inputValue,'"')),ft(t,t,e),ht(t,e),t.type=e.input,t),pt.file=(t,e)=>(ft(t,t,e),ht(t,e),t),pt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,ft(n,t,e),t},pt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");M(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return ft(t,t,e),t},pt.radio=t=>(t.textContent="",t),pt.checkbox=(t,e)=>{const n=q(v(),"checkbox");n.value=1,n.id=d.checkbox,n.checked=Boolean(e.inputValue);const r=t.querySelector("span");return M(r,e.inputPlaceholder),t},pt.textarea=(t,e)=>(t.value=e.inputValue,ht(t,e),ft(t,t,e),setTimeout(()=>{if("MutationObserver"in window){const e=parseInt(window.getComputedStyle(v()).width);new MutationObserver(()=>{const n=t.offsetWidth+(r=t,parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight));var r;v().style.width=n>e?"".concat(n,"px"):null}).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t);const gt=(t,e)=>{const n=_();j(n,e,"htmlContainer"),e.html?(it(e.html,n),Z(n,"block")):e.text?(n.textContent=e.text,Z(n,"block")):W(n),((t,e)=>{const n=v(),r=ct.innerParams.get(t),i=!r||e.input!==r.input;lt.forEach(t=>{const r=d[t],s=G(n,r);((t,e)=>{const n=q(v(),t);if(n){(t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}})(n);for(const t in e)n.setAttribute(t,e[t])}})(t,e.inputAttributes),s.className=r,i&&W(s)}),e.input&&(i&&(t=>{if(!pt[t.input])return s('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));const e=dt(t.input),n=pt[t.input](e,t);Z(n),setTimeout(()=>{V(n)})})(e),(t=>{const e=dt(t.input);t.customClass&&z(e,t.customClass.input)})(e))})(t,e)},mt=(t,e)=>{for(const n in p)e.icon!==n&&H(t,p[n]);z(t,p[e.icon]),wt(t,e),yt(),j(t,e,"icon")},yt=()=>{const t=v(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},vt=(t,e)=>{t.textContent="",M(t,e.iconHtml?bt(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':bt({question:"?",warning:"!",info:"i"}[e.icon]))},wt=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Y(t,n,"backgroundColor",e.iconColor);Y(t,".swal2-success-ring","borderColor",e.iconColor)}},bt=t=>'<div class="'.concat(d["icon-content"],'">').concat(t,"</div>"),_t=(t,e)=>{((t,e)=>{const n=g(),r=v();e.toast?($(n,"width",e.width),r.style.width="100%",r.insertBefore(k(),w())):$(r,"width",e.width),$(r,"padding",e.padding),e.background&&(r.style.background=e.background),W(S()),((t,e)=>{t.className="".concat(d.popup," ").concat(K(t)?e.showClass.popup:""),e.toast?(z([document.documentElement,document.body],d["toast-shown"]),z(t,d.toast)):z(t,d.modal),j(t,e,"popup"),"string"==typeof e.customClass&&z(t,e.customClass),e.icon&&z(t,d["icon-".concat(e.icon)])})(r,e)})(0,e),((t,e)=>{const n=g();n&&(function(t,e){"string"==typeof e?t.style.background=e:e||z([document.documentElement,document.body],d["no-backdrop"])}(n,e.backdrop),function(t,e){e in d?z(t,d[e]):(i('The "position" parameter is not valid, defaulting to "center"'),z(t,d.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){const n="grow-".concat(e);n in d&&z(t,d[n])}}(n,e.grow),j(n,e,"container"))})(0,e),((t,e)=>{const n=T();if(!e.progressSteps||0===e.progressSteps.length)return W(n);Z(n),n.textContent="",e.currentProgressStep>=e.progressSteps.length&&i("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((t,r)=>{const i=(t=>{const e=document.createElement("li");return z(e,d["progress-step"]),M(e,t),e})(t);if(n.appendChild(i),r===e.currentProgressStep&&z(i,d["active-progress-step"]),r!==e.progressSteps.length-1){const t=(t=>{const e=document.createElement("li");return z(e,d["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e})(e);n.appendChild(t)}})})(0,e),((t,e)=>{const n=ct.innerParams.get(t),r=w();n&&e.icon===n.icon?(vt(r,e),mt(r,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(p).indexOf(e.icon)?(s('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),W(r)):(Z(r),vt(r,e),mt(r,e),z(r,e.showClass.icon)):W(r)})(t,e),((t,e)=>{const n=x();if(!e.imageUrl)return W(n);Z(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),$(n,"width",e.imageWidth),$(n,"height",e.imageHeight),n.className=d.image,j(n,e,"image")})(0,e),((t,e)=>{const n=b();Q(n,e.title||e.titleText,"block"),e.title&&it(e.title,n),e.titleText&&(n.innerText=e.titleText),j(n,e,"title")})(0,e),((t,e)=>{const n=N();M(n,e.closeButtonHtml),j(n,e,"closeButton"),Q(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)})(0,e),gt(t,e),((t,e)=>{const n=I(),r=k(),i=E(),s=C(),o=A();e.showConfirmButton||e.showDenyButton||e.showCancelButton||W(n),j(n,e,"actions"),ut(i,"confirm",e),ut(s,"deny",e),ut(o,"cancel",e),function(t,e,n,r){if(!r.buttonsStyling)return H([t,e,n],d.styled);z([t,e,n],d.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,z(t,d["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,z(e,d["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,z(n,d["default-outline"]))}(i,s,o,e),e.reverseButtons&&(n.insertBefore(o,r),n.insertBefore(s,r),n.insertBefore(i,r)),M(r,e.loaderHtml),j(r,e,"loader")})(0,e),((t,e)=>{const n=O();Q(n,e.footer),e.footer&&it(e.footer,n),j(n,e,"footer")})(0,e),"function"==typeof e.didRender&&e.didRender(v())},xt=()=>E()&&E().click(),Tt=t=>{let e=v();e||Fe.fire(),e=v();const n=k();P()?W(w()):St(e,t),Z(n),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},St=(t,e)=>{const n=I(),r=k();!e&&K(E())&&(e=E()),Z(n),e&&(W(e),r.setAttribute("data-button-to-replace",e.className)),r.parentNode.insertBefore(r,e),z([t,n],d.loading)},Et={},Ct=()=>{if(Et.timeout)return(()=>{const t=D(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")})(),Et.timeout.stop()},kt=()=>{if(Et.timeout){const t=Et.timeout.start();return tt(t),t}};let At=!1;const It={},Ot=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in It){const n=e.getAttribute(t);if(n)return void It[t].fire({template:n})}},Dt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Nt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Lt={},Rt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Pt=t=>Object.prototype.hasOwnProperty.call(Dt,t),Ft=t=>Lt[t],Mt=t=>{Pt(t)||i('Unknown parameter "'.concat(t,'"'))},Ut=t=>{Rt.includes(t)&&i('The parameter "'.concat(t,'" is incompatible with toasts'))},jt=t=>{var e,n,r;Ft(t)&&(e=t,n=Ft(t),r='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),o.includes(r)||(o.push(r),i(r)))};var qt=Object.freeze({isValidParameter:Pt,isUpdatableParameter:t=>-1!==Nt.indexOf(t),isDeprecatedParameter:Ft,argsToParams:t=>{const e={};return"object"!=typeof t[0]||h(t[0])?["title","html","icon"].forEach((n,r)=>{const i=t[r];"string"==typeof i||h(i)?e[n]=i:void 0!==i&&s("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))}):Object.assign(e,t[0]),e},isVisible:()=>K(v()),clickConfirm:xt,clickDeny:()=>C()&&C().click(),clickCancel:()=>A()&&A().click(),getContainer:g,getPopup:v,getTitle:b,getHtmlContainer:_,getImage:x,getIcon:w,getInputLabel:()=>y(d["input-label"]),getCloseButton:N,getActions:I,getConfirmButton:E,getDenyButton:C,getCancelButton:A,getLoader:k,getFooter:O,getTimerProgressBar:D,getFocusableElements:L,getValidationMessage:S,isLoading:()=>v().hasAttribute("data-loading"),fire:function(...t){return new this(...t)},mixin:function(t){return class extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}},showLoading:Tt,enableLoading:Tt,getTimerLeft:()=>Et.timeout&&Et.timeout.getTimerLeft(),stopTimer:Ct,resumeTimer:kt,toggleTimer:()=>{const t=Et.timeout;return t&&(t.running?Ct():kt())},increaseTimer:t=>{if(Et.timeout){const e=Et.timeout.increase(t);return tt(e,!0),e}},isTimerRunning:()=>Et.timeout&&Et.timeout.isRunning(),bindClickHandler:function(t="data-swal-template"){It[t]=this,At||(document.body.addEventListener("click",Ot),At=!0)}});function Vt(){const t=ct.innerParams.get(this);if(!t)return;const e=ct.domCache.get(this);W(e.loader),P()?t.icon&&Z(w()):Bt(e),H([e.popup,e.actions],d.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Bt=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Z(e[0],"inline-block"):!K(E())&&!K(C())&&!K(A())&&W(t.actions)},zt=t=>{const e=t.target,n=g();return!(Ht(t)||Gt(t)||e!==n&&(J(n)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||J(_())&&_().contains(e)))},Ht=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,Gt=t=>t.touches&&t.touches.length>1;var $t={swalPromiseResolve:new WeakMap};function Zt(t,e,n,i){P()?Jt(t,i):((t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Et.restoreFocusTimeout=setTimeout(()=>{Et.previousActiveElement&&Et.previousActiveElement.focus?(Et.previousActiveElement.focus(),Et.previousActiveElement=null):document.body&&document.body.focus(),e()},100),window.scrollTo(n,r)}))(n).then(()=>Jt(t,i)),Et.keydownTarget.removeEventListener("keydown",Et.keydownHandler,{capture:Et.keydownListenerCapture}),Et.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),R()&&(null!==F.previousBodyPadding&&(document.body.style.paddingRight="".concat(F.previousBodyPadding,"px"),F.previousBodyPadding=null),(()=>{if(U(document.body,d.iosfix)){const t=parseInt(document.body.style.top,10);H(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}})(),r(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})),H([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function Wt(t){const e=v();if(!e)return;t=Yt(t);const n=ct.innerParams.get(this);if(!n||U(e,n.hideClass.popup))return;const r=$t.swalPromiseResolve.get(this);H(e,n.showClass.popup),z(e,n.hideClass.popup);const i=g();H(i,n.showClass.backdrop),z(i,n.hideClass.backdrop),Qt(this,e,n),r(t)}const Yt=t=>void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Qt=(t,e,n)=>{const r=g(),i=at&&X(e);"function"==typeof n.willClose&&n.willClose(e),i?Kt(t,e,r,n.returnFocus,n.didClose):Zt(t,r,n.returnFocus,n.didClose)},Kt=(t,e,n,r,i)=>{Et.swalCloseEventFinishedCallback=Zt.bind(null,t,n,r,i),e.addEventListener(at,function(t){t.target===e&&(Et.swalCloseEventFinishedCallback(),delete Et.swalCloseEventFinishedCallback)})},Jt=(t,e)=>{setTimeout(()=>{"function"==typeof e&&e.bind(t.params)(),t._destroy()})};function Xt(t,e,n){const r=ct.domCache.get(t);e.forEach(t=>{r[t].disabled=n})}function te(t,e){if(!t)return!1;if("radio"===t.type){const n=t.parentNode.parentNode.querySelectorAll("input");for(let t=0;t<n.length;t++)n[t].disabled=e}else t.disabled=e}class ee{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var ne={email:(t,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function re(t){(function(t){t.inputValidator||Object.keys(ne).forEach(e=>{t.input===e&&(t.inputValidator=ne[e])})})(t),t.showLoaderOnConfirm&&!t.preConfirm&&i("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(i('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),(t=>{const e=(()=>{const t=g();return!!t&&(t.remove(),H([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0)})();if(et())return void s("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=d.container,e&&z(n,d["no-transition"]),M(n,nt);const r="string"==typeof(i=t.target)?document.querySelector(i):i;var i;r.appendChild(n),(t=>{const e=v();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")})(t),(t=>{"rtl"===window.getComputedStyle(t).direction&&z(g(),d.rtl)})(r),(()=>{const t=v(),e=G(t,d.input),n=G(t,d.file),r=t.querySelector(".".concat(d.range," input")),i=t.querySelector(".".concat(d.range," output")),s=G(t,d.select),o=t.querySelector(".".concat(d.checkbox," input")),a=G(t,d.textarea);e.oninput=rt,n.onchange=rt,s.onchange=rt,o.onchange=rt,a.oninput=rt,r.oninput=()=>{rt(),i.value=r.value},r.onchange=()=>{rt(),r.nextSibling.value=r.value}})()})(t)}const ie=["swal-title","swal-html","swal-footer"],se=(t,e)=>{r(t.attributes).forEach(n=>{-1===e.indexOf(n.name)&&i(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])})},oe=t=>{const e=v();if(t.target!==e)return;const n=g();e.removeEventListener(at,oe),n.style.overflowY="auto"},ae=(t,e)=>{at&&X(e)?(t.style.overflowY="hidden",e.addEventListener(at,oe)):t.style.overflowY="auto"},ue=(t,e,n)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!U(document.body,d.iosfix)){const t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),z(document.body,d.iosfix),(()=>{const t=g();let e;t.ontouchstart=t=>{e=zt(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}})(),(()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const t=44;v().scrollHeight>window.innerHeight-t&&(g().style.paddingBottom="".concat(t,"px"))}})()}})(),e&&"hidden"!==n&&(null===F.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(F.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(F.previousBodyPadding+(()=>{const t=document.createElement("div");t.className=d["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e})(),"px"))),setTimeout(()=>{t.scrollTop=0})},ce=(t,e,n)=>{z(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),Z(e,"grid"),setTimeout(()=>{z(e,n.showClass.popup),e.style.removeProperty("opacity")},10),z([document.documentElement,document.body],d.shown),n.heightAuto&&n.backdrop&&!n.toast&&z([document.documentElement,document.body],d["height-auto"])},le={select:(t,e,n)=>{const r=G(t,d.select),i=(t,e,r)=>{const i=document.createElement("option");i.value=r,M(i,e),i.selected=fe(r,n.inputValue),t.appendChild(i)};e.forEach(t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,r.appendChild(t),n.forEach(e=>i(t,e[1],e[0]))}else i(r,n,e)}),r.focus()},radio:(t,e,n)=>{const r=G(t,d.radio);e.forEach(t=>{const e=t[0],i=t[1],s=document.createElement("input"),o=document.createElement("label");s.type="radio",s.name=d.radio,s.value=e,fe(e,n.inputValue)&&(s.checked=!0);const a=document.createElement("span");M(a,i),a.className=d.label,o.appendChild(s),o.appendChild(a),r.appendChild(o)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}},he=t=>{const e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((t,n)=>{let r=t;"object"==typeof r&&(r=he(r)),e.push([n,r])}):Object.keys(t).forEach(n=>{let r=t[n];"object"==typeof r&&(r=he(r)),e.push([n,r])}),e},fe=(t,e)=>e&&e.toString()===t.toString(),de=(t,e,n)=>{const r=((t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return(t=>t.checked?1:0)(n);case"radio":return(t=>t.checked?t.value:null)(n);case"file":return(t=>t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null)(n);default:return e.inputAutoTrim?n.value.trim():n.value}})(t,e);e.inputValidator?pe(t,e,r,n):t.getInput().checkValidity()?"deny"===n?ge(t,e,r):ye(t,e,r):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},pe=(t,e,n,r)=>{t.disableInput(),Promise.resolve().then(()=>c(e.inputValidator(n,e.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):"deny"===r?ge(t,e,n):ye(t,e,n)})},ge=(t,e,n)=>{e.showLoaderOnDeny&&Tt(C()),e.preDeny?Promise.resolve().then(()=>c(e.preDeny(n,e.validationMessage))).then(e=>{!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===e?n:e})}):t.closePopup({isDenied:!0,value:n})},me=(t,e)=>{t.closePopup({isConfirmed:!0,value:e})},ye=(t,e,n)=>{e.showLoaderOnConfirm&&Tt(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then(()=>c(e.preConfirm(n,e.validationMessage))).then(e=>{K(S())||!1===e?t.hideLoading():me(t,void 0===e?n:e)})):me(t,n)},ve=(t,e,n)=>{const r=L();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();v().focus()},we=["ArrowRight","ArrowDown"],be=["ArrowLeft","ArrowUp"],_e=(t,e,n)=>{if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;xt(),e.preventDefault()}},xe=(t,e)=>{const n=t.target,r=L();let i=-1;for(let s=0;s<r.length;s++)if(n===r[s]){i=s;break}ve(0,i,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()},Te=t=>{if(![E(),C(),A()].includes(document.activeElement))return;const e=we.includes(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()},Se=(e,n,r)=>{a(n.allowEscapeKey)&&(e.preventDefault(),r(t.esc))};let Ee=!1;const Ce=(t,e)=>{const s=(t=>{const e="string"==typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};const s=e.content;return(t=>{const e=ie.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);r(t.children).forEach(t=>{const n=t.tagName.toLowerCase();-1===e.indexOf(n)&&i("Unrecognized element <".concat(n,">"))})})(s),Object.assign((t=>{const e={};return r(t.querySelectorAll("swal-param")).forEach(t=>{se(t,["name","value"]);const n=t.getAttribute("name");let r=t.getAttribute("value");"boolean"==typeof Dt[n]&&"false"===r&&(r=!1),"object"==typeof Dt[n]&&(r=JSON.parse(r)),e[n]=r}),e})(s),(t=>{const e={};return r(t.querySelectorAll("swal-button")).forEach(t=>{se(t,["type","color","aria-label"]);const r=t.getAttribute("type");e["".concat(r,"ButtonText")]=t.innerHTML,e["show".concat(n(r),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(r,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(r,"ButtonAriaLabel")]=t.getAttribute("aria-label"))}),e})(s),(t=>{const e={},n=t.querySelector("swal-image");return n&&(se(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e})(s),(t=>{const e={},n=t.querySelector("swal-icon");return n&&(se(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e})(s),(t=>{const e={},n=t.querySelector("swal-input");n&&(se(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=t.querySelectorAll("swal-input-option");return i.length&&(e.inputOptions={},r(i).forEach(t=>{se(t,["value"]);const n=t.getAttribute("value");e.inputOptions[n]=t.innerHTML})),e})(s),((t,e)=>{const n={};for(const r in e){const i=e[r],s=t.querySelector(i);s&&(se(s,[]),n[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return n})(s,ie))})(t),o=Object.assign({},Dt,e,s,t);return o.showClass=Object.assign({},Dt.showClass,o.showClass),o.hideClass=Object.assign({},Dt.hideClass,o.hideClass),o},ke=(e,n,i)=>new Promise(o=>{const h=t=>{e.closePopup({isDismissed:!0,dismiss:t})};$t.swalPromiseResolve.set(e,o),n.confirmButton.onclick=()=>((t,e)=>{t.disableButtons(),e.input?de(t,e,"confirm"):ye(t,e,!0)})(e,i),n.denyButton.onclick=()=>((t,e)=>{t.disableButtons(),e.returnInputValueOnDeny?de(t,e,"deny"):ge(t,e,!1)})(e,i),n.cancelButton.onclick=()=>((e,n)=>{e.disableButtons(),n(t.cancel)})(e,h),n.closeButton.onclick=()=>h(t.close),((e,n,r)=>{ct.innerParams.get(e).toast?((e,n,r)=>{n.popup.onclick=()=>{const n=ct.innerParams.get(e);n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton||n.timer||n.input||r(t.close)}})(e,n,r):((t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(Ee=!0)}}})(n),(t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(Ee=!0)}}})(n),((e,n,r)=>{n.container.onclick=i=>{const s=ct.innerParams.get(e);Ee?Ee=!1:i.target===n.container&&a(s.allowOutsideClick)&&r(t.backdrop)}})(e,n,r))})(e,n,h),((t,e,n,r)=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=e=>((t,e,n)=>{const r=ct.innerParams.get(t);r&&(r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?_e(t,e,r):"Tab"===e.key?xe(e,r):[...we,...be].includes(e.key)?Te(e.key):"Escape"===e.key&&Se(e,r,n))})(t,e,r),e.keydownTarget=n.keydownListenerCapture?window:v(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)})(e,Et,i,h),((t,e)=>{"select"===e.input||"radio"===e.input?((t,e)=>{const n=v(),r=t=>le[e.input](n,he(t),e);u(e.inputOptions)||l(e.inputOptions)?(Tt(E()),c(e.inputOptions).then(e=>{t.hideLoading(),r(e)})):"object"==typeof e.inputOptions?r(e.inputOptions):s("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof e.inputOptions))})(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(u(e.inputValue)||l(e.inputValue))&&(Tt(E()),((t,e)=>{const n=t.getInput();W(n),c(e.inputValue).then(r=>{n.value="number"===e.input?parseFloat(r)||0:"".concat(r),Z(n),n.focus(),t.hideLoading()}).catch(e=>{s("Error in inputValue promise: ".concat(e)),n.value="",Z(n),n.focus(),t.hideLoading()})})(t,e))})(e,i),(t=>{const e=g(),n=v();"function"==typeof t.willOpen&&t.willOpen(n);const i=window.getComputedStyle(document.body).overflowY;ce(e,n,t),setTimeout(()=>{ae(e,n)},10),R()&&(ue(e,t.scrollbarPadding,i),r(document.body.children).forEach(t=>{t===g()||t.contains(g())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),P()||Et.previousActiveElement||(Et.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout(()=>t.didOpen(n)),H(e,d["no-transition"])})(i),Ae(Et,i,h),Ie(n,i),setTimeout(()=>{n.container.scrollTop=0})}),Ae=(t,e,n)=>{const r=D();W(r),e.timer&&(t.timeout=new ee(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Z(r),setTimeout(()=>{t.timeout&&t.timeout.running&&tt(e.timer)})))},Ie=(t,e)=>{if(!e.toast)return a(e.allowEnterKey)?void(Oe(t,e)||ve(0,-1,1)):De()},Oe=(t,e)=>e.focusDeny&&K(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&K(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!K(t.confirmButton)||(t.confirmButton.focus(),0)),De=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Ne=t=>{for(const e in t)t[e]=new WeakMap};var Le=Object.freeze({hideLoading:Vt,disableLoading:Vt,getInput:function(t){const e=ct.innerParams.get(t||this),n=ct.domCache.get(t||this);return n?q(n.popup,e.input):null},close:Wt,closePopup:Wt,closeModal:Wt,closeToast:Wt,enableButtons:function(){Xt(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){Xt(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return te(this.getInput(),!1)},disableInput:function(){return te(this.getInput(),!0)},showValidationMessage:function(t){const e=ct.domCache.get(this),n=ct.innerParams.get(this);M(e.validationMessage,t),e.validationMessage.className=d["validation-message"],n.customClass&&n.customClass.validationMessage&&z(e.validationMessage,n.customClass.validationMessage),Z(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",d["validation-message"]),V(r),z(r,d.inputerror))},resetValidationMessage:function(){const t=ct.domCache.get(this);t.validationMessage&&W(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),H(e,d.inputerror))},getProgressSteps:function(){return ct.domCache.get(this).progressSteps},_main:function(t,e={}){(t=>{!t.backdrop&&t.allowOutsideClick&&i('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)Mt(e),t.toast&&Ut(e),jt(e)})(Object.assign({},e,t)),Et.currentInstance&&Et.currentInstance._destroy(),Et.currentInstance=this;const n=Ce(t,e);re(n),Object.freeze(n),Et.timeout&&(Et.timeout.stop(),delete Et.timeout),clearTimeout(Et.restoreFocusTimeout);const r=(t=>{const e={popup:v(),container:g(),actions:I(),confirmButton:E(),denyButton:C(),cancelButton:A(),loader:k(),closeButton:N(),validationMessage:S(),progressSteps:T()};return ct.domCache.set(t,e),e})(this);return _t(this,n),ct.innerParams.set(this,n),ke(this,r,n)},update:function(t){const e=v(),n=ct.innerParams.get(this);if(!e||U(e,n.hideClass.popup))return i("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const r={};Object.keys(t).forEach(e=>{Fe.isUpdatableParameter(e)?r[e]=t[e]:i('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const s=Object.assign({},n,r);_t(this,s),ct.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){const t=ct.domCache.get(this),e=ct.innerParams.get(this);e&&(t.popup&&Et.swalCloseEventFinishedCallback&&(Et.swalCloseEventFinishedCallback(),delete Et.swalCloseEventFinishedCallback),Et.deferDisposalTimer&&(clearTimeout(Et.deferDisposalTimer),delete Et.deferDisposalTimer),"function"==typeof e.didDestroy&&e.didDestroy(),delete this.params,delete Et.keydownHandler,delete Et.keydownTarget,Ne(ct),Ne($t))}});let Re;class Pe{constructor(...t){if("undefined"==typeof window)return;Re=this;const e=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:e,writable:!1,enumerable:!0,configurable:!0}});const n=this._main(this.params);ct.promise.set(this,n)}then(t){return ct.promise.get(this).then(t)}finally(t){return ct.promise.get(this).finally(t)}}Object.assign(Pe.prototype,Le),Object.assign(Pe,qt),Object.keys(Le).forEach(t=>{Pe[t]=function(...e){if(Re)return Re[t](...e)}}),Pe.DismissReason=t,Pe.version="11.0.20";const Fe=Pe;return Fe.default=Fe,Fe}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9;pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end" "gap gap gap";grid-template-rows:auto auto auto .625em;height:100%;padding:.625em .625em 0;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container::after{content:"";grid-column:1/4;grid-row:4;height:.625em}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},426:(t,e,n)=>{"use strict";var r=n(7368);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l((0,r.LFG)(o))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(o).location;return new w((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let w=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m),r.LFG(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:x,token:t,providedIn:"root"}),t})();function x(){return new _((0,r.LFG)(m),(0,r.LFG)(a))}function T(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const E=r.kL8;class C{}let k=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(E(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class I{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let O=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(Ev){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(t){return t.name||typeof t}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new D(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class D{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new L,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class L{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let P=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),t})(),F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:C,useClass:k}]}),t})();function M(t){return"server"===t}let U=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new j((0,r.LFG)(o),window)}),t})();class j{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(Ev){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ev){return!1}}}function q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class V{}class B extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new B,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(H=H||document.querySelector("base"),H?H.getAttribute("href"):null);return null==e?null:function(t){z=z||document.createElement("a"),z.setAttribute("href",t);const e=z.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return A(document.cookie,t)}}let z,H=null;const G=new r.OlP("TRANSITION_ID"),$=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[G,o,r.zs3],multi:!0}];class Z{static init(){(0,r.VLi)(new Z)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let W=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Y=new r.OlP("EventManagerPlugins");let Q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Y),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class K{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(tt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(tt))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function tt(t){s().remove(t)}const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let st=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ot(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Q),r.LFG(X),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends ot{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends ot{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=rt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ct=(()=>{class t extends K{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends K{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ft.hasOwnProperty(e)&&(e=ft[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(r=>{r!=n&&(0,dt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(yt)},token:t,providedIn:"root"}),t})();function mt(t){return new yt(t.get(o))}let yt=(()=>{class t extends gt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:function(){return mt((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const vt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){B.makeCurrent(),Z.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),wt=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:Y,useClass:ct,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:Y,useClass:pt,multi:!0,deps:[o]},[],{provide:st,useClass:st,deps:[Q,X,r.AFp]},{provide:r.FYo,useExisting:st},{provide:J,useExisting:X},{provide:X,useClass:X,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Q,useClass:Q,deps:[Y,r.R0b]},{provide:V,useClass:W,deps:[]},[]];let bt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:G,useExisting:r.AFp},$]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:wt,imports:[F,r.hGG]}),t})();"undefined"!=typeof window&&window;var _t=n(9764),xt=n(878),Tt=n(5959),St=n(3895);class Et extends Tt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new St.N;return this._value}next(t){super.next(this._value=t)}}var Ct=n(6163),kt=n(8470),At=n(6673);class It extends At.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ot extends At.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Dt=n(6015),Nt=n(8318);function Lt(t,e,n,r,i=new Ot(t,n,r)){if(!i.closed)return e instanceof Nt.y?e.subscribe(i):(0,Dt.s)(e)(i)}var Rt=n(9342);const Pt={};class Ft{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Mt(t,this.resultSelector))}}class Mt extends It{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Lt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Pt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ut=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var jt=n(7471);function qt(...t){return(0,jt.J)(1)((0,xt.of)(...t))}var Vt=n(653);function Bt(t){return new Nt.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,_t.D)(n):(0,Vt.c)()).subscribe(e)})}var zt=n(2875),Ht=n(9996),Gt=n(6882);function $t(t,e){return"function"==typeof e?n=>n.pipe($t((n,r)=>(0,_t.D)(t(n,r)).pipe((0,Ht.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Zt(t))}class Zt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Wt(t,this.project))}}class Wt extends Gt.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Gt.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Gt.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Yt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Qt(t){return e=>0===t?(0,Vt.c)():e.lift(new Kt(t))}class Kt{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new Jt(t,this.total))}}class Jt extends At.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Xt(...t){const e=t[t.length-1];return(0,Ct.K)(e)?(t.pop(),n=>qt(t,n,e)):e=>qt(t,e)}function te(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ee(t,e,n))}}class ee{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ne(t,this.accumulator,this.seed,this.hasSeed))}}class ne extends At.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function re(t,e){return function(n){return n.lift(new ie(t,e))}}class ie{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new se(t,this.predicate,this.thisArg))}}class se extends At.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function oe(t){return function(e){const n=new ae(t),r=e.lift(n);return n.caught=r}}class ae{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ue(t,this.selector,this.caught))}}class ue extends Gt.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Gt.IY(this);this.add(r);const i=(0,Gt.ft)(n,r);i!==r&&this.add(i)}}}var ce=n(3982);function le(t,e){return(0,ce.zg)(t,e,1)}function he(t){return function(e){return 0===t?(0,Vt.c)():e.lift(new fe(t))}}class fe{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new de(t,this.total))}}class de extends At.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function pe(t=ye){return e=>e.lift(new ge(t))}class ge{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new me(t,this.errorFactory))}}class me extends At.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Vw){t=Vw}this.destination.error(t)}}}function ye(){return new Ut}function ve(t=null){return e=>e.lift(new we(t))}class we{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new be(t,this.defaultValue))}}class be extends At.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var _e=n(3392);function xe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?re((e,n)=>t(e,n,r)):_e.y,Qt(1),n?ve(e):pe(()=>new Ut))}var Te=n(6599),Se=n(1564),Ee=n(7570);class Ce{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ke(t,this.callback))}}class ke extends At.L{constructor(t,e){super(t),this.add(new Ee.w(e))}}class Ae{constructor(t,e){this.id=t,this.url=e}}class Ie extends Ae{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oe extends Ae{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class De extends Ae{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ne extends Ae{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Le extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends Ae{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fe extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends Ae{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class je{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ge="primary";class $e{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ze(t){return new $e(t)}function We(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ye(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Qe(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ke(t[i],e[i]))return!1;return!0}function Ke(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Je(t){return Array.prototype.concat.apply([],t)}function Xe(t){return t.length>0?t[t.length-1]:null}function tn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function en(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,_t.D)(Promise.resolve(t)):(0,xt.of)(t)}const nn={exact:function t(e,n,r){if(!fn(e.segments,n.segments))return!1;if(!un(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:on},rn={exact:function(t,e){return Qe(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ke(t[n],e[n]))},ignored:()=>!0};function sn(t,e,n){return nn[n.paths](t.root,e.root,n.matrixParams)&&rn[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function on(t,e,n){return an(t,e,e.segments,n)}function an(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!fn(i,n)&&!e.hasChildren()&&!!un(i,n,r)}if(t.segments.length===n.length){if(!fn(t.segments,n))return!1;if(!un(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!on(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!fn(t.segments,i)&&!!un(t.segments,i,r)&&!!t.children.primary&&an(t.children.primary,e,s,r)}}function un(t,e,n){return e.every((e,r)=>rn[n](t[r].parameters,e.parameters))}class cn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ze(this.queryParams)),this._queryParamMap}toString(){return gn.serialize(this)}}class ln{constructor(t,e){this.segments=t,this.children=e,this.parent=null,tn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mn(this)}}class hn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ze(this.parameters)),this._parameterMap}toString(){return Tn(this)}}function fn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class dn{}class pn{parse(t){const e=new An(t);return new cn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${yn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${wn(e)}=${wn(t)}`).join("&"):`${wn(e)}=${wn(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const gn=new pn;function mn(t){return t.segments.map(t=>Tn(t)).join("/")}function yn(t,e){if(!t.hasChildren())return mn(t);if(e){const e=t.children.primary?yn(t.children.primary,!1):"",n=[];return tn(t.children,(t,e)=>{e!==Ge&&n.push(`${e}:${yn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return tn(t.children,(t,r)=>{r===Ge&&(n=n.concat(e(t,r)))}),tn(t.children,(t,r)=>{r!==Ge&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ge?[yn(t.children.primary,!1)]:[`${n}:${yn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${mn(t)}/${e[0]}`:`${mn(t)}/(${e.join("//")})`}}function vn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn(t){return vn(t).replace(/%3B/gi,";")}function bn(t){return vn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _n(t){return decodeURIComponent(t)}function xn(t){return _n(t.replace(/\+/g,"%20"))}function Tn(t){return`${bn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${bn(t)}=${bn(e[t])}`).join("")}`;var e}const Sn=/^[^\/()?;=#]+/;function En(t){const e=t.match(Sn);return e?e[0]:""}const Cn=/^[^=?&#]+/,kn=/^[^?&#]+/;class An{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new ln(t,e)),n}parseSegment(){const t=En(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new hn(_n(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=En(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=En(this.remaining);t&&(n=t,this.capture(n))}t[_n(e)]=_n(n)}parseQueryParam(t){const e=function(t){const e=t.match(Cn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(kn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=xn(e),i=xn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=En(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ge);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new ln([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class In{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=On(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=On(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Dn(t,this._root).map(t=>t.value)}}function On(t,e){if(t===e.value)return e;for(const n of e.children){const e=On(t,n);if(e)return e}return null}function Dn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Dn(t,n);if(r.length)return r.unshift(e),r}return[]}class Nn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ln(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Rn extends In{constructor(t,e){super(t),this.snapshot=e,qn(this,t)}toString(){return this.snapshot.toString()}}function Pn(t,e){const n=function(t,e){const n=new Un([],{},{},"",{},Ge,e,null,t.root,-1,{});return new jn("",new Nn(n,[]))}(t,e),r=new Et([new hn("",{})]),i=new Et({}),s=new Et({}),o=new Et({}),a=new Et(""),u=new Fn(r,i,o,a,s,Ge,e,n.root);return u.snapshot=n.root,new Rn(new Nn(u,[]),n)}class Fn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ht.U)(t=>Ze(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ht.U)(t=>Ze(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Un{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ze(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ze(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jn extends In{constructor(t,e){super(e),this.url=t,qn(this,e)}toString(){return Vn(this._root)}}function qn(t,e){e.value._routerState=t,e.children.forEach(e=>qn(t,e))}function Vn(t){const e=t.children.length>0?` { ${t.children.map(Vn).join(", ")} } `:"";return`${t.value}${e}`}function Bn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qe(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Qe(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qe(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Qe(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function zn(t,e){return Qe(t.params,e.params)&&function(t,e){return fn(t,e)&&t.every((t,n)=>Qe(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||zn(t.parent,e.parent))}function Hn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Hn(t,e,r);return Hn(t,e)})}(t,e,n);return new Nn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Gn(e,t),t}}const n=new Fn(new Et((r=e.value).url),new Et(r.params),new Et(r.queryParams),new Et(r.fragment),new Et(r.data),r.outlet,r.component,r),i=e.children.map(e=>Hn(t,e));return new Nn(n,i)}var r}function Gn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Gn(t.children[n],e.children[n])}function $n(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zn(t){return"object"==typeof t&&null!=t&&t.outlets}function Wn(t,e,n,r,i){let s={};return r&&tn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new cn(n.root===t?e:Yn(n.root,t,e),s,i)}function Yn(t,e,n){const r={};return tn(t.children,(t,i)=>{r[i]=t===e?n:Yn(t,e,n)}),new ln(t.segments,r)}class Qn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&$n(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Zn);if(r&&r!==Xe(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Jn(t,e,n){if(t||(t=new ln([],{})),0===t.segments.length&&t.hasChildren())return Xn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Zn(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!rr(a,u,e))return s;r+=2}else{if(!rr(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new ln(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new ln(t.segments.slice(r.pathIndex),t.children),Xn(e,0,i)}return r.match&&0===i.length?new ln(t.segments,{}):r.match&&!t.hasChildren()?tr(t,e,n):r.match?Xn(t,0,i):tr(t,e,n)}function Xn(t,e,n){if(0===n.length)return new ln(t.segments,{});{const r=function(t){return Zn(t[0])?t[0].outlets:{[Ge]:t}}(n),i={};return tn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Jn(t.children[r],e,n))}),tn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new ln(t.segments,i)}}function tr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Zn(s)){const t=er(s.outlets);return new ln(r,t)}if(0===i&&$n(n[0])){r.push(new hn(t.segments[e].path,nr(n[0]))),i++;continue}const o=Zn(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&$n(a)?(r.push(new hn(o,nr(a))),i+=2):(r.push(new hn(o,{})),i++)}return new ln(r,{})}function er(t){const e={};return tn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=tr(new ln([],{}),0,t))}),e}function nr(t){const e={};return tn(t,(t,n)=>e[n]=`${t}`),e}function rr(t,e,n){return t==n.path&&Qe(e,n.parameters)}class ir{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Bn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ln(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),tn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Ln(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Ln(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ze(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ve(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Bn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),sr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function sr(t){Bn(t.value),t.children.forEach(sr)}class or{constructor(t,e){this.routes=t,this.module=e}}function ar(t){return"function"==typeof t}function ur(t){return t instanceof cn}const cr=Symbol("INITIAL_VALUE");function lr(){return $t(t=>function(...t){let e,n;return(0,Ct.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,kt.k)(t[0])&&(t=t[0]),(0,Rt.n)(t,n).lift(new Ft(e))}(t.map(t=>t.pipe(Qt(1),Xt(cr)))).pipe(te((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==cr)return t;if(r===cr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ur(r))return r}return t},t)},cr),re(t=>t!==cr),(0,Ht.U)(t=>ur(t)?t:!0===t),Qt(1)))}let hr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[ci]},encapsulation:2}),t})();function fr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];dr(r,pr(e,r))}}function dr(t,e){t.children&&fr(t.children,e)}function pr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function gr(t){const e=t.children&&t.children.map(gr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ge&&(n.component=hr),n}function mr(t){return t.outlet||Ge}function yr(t,e){const n=t.filter(t=>mr(t)===e);return n.push(...t.filter(t=>mr(t)!==e)),n}const vr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function wr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},vr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ye)(n,t,e);if(!i)return Object.assign({},vr);const s={};tn(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function br(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>_r(t,e,n)&&mr(n)!==Ge)}(t,n,r)){const i=new ln(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&mr(s)!==Ge){const n=new ln([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[mr(s)]=n}return i}(t,e,r,new ln(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>_r(t,e,n))}(t,n,r)){const s=new ln(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(_r(t,n,a)&&!i[mr(a)]){const n=new ln([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[mr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new ln(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function _r(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function xr(t,e,n,r){return!!(mr(t)===r||r!==Ge&&_r(e,n,t))&&("**"===t.path||wr(e,t,n).matched)}function Tr(t,e,n){return 0===e.length&&!t.children[n]}class Sr{constructor(t){this.segmentGroup=t||null}}class Er{constructor(t){this.urlTree=t}}function Cr(t){return new Nt.y(e=>e.error(new Sr(t)))}function kr(t){return new Nt.y(e=>e.error(new Er(t)))}function Ar(t){return new Nt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ir{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=br(this.urlTree.root,[],[],this.config).segmentGroup,e=new ln(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ge).pipe((0,Ht.U)(t=>this.createUrlTree(Or(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oe(t=>{if(t instanceof Er)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Sr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ge).pipe((0,Ht.U)(e=>this.createUrlTree(Or(e),t.queryParams,t.fragment))).pipe(oe(t=>{if(t instanceof Sr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new ln([],{[Ge]:t}):t;return new cn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Ht.U)(t=>new ln([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,_t.D)(r).pipe(le(r=>{const i=n.children[r],s=yr(e,r);return this.expandSegmentGroup(t,s,i,r).pipe((0,Ht.U)(t=>({segment:t,outlet:r})))}),te((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?re((e,n)=>t(e,n,r)):_e.y,he(1),n?ve(e):pe(()=>new Ut))}())}expandSegment(t,e,n,r,i,s){return(0,_t.D)(n).pipe(le(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(oe(t=>{if(t instanceof Sr)return(0,xt.of)(null);throw t}))),xe(t=>!!t),oe((t,n)=>{if(t instanceof Ut||"EmptyError"===t.name){if(Tr(e,r,i))return(0,xt.of)(new ln([],{}));throw new Sr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return xr(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Cr(e):Cr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?kr(i):this.lineralizeSegments(n,i).pipe((0,ce.zg)(n=>{const i=new ln(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=wr(e,r,i);if(!o)return Cr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?kr(l):this.lineralizeSegments(r,l).pipe((0,ce.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,xt.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Ht.U)(t=>(n._loadedConfig=t,new ln(r,{})))):(0,xt.of)(new ln(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=wr(e,n,r);if(!s)return Cr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,ce.zg)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=br(e,o,u,s),l=new ln(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,Ht.U)(t=>new ln(o,t)));if(0===s.length&&0===c.length)return(0,xt.of)(new ln(o,{}));const h=mr(n)===i;return this.expandSegment(r,l,s,c,h?Ge:i,!0).pipe((0,Ht.U)(t=>new ln(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,xt.of)(new or(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,xt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,ce.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Ht.U)(t=>(e._loadedConfig=t,t))):function(t){return new Nt.y(e=>e.error(We(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,xt.of)(new or([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,xt.of)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&ar(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!ar(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return en(s)});return(0,xt.of)(i).pipe(lr(),(0,Te.b)(t=>{if(!ur(t))return;const e=We(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Ht.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,xt.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Ar(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new cn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return tn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return tn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new ln(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Or(t){const e={};for(const n of Object.keys(t.children)){const r=Or(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new ln(t.segments.concat(e.segments),e.children)}return t}(new ln(t.segments,e))}class Dr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Nr{constructor(t,e){this.component=t,this.route=e}}function Lr(t,e,n){const r=t._root;return Pr(r,e?e._root:null,n,[r.value])}function Rr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Pr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ln(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!fn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fn(t.url,e.url)||!Qe(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zn(t,e)||!Qe(t.queryParams,e.queryParams);case"paramsChange":default:return!zn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Dr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Pr(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nr(a.outlet.component,o))}else o&&Fr(e,a,i),i.canActivateChecks.push(new Dr(r)),Pr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),tn(s,(t,e)=>Fr(t,n.getContext(e),i)),i}function Fr(t,e,n){const r=Ln(t),i=t.value;tn(r,(t,r)=>{Fr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Nr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Mr{}function Ur(t){return new Nt.y(e=>e.error(t))}class jr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=br(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ge);if(null===e)return null;const n=new Un([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ge,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Nn(n,e),i=new jn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Mn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=yr(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Vr(n);return r.sort((t,e)=>t.value.outlet===Ge?-1:e.value.outlet===Ge?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Tr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!xr(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Xe(n).parameters:{};i=new Un(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hr(t),mr(t),t.component,t,Br(e),zr(e)+n.length,Gr(t))}else{const r=wr(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Un(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hr(t),mr(t),t.component,t,Br(e),zr(e)+s.length,Gr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=br(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Nn(i,t)]}if(0===a.length&&0===c.length)return[new Nn(i,[])];const l=mr(t)===r,h=this.processSegment(a,u,c,l?Ge:r);return null===h?null:[new Nn(i,h)]}}function qr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Vr(t){const e=[],n=new Set;for(const r of t){if(!qr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Vr(r.children);e.push(new Nn(r.value,t))}return e.filter(t=>!n.has(t))}function Br(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Hr(t){return t.data||{}}function Gr(t){return t.resolve||{}}function $r(t){return $t(e=>{const n=t(e);return n?(0,_t.D)(n).pipe((0,Ht.U)(()=>e)):(0,xt.of)(e)})}class Zr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Wr=new r.OlP("ROUTES");class Yr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Ht.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new or(Je(i.injector.get(Wr,void 0,r.XFs.Self|r.XFs.Optional)).map(gr),i)}),oe(t=>{throw e._loader$=void 0,t}));return e._loader$=new zt.c(n,()=>new Tt.xQ).pipe((0,Se.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,_t.D)(this.loader.load(t)):en(t()).pipe((0,ce.zg)(t=>t instanceof r.YKP?(0,xt.of)(t):(0,_t.D)(this.compiler.compileModuleAsync(t))))}}class Qr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Kr,this.attachRef=null}}class Kr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Qr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Jr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xr(t){throw t}function ti(t,e,n){return e.parse("/")}function ei(t,e){return(0,xt.of)(null)}const ni={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ri={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Tt.xQ,this.errorHandler=Xr,this.malformedUriErrorHandler=ti,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ei,afterPreactivation:ei},this.urlHandlingStrategy=new Jr,this.routeReuseStrategy=new Zr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new cn(new ln([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yr(o,a,t=>this.triggerEvent(new Ue(t)),t=>this.triggerEvent(new je(t))),this.routerState=Pn(this.currentUrlTree,this.rootComponentType),this.transitions=new Et({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(re(t=>0!==t.id),(0,Ht.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),$t(t=>{let n=!1,r=!1;return(0,xt.of)(t).pipe((0,Te.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$t(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,xt.of)(t).pipe($t(t=>{const n=this.transitions.getValue();return e.next(new Ie(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Vt.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,$t(t=>function(t,e,n,r,i){return new Ir(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe((0,Ht.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,Te.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,ce.zg)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new jr(t,e,n,r,i,s).recognize();return null===o?Ur(new Mr):(0,xt.of)(o)}catch(Vw){return Ur(Vw)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,Ht.U)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Te.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Ie(n,this.serializeUrl(r),i,s);e.next(a);const u=Pn(r,this.rootComponentType).snapshot;return(0,xt.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Vt.E}),$r(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Te.b)(t=>{const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Ht.U)(t=>Object.assign(Object.assign({},t),{guards:Lr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,ce.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,xt.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,_t.D)(t).pipe((0,ce.zg)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,xt.of)(!0);const o=s.map(s=>{const o=Rr(s,e,i);let a;if(function(t){return t&&ar(t.canDeactivate)}(o))a=en(o.canDeactivate(t,e,n,r));else{if(!ar(o))throw new Error("Invalid CanDeactivate guard");a=en(o(t,e,n,r))}return a.pipe(xe())});return(0,xt.of)(o).pipe(lr())}(t.component,t.route,n,e,r)),xe(t=>!0!==t,!0))}(o,r,i,t).pipe((0,ce.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,_t.D)(e).pipe(le(e=>qt(function(t,e){return null!==t&&e&&e(new qe(t)),(0,xt.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Be(t)),(0,xt.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Bt(()=>{const i=e.guards.map(i=>{const s=Rr(i,e.node,n);let o;if(function(t){return t&&ar(t.canActivateChild)}(s))o=en(s.canActivateChild(r,t));else{if(!ar(s))throw new Error("Invalid CanActivateChild guard");o=en(s(r,t))}return o.pipe(xe())});return(0,xt.of)(i).pipe(lr())}));return(0,xt.of)(i).pipe(lr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,xt.of)(!0);const i=r.map(r=>Bt(()=>{const i=Rr(r,e,n);let s;if(function(t){return t&&ar(t.canActivate)}(i))s=en(i.canActivate(e,t));else{if(!ar(i))throw new Error("Invalid CanActivate guard");s=en(i(e,t))}return s.pipe(xe())}));return(0,xt.of)(i).pipe(lr())}(t,e.route,n))),xe(t=>!0!==t,!0))}(r,s,t,e):(0,xt.of)(n)),(0,Ht.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,Te.b)(t=>{if(ur(t.guardsResult)){const e=We(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),re(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),$r(t=>{if(t.guards.canActivateChecks.length)return(0,xt.of)(t).pipe((0,Te.b)(t=>{const e=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),$t(t=>{let e=!1;return(0,xt.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,ce.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,xt.of)(t);let s=0;return(0,_t.D)(i).pipe(le(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,xt.of)({});const s={};return(0,_t.D)(i).pipe((0,ce.zg)(i=>function(t,e,n,r){const i=Rr(t,e,r);return en(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,Te.b)(t=>{s[i]=t}))),he(1),(0,ce.zg)(()=>Object.keys(s).length===i.length?(0,xt.of)(s):Vt.E))}(t._resolve,t,e,r).pipe((0,Ht.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Mn(t,n).resolve),null)))}(t.route,e,n,r)),(0,Te.b)(()=>s++),he(1),(0,ce.zg)(e=>s===i.length?(0,xt.of)(t):Vt.E))})),(0,Te.b)({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,Te.b)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),$r(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Ht.U)(t=>{const e=function(t,e,n){const r=Hn(t,e._root,n?n._root:void 0);return new Rn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,Te.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,Ht.U)(t=>(new ir(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),(0,Te.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},t=>t.lift(new Ce(i))),oe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ur(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new De(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ne(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(lh){t.reject(lh)}}var i;return Vt.E}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){fr(t),this.config=t.map(gr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Wn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Qn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return tn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Qn(n,e,r)}(n);if(s.toRoot())return Wn(e.root,new ln([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Kn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Kn(t,t===e.root,0)}const r=$n(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Kn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Xn(o.segmentGroup,o.index,s.commands):Jn(o.segmentGroup,o.index,s.commands);return Wn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ur(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Vw){e=this.malformedUriErrorHandler(Vw,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},ni):!1===e?Object.assign({},ri):e,ur(t))return sn(this.currentUrlTree,t,n);const r=this.parseUrl(t);return sn(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;let f;return f="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new De(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(dn),r.LFG(Kr),r.LFG(_),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),si=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Tt.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ai(this.skipLocationChange),replaceUrl:ai(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ai(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ii),r.Y36(Fn),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})(),oi=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Tt.xQ,this.subscription=t.events.subscribe(t=>{t instanceof Oe&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ai(this.skipLocationChange),replaceUrl:ai(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ai(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ii),r.Y36(Fn),r.Y36(m))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ikx("href",e.href,r.LSH),r.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function ai(t){return""===t||!!t}let ui=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Oe&&this.update()})}ngAfterContentInit(){(0,xt.of)(this.links.changes,this.linksWithHrefs.changes,(0,xt.of)(null)).pipe((0,jt.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=(0,_t.D)(e).pipe((0,jt.J)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ii),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(si,8),r.Y36(oi,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,si,5),r.Suo(n,oi,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.links=t),r.iGM(t=r.CRH())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),t})(),ci=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Ge,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new li(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Kr),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class li{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Fn?this.route:t===Kr?this.childContexts:this.parent.get(t,e)}}class hi{}class fi{preload(t,e){return(0,xt.of)(null)}}let di=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Yr(e,n,e=>t.triggerEvent(new Ue(e)),e=>t.triggerEvent(new je(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(re(t=>t instanceof Oe),le(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,_t.D)(n).pipe((0,jt.J)(),(0,Ht.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,xt.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,ce.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ii),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(hi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),pi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ie?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof He&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new He(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ii),r.LFG(U),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const gi=new r.OlP("ROUTER_CONFIGURATION"),mi=new r.OlP("ROUTER_FORROOT_GUARD"),yi=[_,{provide:dn,useClass:pn},{provide:ii,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new ii(null,t,e,n,r,i,s,Je(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[dn,Kr,_,r.zs3,r.v3s,r.Sil,Wr,gi,[class{},new r.FiY],[class{},new r.FiY]]},Kr,{provide:Fn,useFactory:function(t){return t.routerState.root},deps:[ii]},{provide:r.v3s,useClass:r.EAV},di,fi,class{preload(t,e){return e().pipe(oe(()=>(0,xt.of)(null)))}},{provide:gi,useValue:{enableTracing:!1}}];function vi(){return new r.PXZ("Router",ii)}let wi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[yi,Ti(e),{provide:mi,useFactory:xi,deps:[[ii,new r.FiY,new r.tp0]]},{provide:gi,useValue:n||{}},{provide:m,useFactory:_i,deps:[a,[new r.tBr(v),new r.FiY],gi]},{provide:pi,useFactory:bi,deps:[ii,U,gi]},{provide:hi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:fi},{provide:r.PXZ,multi:!0,useFactory:vi},[Si,{provide:r.ip1,multi:!0,useFactory:Ei,deps:[Si]},{provide:ki,useFactory:Ci,deps:[Si]},{provide:r.tb,multi:!0,useExisting:ki}]]}}static forChild(e){return{ngModule:t,providers:[Ti(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(mi,8),r.LFG(ii,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function bi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new pi(t,e,n)}function _i(t,e,n={}){return n.useHash?new b(t,e):new w(t,e)}function xi(t){return"guarded"}function Ti(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:Wr,multi:!0,useValue:t}]}let Si=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Tt.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ii),r=this.injector.get(gi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,xt.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(gi),n=this.injector.get(di),i=this.injector.get(pi),s=this.injector.get(ii),o=this.injector.get(r.z2F);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Ei(t){return t.appInitializer.bind(t)}function Ci(t){return t.bootstrapListener.bind(t)}const ki=new r.OlP("Router Initializer");var Ai=n(2501),Ii=n.n(Ai);const Oi="https://us-central1-firestore-grafica-80462.cloudfunctions.net",Di={apiKey:"AIzaSyBYudtjm1pMSZKFTmuXIvSY1CjDFP0Vji4",authDomain:"firestore-grafica-80462.firebaseapp.com",databaseURL:"https://firestore-grafica-80462-default-rtdb.firebaseio.com",projectId:"firestore-grafica-80462",storageBucket:"firestore-grafica-80462.appspot.com",messagingSenderId:"141894486347",appId:"1:141894486347:web:7ff0b57c5da30d488e40ce",measurementId:"G-RRGZKMEHY1"};class Ni{}class Li{}class Ri{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ri?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ri;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ri?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Pi{encodeKey(t){return Fi(t)}encodeValue(t){return Fi(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Fi(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Mi(t){return`${t}`}class Ui{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Pi,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ui({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Mi(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(Mi(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ji{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function qi(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Vi(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Bi(t){return"undefined"!=typeof FormData&&t instanceof FormData}class zi{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ri),this.context||(this.context=new ji),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ui,this.urlWithParams=e}serializeBody(){return null===this.body?null:qi(this.body)||Vi(this.body)||Bi(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ui?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bi(this.body)?null:Vi(this.body)?this.body.type||null:qi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ui?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new zi(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var Hi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Gi{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ri,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class $i extends Gi{constructor(t={}){super(t),this.type=Hi.ResponseHeader}clone(t={}){return new $i({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Zi extends Gi{constructor(t={}){super(t),this.type=Hi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Zi({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wi extends Gi{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Yi(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Qi=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof zi)r=t;else{let i,s;i=n.headers instanceof Ri?n.headers:new Ri(n.headers),n.params&&(s=n.params instanceof Ui?n.params:new Ui({fromObject:n.params})),r=new zi(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,xt.of)(r).pipe(le(t=>this.handler.handle(t)));if(t instanceof zi||"events"===n.observe)return i;const s=i.pipe(re(t=>t instanceof Zi));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,Ht.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe((0,Ht.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe((0,Ht.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe((0,Ht.U)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ui).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Yi(n,e))}post(t,e,n={}){return this.request("POST",t,Yi(n,e))}put(t,e,n={}){return this.request("PUT",t,Yi(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ni))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Ki{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ji=new r.OlP("HTTP_INTERCEPTORS");let Xi=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ts=/^\)\]\}',?\n/;let es=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Nt.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Ri(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new $i({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(ts,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Zi({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Wi({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Wi({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:Hi.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Hi.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Hi.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(V))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ns=new r.OlP("XSRF_COOKIE_NAME"),rs=new r.OlP("XSRF_HEADER_NAME");class is{}let ss=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(r.Lbi),r.LFG(ns))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),os=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(is),r.LFG(rs))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),as=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Ji,[]);this.chain=t.reduceRight((t,e)=>new Ki(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Li),r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),us=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:os,useClass:Xi}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ns,useValue:e.cookieName}:[],e.headerName?{provide:rs,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[os,{provide:Ji,useExisting:os,multi:!0},{provide:is,useClass:ss},{provide:ns,useValue:"XSRF-TOKEN"},{provide:rs,useValue:"X-XSRF-TOKEN"}]}),t})(),cs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Qi,{provide:Ni,useClass:as},es,{provide:Li,useExisting:es}],imports:[[us.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),ls=(()=>{class t{constructor(t){this.http=t,this.juegos=[]}getNominados(){return this.juegos.length>0?(console.log("Desde cach\xe9"),(0,xt.of)(this.juegos)):(console.log("Desde internet"),this.http.get(`${Oi}/api/goty`).pipe((0,Te.b)(t=>this.juegos=t)))}votarJuego(t){return this.http.post(`${Oi}/api/goty/${t}`,{}).pipe(oe(t=>(0,xt.of)(t.error)))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Qi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hs(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"div",4),r._UZ(2,"img",5),r.TgZ(3,"div",6),r.TgZ(4,"h5",7),r._uU(5),r.qZA(),r.TgZ(6,"p",8),r._uU(7,"Click aqu\xed para votar por este juego"),r.qZA(),r.qZA(),r.TgZ(8,"div",9),r.TgZ(9,"button",10),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().votarJuego(e)}),r._uU(10," Votar "),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Q6J("src",t.url,r.LSH)("alt",t.name),r.xp6(3),r.Oqu(t.name)}}let fs=(()=>{class t{constructor(t){this.gameService=t,this.juegos=[]}ngOnInit(){this.gameService.getNominados().subscribe(t=>{console.log(t),this.juegos=t})}votarJuego(t){console.log(t.id),this.gameService.votarJuego(t.id).subscribe(t=>{t.ok?Ii().fire("Gracias",t.mensaje,"success"):Ii().fire("Oops",t.mensaje,"error")})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ls))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-goty"]],decls:7,vars:1,consts:[[1,"row"],[1,"col"],[1,"row","row-cols-1","row-cols-md-4","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"card","h-100","bg-dark"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer","d-grid","gap-2"],[1,"btn","btn-block","btn-outline-primary",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"h2"),r._uU(1,"Votar por el juego del a\xf1o"),r.qZA(),r._UZ(2,"hr"),r.TgZ(3,"div",0),r.TgZ(4,"div",1),r.TgZ(5,"div",2),r.YNc(6,hs,11,3,"div",3),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.Q6J("ngForOf",e.juegos))},directives:[O],styles:[""]}),t})();var ds=n(8569);function ps(){return t=>t.lift(new gs)}class gs{call(t,e){return e.subscribe(new ms(t))}}class ms extends At.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class ys{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new vs(t,this.compare,this.keySelector))}}class vs extends At.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ws=n(9098),bs=n(2346),_s=n(1858),xs=n(1062),Ts=n(4762),Ss=n(250),Es=n(308),Cs=function(t,e){return(Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ks(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var As,Is="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Os=Os||{},Ds=Is||self;function Ns(){}function Ls(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Rs(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ps="closure_uid_"+(1e9*Math.random()>>>0),Fs=0;function Ms(t,e,n){return t.call.apply(t.bind,arguments)}function Us(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function js(t,e,n){return(js=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ms:Us).apply(null,arguments)}function qs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Vs(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Bs(){this.s=this.s,this.o=this.o}var zs={};Bs.prototype.s=!1,Bs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Ps)&&t[Ps]||(t[Ps]=++Fs)}(this);delete zs[t]}},Bs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Hs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Gs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function $s(t){return Array.prototype.concat.apply([],arguments)}function Zs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ws(t){return/^[\s\xa0]*$/.test(t)}var Ys,Qs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ks(t,e){return-1!=t.indexOf(e)}function Js(t,e){return t<e?-1:t>e?1:0}t:{var Xs=Ds.navigator;if(Xs){var to=Xs.userAgent;if(to){Ys=to;break t}}Ys=""}function eo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function no(t){var e={};for(var n in t)e[n]=t[n];return e}var ro="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function io(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<ro.length;s++)n=ro[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function so(t){return so[" "](t),t}so[" "]=Ns;var oo,ao,uo=Ks(Ys,"Opera"),co=Ks(Ys,"Trident")||Ks(Ys,"MSIE"),lo=Ks(Ys,"Edge"),ho=lo||co,fo=Ks(Ys,"Gecko")&&!(Ks(Ys.toLowerCase(),"webkit")&&!Ks(Ys,"Edge"))&&!(Ks(Ys,"Trident")||Ks(Ys,"MSIE"))&&!Ks(Ys,"Edge"),po=Ks(Ys.toLowerCase(),"webkit")&&!Ks(Ys,"Edge");function go(){var t=Ds.document;return t?t.documentMode:void 0}t:{var mo="",yo=(ao=Ys,fo?/rv:([^\);]+)(\)|;)/.exec(ao):lo?/Edge\/([\d\.]+)/.exec(ao):co?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ao):po?/WebKit\/(\S+)/.exec(ao):uo?/(?:Version)[ \/]?(\S+)/.exec(ao):void 0);if(yo&&(mo=yo?yo[1]:""),co){var vo=go();if(null!=vo&&vo>parseFloat(mo)){oo=String(vo);break t}}oo=mo}var wo={};var bo=Ds.document&&co&&(go()||parseInt(oo,10))||void 0,_o=function(){if(!Ds.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ds.addEventListener("test",Ns,e),Ds.removeEventListener("test",Ns,e)}catch(n){}return t}();function xo(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function To(t,e){if(xo.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fo){t:{try{so(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:So[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&To.Z.h.call(this)}}xo.prototype.h=function(){this.defaultPrevented=!0},Vs(To,xo);var So={2:"touch",3:"pen",4:"mouse"};To.prototype.h=function(){To.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Eo="closure_listenable_"+(1e6*Math.random()|0),Co=0;function ko(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Co,this.ca=this.fa=!1}function Ao(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Io(t){this.src=t,this.g={},this.h=0}function Oo(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Hs(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ao(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Do(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Io.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Do(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new ko(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var No="closure_lm_"+(1e6*Math.random()|0),Lo={};function Ro(t,e,n,r,i){if(r&&r.once)return Fo(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ro(t,e[s],n,r,i);return null}return n=zo(n),t&&t[Eo]?t.N(e,n,Rs(r)?!!r.capture:!!r,i):Po(t,e,n,!1,r,i)}function Po(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Rs(i)?!!i.capture:!!i,a=Vo(t);if(a||(t[No]=a=new Io(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=qo;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_o||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Fo(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Fo(t,e[s],n,r,i);return null}return n=zo(n),t&&t[Eo]?t.O(e,n,Rs(r)?!!r.capture:!!r,i):Po(t,e,n,!0,r,i)}function Mo(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Mo(t,e[s],n,r,i);else r=Rs(r)?!!r.capture:!!r,n=zo(n),t&&t[Eo]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Do(s=t.g[e],n,r,i))&&(Ao(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Vo(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Do(e,n,r,i)),(n=-1<t?e[t]:null)&&Uo(n))}function Uo(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Eo])Oo(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vo(e))?(Oo(n,t),0==n.h&&(n.src=null,e[No]=null)):Ao(t)}}}function jo(t){return t in Lo?Lo[t]:Lo[t]="on"+t}function qo(t,e){if(t.ca)t=!0;else{e=new To(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Uo(t),t=n.call(r,e)}return t}function Vo(t){return(t=t[No])instanceof Io?t:null}var Bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function zo(t){return"function"==typeof t?t:(t[Bo]||(t[Bo]=function(e){return t.handleEvent(e)}),t[Bo])}function Ho(){Bs.call(this),this.i=new Io(this),this.P=this,this.I=null}function Go(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new xo(e,t);else if(e instanceof xo)e.target=e.target||t;else{var i=e;io(e=new xo(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=$o(o,r,!0,e)&&i}if(i=$o(o=e.g=t,r,!0,e)&&i,i=$o(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=$o(o=e.g=n[s],r,!1,e)&&i}function $o(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Oo(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vs(Ho,Bs),Ho.prototype[Eo]=!0,Ho.prototype.removeEventListener=function(t,e,n,r){Mo(this,t,e,n,r)},Ho.prototype.M=function(){if(Ho.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ao(n[r]);delete e.g[t],e.h--}}this.I=null},Ho.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ho.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Zo=Ds.JSON.stringify;function Wo(){var t=na,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Yo,Qo=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Ko.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Ko=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Jo},function(t){return t.reset()}),Jo=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Xo(t){Ds.setTimeout(function(){throw t},0)}function ta(t,e){Yo||function(){var t=Ds.Promise.resolve(void 0);Yo=function(){t.then(ra)}}(),ea||(Yo(),ea=!0),na.add(t,e)}var ea=!1,na=new Qo;function ra(){for(var t;t=Wo();){try{t.h.call(t.g)}catch(n){Xo(n)}var e=Ko;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ea=!1}function ia(t,e){Ho.call(this),this.h=t||1,this.g=e||Ds,this.j=js(this.kb,this),this.l=Date.now()}function sa(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function oa(t,e,n){if("function"==typeof t)n&&(t=js(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=js(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ds.setTimeout(t,e||0)}function aa(t){t.g=oa(function(){t.g=null,t.i&&(t.i=!1,aa(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Vs(ia,Ho),(As=ia.prototype).da=!1,As.S=null,As.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Go(this,"tick"),this.da&&(sa(this),this.start()))}},As.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},As.M=function(){ia.Z.M.call(this),sa(this),delete this.g};var ua=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Cs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:aa(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Ds.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Bs);function ca(t){Bs.call(this),this.h=t,this.g={}}Vs(ca,Bs);var la=[];function ha(t,e,n,r){Array.isArray(n)||(n&&(la[0]=n.toString()),n=la);for(var i=0;i<n.length;i++){var s=Ro(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function fa(t){eo(t.g,function(t,e){this.g.hasOwnProperty(e)&&Uo(t)},t),t.g={}}function da(){this.g=!0}function pa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Zo(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ca.prototype.M=function(){ca.Z.M.call(this),fa(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},da.prototype.Aa=function(){this.g=!1},da.prototype.info=function(){};var ga={},ma=null;function ya(){return ma=ma||new Ho}function va(t){xo.call(this,ga.Ma,t)}function wa(t){var e=ya();Go(e,new va(e,t))}function ba(t,e){xo.call(this,ga.STAT_EVENT,t),this.stat=e}function _a(t){var e=ya();Go(e,new ba(e,t))}function xa(t,e){xo.call(this,ga.Na,t),this.size=e}function Ta(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ds.setTimeout(function(){t()},e)}ga.Ma="serverreachability",Vs(va,xo),ga.STAT_EVENT="statevent",Vs(ba,xo),ga.Na="timingevent",Vs(xa,xo);var Sa={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ea={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ca(){}function ka(){}Ca.prototype.h=null;var Aa,Ia={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Oa(){xo.call(this,"d")}function Da(){xo.call(this,"c")}function Na(){}function La(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ca(this),this.P=Pa,this.W=new ia(t=ho?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ra}function Ra(){this.i=null,this.g="",this.h=!1}Vs(Oa,xo),Vs(Da,xo),Vs(Na,Ca),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Aa=new Na;var Pa=45e3,Fa={},Ma={};function Ua(t,e,n){t.K=1,t.v=au(eu(e)),t.s=n,t.U=!0,ja(t,null)}function ja(t,e){t.F=Date.now(),za(t),t.A=eu(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),bu(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Ra,t.g=_c(t.l,n?e:null,!t.s),0<t.O&&(t.L=new ua(js(t.Ia,t,t.g),t.O)),ha(t.V,t.g,"readystatechange",t.gb),e=t.H?no(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),wa(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function qa(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Va(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Ba(t,n))==Ma){4==e&&(t.o=4,_a(14),i=!1),pa(t.j,t.m,null,"[Incomplete Response]");break}if(r==Fa){t.o=4,_a(15),pa(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}pa(t.j,t.m,r,null),Wa(t,r)}qa(t)&&r!=Ma&&r!=Fa&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,_a(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),dc(e),e.L=!0,_a(11))):(pa(t.j,t.m,n,"[Invalid Chunked Response]"),Za(t),$a(t))}function Ba(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ma:(n=Number(e.substring(n,r)),isNaN(n)?Fa:(r+=1)+n>e.length?Ma:(e=e.substr(r,n),t.C=r+n,e))}function za(t){t.Y=Date.now()+t.P,Ha(t,t.P)}function Ha(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ta(js(t.eb,t),e)}function Ga(t){t.B&&(Ds.clearTimeout(t.B),t.B=null)}function $a(t){0==t.l.G||t.I||mc(t.l,t)}function Za(t){Ga(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,sa(t.W),fa(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Wa(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ku(n.i,t)))if(n.I=t.N,!t.J&&ku(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;gc(n),ic(n)}fc(n),_a(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ta(js(n.ab,n),6e3));if(1>=Cu(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else vc(n,11)}else if((t.J||n.g==t)&&gc(n),!Ws(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Ks(l,"spdy")||Ks(l,"quic")||Ks(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Au(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,ou(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=bc(r,r.H?r.la:null,r.W),d.J){Iu(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(Ga(p),za(p)),r.g=d}else hc(r);0<n.l.length&&ac(n)}else"stop"!=s[0]&&"close"!=s[0]||vc(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?vc(n,7):rc(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}wa(4)}catch(s){}}function Ya(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ls(t)||"string"==typeof t)Gs(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Ls(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Ls(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Qa(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qa)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ka(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ja(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ja(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ja(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(As=La.prototype).setTimeout=function(t){this.P=t},As.gb=function(t){t=t.target;var e=this.L;e&&3==Ju(t)?e.l():this.Ia(t)},As.Ia=function(t){try{if(t==this.g)t:{var e=Ju(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||ho||this.g&&(this.h.h||this.g.ga()||Xu(this.g)))){this.I||4!=e||7==n||wa(8==n||0>=r?3:2),Ga(this);var i=this.g.ba();this.N=i;e:if(qa(this)){var s=Xu(this.g);t="";var o=s.length,a=4==Ju(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Za(this),$a(this);var u="";break e}this.h.i=new Ds.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ws(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,_a(12),Za(this),$a(this);break t}pa(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wa(this,i)}this.U?(Va(this,e,u),ho&&this.i&&3==e&&(ha(this.V,this.W,"tick",this.fb),this.W.start())):(pa(this.j,this.m,u,null),Wa(this,u)),4==e&&Za(this),this.i&&!this.I&&(4==e?mc(this.l,this):(this.i=!1,za(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,_a(12)):(this.o=0,_a(13)),Za(this),$a(this)}}}catch(e){}},As.fb=function(){if(this.g){var t=Ju(this.g),e=this.g.ga();this.C<e.length&&(Ga(this),Va(this,t,e),this.i&&4!=t&&za(this))}},As.cancel=function(){this.I=!0,Za(this)},As.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wa(3),_a(17)),Za(this),this.o=2,$a(this)):Ha(this,this.Y-t)},(As=Qa.prototype).R=function(){Ka(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},As.T=function(){return Ka(this),this.g.concat()},As.get=function(t,e){return Ja(this.h,t)?this.h[t]:e},As.set=function(t,e){Ja(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},As.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Xa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tu(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof tu){this.g=void 0!==e?e:t.g,nu(this,t.j),this.s=t.s,ru(this,t.i),iu(this,t.m),this.l=t.l,e=t.h;var n=new mu;n.i=e.i,e.g&&(n.g=new Qa(e.g),n.h=e.h),su(this,n),this.o=t.o}else t&&(n=String(t).match(Xa))?(this.g=!!e,nu(this,n[1]||"",!0),this.s=uu(n[2]||""),ru(this,n[3]||"",!0),iu(this,n[4]),this.l=uu(n[5]||"",!0),su(this,n[6]||"",!0),this.o=uu(n[7]||"")):(this.g=!!e,this.h=new mu(null,this.g))}function eu(t){return new tu(t)}function nu(t,e,n){t.j=n?uu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ru(t,e,n){t.i=n?uu(e,!0):e}function iu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function su(t,e,n){e instanceof mu?(t.h=e,function(t,e){e&&!t.j&&(yu(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(vu(this,e),bu(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=cu(e,pu)),t.h=new mu(e,t.g))}function ou(t,e,n){t.h.set(e,n)}function au(t){return ou(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function uu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,lu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}tu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cu(e,hu,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(cu(e,hu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(cu(n,"/"==n.charAt(0)?du:fu,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cu(n,gu)),t.join("")};var hu=/[#\/\?@]/g,fu=/[#\?:]/g,du=/[#\?]/g,pu=/[#\?@]/g,gu=/#/g;function mu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yu(t){t.g||(t.g=new Qa,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function vu(t,e){yu(t),e=_u(t,e),Ja(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ja((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Ka(t)))}function wu(t,e){return yu(t),e=_u(t,e),Ja(t.g.h,e)}function bu(t,e,n){vu(t,e),0<n.length&&(t.i=null,t.g.set(_u(t,e),Zs(n)),t.h+=n.length)}function _u(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(As=mu.prototype).add=function(t,e){yu(this),this.i=null,t=_u(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},As.forEach=function(t,e){yu(this),this.g.forEach(function(n,r){Gs(n,function(n){t.call(e,n,r,this)},this)},this)},As.T=function(){yu(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},As.R=function(t){yu(this);var e=[];if("string"==typeof t)wu(this,t)&&(e=$s(e,this.g.get(_u(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=$s(e,t[n])}return e},As.set=function(t,e){return yu(this),this.i=null,wu(this,t=_u(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},As.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},As.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var xu=function(){return function(t,e){this.h=t,this.g=e}}();function Tu(t){this.l=t||Su,t=Ds.PerformanceNavigationTiming?0<(t=Ds.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ds.g&&Ds.g.Ea&&Ds.g.Ea()&&Ds.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Su=10;function Eu(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Cu(t){return t.h?1:t.g?t.g.size:0}function ku(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Au(t,e){t.g?t.g.add(e):t.h=e}function Iu(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ou(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=ks(t.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Zs(t.i)}function Du(){}function Nu(){this.g=new Du}function Lu(t,e,n){var r=n||"";try{Ya(t,function(t,n){var i=t;Rs(t)&&(i=Zo(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Vw){throw e.push(r+"type="+encodeURIComponent("_badmap")),Vw}}function Ru(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Pu(t){this.l=t.$b||null,this.j=t.ib||!1}function Fu(t,e){Ho.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Mu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tu.prototype.cancel=function(){var t,e;if(this.i=Ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ks(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Du.prototype.stringify=function(t){return Ds.JSON.stringify(t,void 0)},Du.prototype.parse=function(t){return Ds.JSON.parse(t,void 0)},Vs(Pu,Ca),Pu.prototype.g=function(){return new Fu(this.l,this.j)},Pu.prototype.i=function(t){return function(){return t}}({}),Vs(Fu,Ho);var Mu=0;function Uu(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function ju(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qu(t)}function qu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(As=Fu.prototype).open=function(t,e){if(this.readyState!=Mu)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qu(this)},As.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ds).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},As.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ju(this)),this.readyState=Mu},As.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qu(this)),this.g&&(this.readyState=3,qu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ds.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Uu(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},As.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ju(this):qu(this),3==this.readyState&&Uu(this)}},As.Ua=function(t){this.g&&(this.response=this.responseText=t,ju(this))},As.Ta=function(t){this.g&&(this.response=t,ju(this))},As.ha=function(){this.g&&ju(this)},As.setRequestHeader=function(t,e){this.v.append(t,e)},As.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},As.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Vu=Ds.JSON.parse;function Bu(t){Ho.call(this),this.headers=new Qa,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zu,this.K=this.L=!1}Vs(Bu,Ho);var zu="",Hu=/^https?$/i,Gu=["POST","PUT"];function $u(t){return"content-type"==t.toLowerCase()}function Zu(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Wu(t),Qu(t)}function Wu(t){t.D||(t.D=!0,Go(t,"complete"),Go(t,"error"))}function Yu(t){if(t.h&&void 0!==Os&&(!t.C[1]||4!=Ju(t)||2!=t.ba()))if(t.v&&4==Ju(t))oa(t.Fa,0,t);else if(Go(t,"readystatechange"),4==Ju(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.H).match(Xa)[1]||null;if(!s&&Ds.self&&Ds.self.location){var o=Ds.self.location.protocol;s=o.substr(0,o.length-1)}i=!Hu.test(s?s.toLowerCase():"")}e=i}if(e)Go(t,"complete"),Go(t,"success");else{t.m=6;try{var a=2<Ju(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",Wu(t)}}finally{Qu(t)}}}function Qu(t,e){if(t.g){Ku(t);var n=t.g,r=t.C[0]?Ns:null;t.g=null,t.C=null,e||Go(t,"ready");try{n.onreadystatechange=r}catch(Vw){}}}function Ku(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ds.clearTimeout(t.A),t.A=null)}function Ju(t){return t.g?t.g.readyState:0}function Xu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case zu:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return eo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ou(t,e,n))}function ec(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nc(t){this.za=0,this.l=[],this.h=new da,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ec("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ec("baseRetryDelayMs",5e3,t),this.$a=ec("retryDelaySeedMs",1e4,t),this.Ya=ec("forwardChannelMaxRetries",2,t),this.ra=ec("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Tu(t&&t.concurrentRequestLimit),this.Ca=new Nu,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function rc(t){if(sc(t),3==t.G){var e=t.V++,n=eu(t.F);ou(n,"SID",t.J),ou(n,"RID",e),ou(n,"TYPE","terminate"),cc(t,n),(e=new La(t,t.h,e,void 0)).K=2,e.v=au(eu(n)),n=!1,Ds.navigator&&Ds.navigator.sendBeacon&&(n=Ds.navigator.sendBeacon(e.v.toString(),"")),!n&&Ds.Image&&((new Image).src=e.v,n=!0),n||(e.g=_c(e.l,null),e.g.ea(e.v)),e.F=Date.now(),za(e)}wc(t)}function ic(t){t.g&&(dc(t),t.g.cancel(),t.g=null)}function sc(t){ic(t),t.u&&(Ds.clearTimeout(t.u),t.u=null),gc(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ds.clearTimeout(t.m),t.m=null)}function oc(t,e){t.l.push(new xu(t.Za++,e)),3==t.G&&ac(t)}function ac(t){Eu(t.i)||t.m||(t.m=!0,ta(t.Ha,t),t.C=0)}function uc(t,e){var n;n=e?e.m:t.V++;var r=eu(t.F);ou(r,"SID",t.J),ou(r,"RID",n),ou(r,"AID",t.U),cc(t,r),t.o&&t.s&&tc(r,t.o,t.s),n=new La(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=lc(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Au(t.i,n),Ua(n,r,e)}function cc(t,e){t.j&&Ya({},function(t,n){ou(e,n,t)})}function lc(t,e,n){n=Math.min(t.l.length,n);var r=t.j?js(t.j.Oa,t.j,t):null;t:for(var i=t.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=s))s=Math.max(0,i[u].h-100),a=!1;else try{Lu(l,o,"req"+c+"_")}catch(tl){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function hc(t){t.g||t.u||(t.Y=1,ta(t.Ga,t),t.A=0)}function fc(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Ta(js(t.Ga,t),yc(t,t.A)),t.A++,0))}function dc(t){null!=t.B&&(Ds.clearTimeout(t.B),t.B=null)}function pc(t){t.g=new La(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=eu(t.oa);ou(e,"RID","rpc"),ou(e,"SID",t.J),ou(e,"CI",t.N?"0":"1"),ou(e,"AID",t.U),cc(t,e),ou(e,"TYPE","xmlhttp"),t.o&&t.s&&tc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=au(eu(e)),n.s=null,n.U=!0,ja(n,t)}function gc(t){null!=t.v&&(Ds.clearTimeout(t.v),t.v=null)}function mc(t,e){var n=null;if(t.g==e){gc(t),dc(t),t.g=null;var r=2}else{if(!ku(t.i,e))return;n=e.D,Iu(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Go(r=ya(),new xa(r,n,e,i)),ac(t)}else hc(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Cu(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ta(js(t.Ha,t,e),yc(t,t.C)),t.C++,0)))}(t,e)||2==r&&fc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:vc(t,5);break;case 4:vc(t,10);break;case 3:vc(t,6);break;default:vc(t,2)}}function yc(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function vc(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=js(t.jb,t);n||(n=new tu("//www.google.com/images/cleardot.gif"),Ds.location&&"http"==Ds.location.protocol||nu(n,"https"),au(n)),function(t,e){var n=new da;if(Ds.Image){var r=new Image;r.onload=qs(Ru,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qs(Ru,n,r,"TestLoadImage: error",!1,e),r.onabort=qs(Ru,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qs(Ru,n,r,"TestLoadImage: timeout",!1,e),Ds.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else _a(2);t.G=0,t.j&&t.j.va(e),wc(t),sc(t)}function wc(t){t.G=0,t.I=-1,t.j&&(0==Ou(t.i).length&&0==t.l.length||(t.i.i.length=0,Zs(t.l),t.l.length=0),t.j.ua())}function bc(t,e,n){var r=function(t){return t instanceof tu?eu(t):new tu(t,void 0)}(n);if(""!=r.i)e&&ru(r,e+"."+r.i),iu(r,r.m);else{var i=Ds.location;r=function(t,e,n,r){var i=new tu(null,void 0);return t&&nu(i,t),e&&ru(i,e),n&&iu(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&eo(t.aa,function(t,e){ou(r,e,t)}),n=t.sa,(e=t.D)&&n&&ou(r,e,n),ou(r,"VER",t.ma),cc(t,r),r}function _c(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bu(n&&t.Ba&&!t.qa?new Pu({ib:!0}):t.qa)).L=t.H,e}function xc(){}function Tc(){if(co&&!(10<=Number(bo)))throw Error("Environmental error: no available transport.")}function Sc(t,e){Ho.call(this),this.g=new nc(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ws(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ws(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new kc(this)}function Ec(t){Oa.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Cc(){Da.call(this),this.status=1}function kc(t){this.g=t}(As=Bu.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Aa.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Aa),this.g.onreadystatechange=js(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void Zu(this,s)}t=n||"";var i=new Qa(this.headers);r&&Ya(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=$u,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Ds.FormData&&t instanceof Ds.FormData,!(0<=Hs(Gu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ku(this),0<this.B&&((this.K=function(t){return co&&function(){return t=wo,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Qs(String(oo)).split("."),n=Qs("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var s=e[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;t=Js(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||Js(0==s[2].length,0==o[2].length)||Js(s[2],o[2]),s=s[3],o=o[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=js(this.pa,this)):this.A=oa(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Zu(this,s)}},As.pa=function(){void 0!==Os&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Go(this,"timeout"),this.abort(8))},As.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Go(this,"complete"),Go(this,"abort"),Qu(this))},As.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qu(this,!0)),Bu.Z.M.call(this)},As.Fa=function(){this.s||(this.F||this.v||this.l?Yu(this):this.cb())},As.cb=function(){Yu(this)},As.ba=function(){try{return 2<Ju(this)?this.g.status:-1}catch(ao){return-1}},As.ga=function(){try{return this.g?this.g.responseText:""}catch(ao){return""}},As.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Vu(e)}},As.Da=function(){return this.m},As.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(As=nc.prototype).ma=8,As.G=1,As.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},As.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new La(this,this.h,t,void 0),n=this.s;if(this.P&&(n?io(n=no(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=lc(this,e,r),ou(i=eu(this.F),"RID",t),ou(i,"CVER",22),this.D&&ou(i,"X-HTTP-Session-Id",this.D),cc(this,i),this.o&&n&&tc(i,this.o,n),Au(this.i,e),this.Ra&&ou(i,"TYPE","init"),this.ja?(ou(i,"$req",r),ou(i,"SID","null"),e.$=!0,Ua(e,i,null)):Ua(e,i,r),this.G=2}}else 3==this.G&&(t?uc(this,t):0==this.l.length||Eu(this.i)||uc(this))},As.Ga=function(){if(this.u=null,pc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ta(js(this.bb,this),t)}},As.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_a(10),ic(this),pc(this))},As.ab=function(){null!=this.v&&(this.v=null,ic(this),fc(this),_a(19))},As.jb=function(t){t?(this.h.info("Successfully pinged google.com"),_a(2)):(this.h.info("Failed to ping google.com"),_a(1))},(As=xc.prototype).xa=function(){},As.wa=function(){},As.va=function(){},As.ua=function(){},As.Oa=function(){},Tc.prototype.g=function(t,e){return new Sc(t,e)},Vs(Sc,Ho),Sc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),ta(js(t.hb,t,e))),_a(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=bc(t,null,t.W),ac(t)},Sc.prototype.close=function(){rc(this.g)},Sc.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,oc(this.g,e)}else this.v?((e={}).__data__=Zo(t),oc(this.g,e)):oc(this.g,t)},Sc.prototype.M=function(){this.g.j=null,delete this.j,rc(this.g),delete this.g,Sc.Z.M.call(this)},Vs(Ec,Oa),Vs(Cc,Da),Vs(kc,xc),kc.prototype.xa=function(){Go(this.g,"a")},kc.prototype.wa=function(t){Go(this.g,new Ec(t))},kc.prototype.va=function(t){Go(this.g,new Cc(t))},kc.prototype.ua=function(){Go(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,Sc.prototype.send=Sc.prototype.u,Sc.prototype.open=Sc.prototype.m,Sc.prototype.close=Sc.prototype.close,Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Ea.COMPLETE="complete",ka.EventType=Ia,Ia.OPEN="a",Ia.CLOSE="b",Ia.ERROR="c",Ia.MESSAGE="d",Ho.prototype.listen=Ho.prototype.N,Bu.prototype.listenOnce=Bu.prototype.O,Bu.prototype.getLastError=Bu.prototype.La,Bu.prototype.getLastErrorCode=Bu.prototype.Da,Bu.prototype.getStatus=Bu.prototype.ba,Bu.prototype.getResponseJson=Bu.prototype.Qa,Bu.prototype.getResponseText=Bu.prototype.ga,Bu.prototype.send=Bu.prototype.ea;var Ac=Sa,Ic=Ea,Oc=ga,Dc=Pu,Nc=ka,Lc=Bu,Rc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Rc.o=-1;var Pc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Ts.ZT)(e,t),e}(Error),Mc=new Es.Yd("@firebase/firestore");function Uc(){return Mc.logLevel}function jc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mc.logLevel<=Es.in.DEBUG){var r=e.map(Bc);Mc.debug.apply(Mc,(0,Ts.ev)(["Firestore (8.8.0): "+t],r))}}function qc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mc.logLevel<=Es.in.ERROR){var r=e.map(Bc);Mc.error.apply(Mc,(0,Ts.ev)(["Firestore (8.8.0): "+t],r))}}function Vc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mc.logLevel<=Es.in.WARN){var r=e.map(Bc);Mc.warn.apply(Mc,(0,Ts.ev)(["Firestore (8.8.0): "+t],r))}}function Bc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Vw){return t}}function zc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+t;throw qc(e),new Error(e)}function Hc(t,e){t||zc()}function Gc(t,e){return t}function $c(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=$c(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Wc(t,e){return t<e?-1:t>e?1:0}function Yc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Qc(t){return t+"\0"}var Kc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Fc(Pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Fc(Pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Fc(Pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fc(Pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Wc(this.nanoseconds,t.nanoseconds):Wc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Jc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Kc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Xc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function el(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&zc(),void 0===n?n=t.length-e:n>t.length-e&&zc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),rl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ts.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(nl),il=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ts.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return il.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Fc(Pc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Fc(Pc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Fc(Pc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(nl),ol=function(){function t(t){this.fields=t,t.sort(sl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Yc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),al=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Wc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();al.EMPTY_BYTE_STRING=new al("");var ul=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(t){if(Hc(!!t),"string"==typeof t){var e=0,n=ul.exec(t);if(Hc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ll(t.seconds),nanos:ll(t.nanos)}}function ll(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function hl(t){return"string"==typeof t?al.fromBase64String(t):al.fromUint8Array(t)}function fl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dl(t){var e=t.mapValue.fields.__previous_value__;return fl(e)?dl(e):e}function pl(t){var e=cl(t.mapValue.fields.__local_write_time__.timestampValue);return new Kc(e.seconds,e.nanos)}function gl(t){return null==t}function ml(t){return 0===t&&1/t==-1/0}function yl(t){return"number"==typeof t&&Number.isInteger(t)&&!ml(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var vl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(rl.fromString(e))},t.fromName=function(e){return new t(rl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===rl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return rl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new rl(e.slice()))},t}();function wl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fl(t)?4:10:zc()}function bl(t,e){var n=wl(t);if(n!==wl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pl(t).isEqual(pl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=cl(t.timestampValue),r=cl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return hl(t.bytesValue).isEqual(hl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ll(t.geoPointValue.latitude)===ll(e.geoPointValue.latitude)&&ll(t.geoPointValue.longitude)===ll(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ll(t.integerValue)===ll(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ll(t.doubleValue),r=ll(e.doubleValue);return n===r?ml(n)===ml(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Yc(t.arrayValue.values||[],e.arrayValue.values||[],bl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Xc(n)!==Xc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bl(n[i],r[i])))return!1;return!0}(t,e);default:return zc()}}function _l(t,e){return void 0!==(t.values||[]).find(function(t){return bl(t,e)})}function xl(t,e){var n=wl(t),r=wl(e);if(n!==r)return Wc(n,r);switch(n){case 0:return 0;case 1:return Wc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ll(t.integerValue||t.doubleValue),r=ll(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Tl(t.timestampValue,e.timestampValue);case 4:return Tl(pl(t),pl(e));case 5:return Wc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=hl(t),r=hl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Wc(n[i],r[i]);if(0!==s)return s}return Wc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Wc(ll(t.latitude),ll(e.latitude));return 0!==n?n:Wc(ll(t.longitude),ll(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=xl(n[i],r[i]);if(s)return s}return Wc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Wc(r[o],s[o]);if(0!==a)return a;var u=xl(n[r[o]],i[s[o]]);if(0!==u)return u}return Wc(r.length,s.length)}(t.mapValue,e.mapValue);default:throw zc()}}function Tl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Wc(t,e);var n=cl(t),r=cl(e),i=Wc(n.seconds,r.seconds);return 0!==i?i:Wc(n.nanos,r.nanos)}function Sl(t){return El(t)}function El(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=cl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?hl(t.bytesValue).toBase64():"referenceValue"in t?vl.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=El(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+El(t.fields[s])}return e+"}"}(t.mapValue):zc();var e}function Cl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function kl(t){return!!t&&"integerValue"in t}function Al(t){return!!t&&"arrayValue"in t}function Il(t){return!!t&&"nullValue"in t}function Ol(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dl(t){return!!t&&"mapValue"in t}function Nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return tl(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Nl(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Nl(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Ll=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Dl(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(e)},t.prototype.setAll=function(t){var e=this,n=sl.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=Nl(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Dl(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return bl(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Dl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){tl(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Nl(this.value))},t}();function Rl(t){var e=[];return tl(t.fields,function(t,n){var r=new sl([t]);if(Dl(n)){var i=Rl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new ol(e)}var Pl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Jc.min(),Ll.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ll.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ll.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ll.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ll.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Fl=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Ml(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Fl(t,e,n,r,i,s,o)}function Ul(t){var e=Gc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Sl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Kl(e.startAt)),e.endAt&&(n+="|ub:",n+=Kl(e.endAt)),e.h=n}return e.h}function jl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Xl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!bl(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eh(t.startAt,e.startAt)&&eh(t.endAt,e.endAt)}function ql(t){return vl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Vl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Ts.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Bl(t,n,r):"array-contains"===n?new $l(t,r):"in"===n?new Zl(t,r):"not-in"===n?new Wl(t,r):"array-contains-any"===n?new Yl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new zl(t,n):new Hl(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(xl(e,this.value)):null!==e&&wl(this.value)===wl(e)&&this.m(xl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return zc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Bl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=vl.fromName(r.referenceValue),i}return(0,Ts.ZT)(e,t),e.prototype.matches=function(t){var e=vl.comparator(t.key,this.key);return this.m(e)},e}(Vl),zl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Gl(0,n),r}return(0,Ts.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Vl),Hl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Gl(0,n),r}return(0,Ts.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Vl);function Gl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return vl.fromName(t.referenceValue)})}var $l=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Ts.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Al(e)&&_l(e.arrayValue,this.value)},e}(Vl),Zl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Ts.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&_l(this.value.arrayValue,e)},e}(Vl),Wl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Ts.ZT)(e,t),e.prototype.matches=function(t){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!_l(this.value.arrayValue,e)},e}(Vl),Yl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Ts.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Al(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return _l(e.value.arrayValue,t)})},e}(Vl),Ql=function(t,e){this.position=t,this.before=e};function Kl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Sl(t)}).join(",")}var Jl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Xl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function th(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?vl.comparator(vl.fromName(o.referenceValue),n.key):xl(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function eh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!bl(t.position[n],e.position[n]))return!1;return!0}var nh=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function rh(t,e,n,r,i,s,o,a){return new nh(t,e,n,r,i,s,o,a)}function ih(t){return new nh(t)}function sh(t){return!gl(t.limit)&&"F"===t.limitType}function oh(t){return!gl(t.limit)&&"L"===t.limitType}function ah(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function uh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function ch(t){return null!==t.collectionGroup}function lh(t){var e=Gc(t);if(null===e.p){e.p=[];var n=uh(e),r=ah(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Jl(n)),e.p.push(new Jl(sl.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Jl(sl.keyField(),u))}}}return e.p}function hh(t){var e=Gc(t);if(!e.T)if("F"===e.limitType)e.T=Ml(e.path,e.collectionGroup,lh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=lh(e);r<i.length;r++){var s=i[r];n.push(new Jl(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Ql(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ql(e.startAt.position,!e.startAt.before):null;e.T=Ml(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function fh(t,e,n){return new nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dh(t,e){return jl(hh(t),hh(e))&&t.limitType===e.limitType}function ph(t){return Ul(hh(t))+"|lt:"+t.limitType}function gh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Sl(e.value);var e}).join(", ")+"]"),gl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Kl(t.startAt)),t.endAt&&(e+=", endAt: "+Kl(t.endAt)),"Target("+e+")"}(hh(t))+"; limitType="+t.limitType+")"}function mh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):vl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!th(t.startAt,lh(t),e)||t.endAt&&th(t.endAt,lh(t),e))}(t,e)}function yh(t){return function(e,n){for(var r=!1,i=0,s=lh(t);i<s.length;i++){var o=s[i],a=vh(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function vh(t,e,n){var r=t.field.isKeyField()?vl.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?xl(r,i):zc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return zc()}}function wh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ml(e)?"-0":e}}function bh(t){return{integerValue:""+t}}function _h(t,e){return yl(e)?bh(e):wh(t,e)}var xh=function(){this._=void 0};function Th(t,e,n){return t instanceof Ch?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof kh?Ah(t,e):t instanceof Ih?Oh(t,e):function(t,e){var n=Eh(t,e),r=Nh(n)+Nh(t.A);return kl(n)&&kl(t.A)?bh(r):wh(t.R,r)}(t,e)}function Sh(t,e,n){return t instanceof kh?Ah(t,e):t instanceof Ih?Oh(t,e):n}function Eh(t,e){return t instanceof Dh?kl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ts.ZT)(e,t),e}(xh),kh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ts.ZT)(e,t),e}(xh);function Ah(t,e){for(var n=Lh(e),r=function(t){n.some(function(e){return bl(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ih=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ts.ZT)(e,t),e}(xh);function Oh(t,e){for(var n=Lh(e),r=function(t){n=n.filter(function(e){return!bl(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Ts.ZT)(e,t),e}(xh);function Nh(t){return ll(t.integerValue||t.doubleValue)}function Lh(t){return Al(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Rh=function(t,e){this.field=t,this.transform=e},Ph=function(t,e){this.version=t,this.transformResults=e},Fh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Mh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Uh=function(){};function jh(t,e,n){t instanceof Hh?function(t,e,n){var r=t.value.clone(),i=Zh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Gh?function(t,e,n){if(Mh(t.precondition,e)){var r=Zh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll($h(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function qh(t,e,n){t instanceof Hh?function(t,e,n){if(Mh(t.precondition,e)){var r=t.value.clone(),i=Wh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(zh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Gh?function(t,e,n){if(Mh(t.precondition,e)){var r=Wh(t.fieldTransforms,n,e),i=e.data;i.setAll($h(t)),i.setAll(r),e.convertToFoundDocument(zh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Mh(t.precondition,e)&&e.convertToNoDocument(Jc.min())}(t,e)}function Vh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Eh(s.transform,o||null);null!=a&&(null==n&&(n=Ll.empty()),n.set(s.field,a))}return n||null}function Bh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Yc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof kh&&e instanceof kh||t instanceof Ih&&e instanceof Ih?Yc(t.elements,e.elements,bl):t instanceof Dh&&e instanceof Dh?bl(t.A,e.A):t instanceof Ch&&e instanceof Ch}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function zh(t){return t.isFoundDocument()?t.version:Jc.min()}var Hh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return(0,Ts.ZT)(e,t),e}(Uh),Gh=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return(0,Ts.ZT)(e,t),e}(Uh);function $h(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Zh(t,e,n){var r=new Map;Hc(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Sh(o,a,n[i]))}return r}function Wh(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Th(a,u,e))}return r}var Yh,Qh,Kh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Ts.ZT)(e,t),e}(Uh),Jh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Ts.ZT)(e,t),e}(Uh),Xh=function(t){this.count=t};function tf(t){switch(t){case Pc.OK:return zc();case Pc.CANCELLED:case Pc.UNKNOWN:case Pc.DEADLINE_EXCEEDED:case Pc.RESOURCE_EXHAUSTED:case Pc.INTERNAL:case Pc.UNAVAILABLE:case Pc.UNAUTHENTICATED:return!1;case Pc.INVALID_ARGUMENT:case Pc.NOT_FOUND:case Pc.ALREADY_EXISTS:case Pc.PERMISSION_DENIED:case Pc.FAILED_PRECONDITION:case Pc.ABORTED:case Pc.OUT_OF_RANGE:case Pc.UNIMPLEMENTED:case Pc.DATA_LOSS:return!0;default:return zc()}}function ef(t){if(void 0===t)return qc("GRPC error has no .code"),Pc.UNKNOWN;switch(t){case Yh.OK:return Pc.OK;case Yh.CANCELLED:return Pc.CANCELLED;case Yh.UNKNOWN:return Pc.UNKNOWN;case Yh.DEADLINE_EXCEEDED:return Pc.DEADLINE_EXCEEDED;case Yh.RESOURCE_EXHAUSTED:return Pc.RESOURCE_EXHAUSTED;case Yh.INTERNAL:return Pc.INTERNAL;case Yh.UNAVAILABLE:return Pc.UNAVAILABLE;case Yh.UNAUTHENTICATED:return Pc.UNAUTHENTICATED;case Yh.INVALID_ARGUMENT:return Pc.INVALID_ARGUMENT;case Yh.NOT_FOUND:return Pc.NOT_FOUND;case Yh.ALREADY_EXISTS:return Pc.ALREADY_EXISTS;case Yh.PERMISSION_DENIED:return Pc.PERMISSION_DENIED;case Yh.FAILED_PRECONDITION:return Pc.FAILED_PRECONDITION;case Yh.ABORTED:return Pc.ABORTED;case Yh.OUT_OF_RANGE:return Pc.OUT_OF_RANGE;case Yh.UNIMPLEMENTED:return Pc.UNIMPLEMENTED;case Yh.DATA_LOSS:return Pc.DATA_LOSS;default:return zc()}}(Qh=Yh||(Yh={}))[Qh.OK=0]="OK",Qh[Qh.CANCELLED=1]="CANCELLED",Qh[Qh.UNKNOWN=2]="UNKNOWN",Qh[Qh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qh[Qh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qh[Qh.NOT_FOUND=5]="NOT_FOUND",Qh[Qh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qh[Qh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qh[Qh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qh[Qh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qh[Qh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qh[Qh.ABORTED=10]="ABORTED",Qh[Qh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qh[Qh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qh[Qh.INTERNAL=13]="INTERNAL",Qh[Qh.UNAVAILABLE=14]="UNAVAILABLE",Qh[Qh.DATA_LOSS=15]="DATA_LOSS";var nf=function(){function t(t,e){this.comparator=t,this.root=e||sf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new rf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new rf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new rf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new rf(this.root,t,this.comparator,!0)},t}(),rf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),sf=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw zc();if(this.right.isRed())throw zc();var t=this.left.check();if(t!==this.right.check())throw zc();return t+(this.isRed()?0:1)},t}();sf.EMPTY=null,sf.RED=!0,sf.BLACK=!1,sf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw zc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new sf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var of=function(){function t(t){this.comparator=t,this.data=new nf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new af(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new af(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),af=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),uf=new nf(vl.comparator);function cf(){return uf}var lf=new nf(vl.comparator);function hf(){return lf}var ff=new nf(vl.comparator);function df(){return ff}var pf=new of(vl.comparator);function gf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=pf,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var mf=new of(Wc);function yf(){return mf}var vf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Jc.min(),r,yf(),cf(),gf())},t}(),wf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(al.EMPTY_BYTE_STRING,n,gf(),gf(),gf())},t}(),bf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},_f=function(t,e){this.targetId=t,this.V=e},xf=function(t,e,n,r){void 0===n&&(n=al.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Tf=function(){function t(){this.S=0,this.D=Cf(),this.C=al.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=gf(),e=gf(),n=gf();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:zc()}}),new wf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Cf()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Sf=function(){function t(t){this.W=t,this.G=new Map,this.H=cf(),this.J=Ef(),this.Y=new of(Wc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:zc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ql(i))if(0===n){var s=new vl(i.path);this.tt(e,s,Pl.newNoDocument(s,Jc.min()))}else Hc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&ql(s.target)){var o=new vl(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Pl.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=gf();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new vf(t,n,this.Y,this.H,r);return this.H=cf(),this.J=Ef(),this.Y=new of(Wc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Tf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new of(Wc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||jc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Tf),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ef(){return new nf(vl.comparator)}function Cf(){return new nf(vl.comparator)}var kf={asc:"ASCENDING",desc:"DESCENDING"},Af={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},If=function(t,e){this.databaseId=t,this.I=e};function Of(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Df(t,e){return t.I?e.toBase64():e.toUint8Array()}function Nf(t,e){return Of(t,e.toTimestamp())}function Lf(t){return Hc(!!t),Jc.fromTimestamp(function(t){var e=cl(t);return new Kc(e.seconds,e.nanos)}(t))}function Rf(t,e){return function(t){return new rl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Pf(t){var e=rl.fromString(t);return Hc(sd(e)),e}function Ff(t,e){return Rf(t.databaseId,e.path)}function Mf(t,e){var n=Pf(e);if(n.get(1)!==t.databaseId.projectId)throw new Fc(Pc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fc(Pc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vl(Vf(n))}function Uf(t,e){return Rf(t.databaseId,e)}function jf(t){var e=Pf(t);return 4===e.length?rl.emptyPath():Vf(e)}function qf(t){return new rl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vf(t){return Hc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Bf(t,e,n){return{name:Ff(t,e),fields:n.value.mapValue.fields}}function zf(t,e,n){var r=Mf(t,e.name),i=Lf(e.updateTime),s=new Ll({mapValue:{fields:e.fields}}),o=Pl.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Hf(t,e){var n;if(e instanceof Hh)n={update:Bf(t,e.key,e.value)};else if(e instanceof Kh)n={delete:Ff(t,e.key)};else if(e instanceof Gh)n={update:Bf(t,e.key,e.data),updateMask:id(e.fieldMask)};else{if(!(e instanceof Jh))return zc();n={verify:Ff(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ch)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ih)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Dh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw zc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Nf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:zc()}(t,e.precondition)),n}function Gf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Fh.updateTime(Lf(t.updateTime)):void 0!==t.exists?Fh.exists(t.exists):Fh.none()}(e.currentDocument):Fh.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Hc("REQUEST_TIME"===e.setToServerValue),n=new Ch):"appendMissingElements"in e?n=new kh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ih(e.removeAllFromArray.values||[]):"increment"in e?n=new Dh(t,e.increment):zc();var r=sl.fromServerFormat(e.fieldPath);return new Rh(r,n)}(t,e)}):[];if(e.update){var i=Mf(t,e.update.name),s=new Ll({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new ol((t.fieldPaths||[]).map(function(t){return sl.fromServerFormat(t)}))}(e.updateMask);return new Gh(i,s,o,n,r)}return new Hh(i,s,n,r)}if(e.delete){var a=Mf(t,e.delete);return new Kh(a,n)}if(e.verify){var u=Mf(t,e.verify);return new Jh(u,n)}return zc()}function $f(t,e){return{documents:[Uf(t,e.path)]}}function Zf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Uf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Uf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ol(t.value))return{unaryFilter:{field:td(t.field),op:"IS_NAN"}};if(Il(t.value))return{unaryFilter:{field:td(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ol(t.value))return{unaryFilter:{field:td(t.field),op:"IS_NOT_NAN"}};if(Il(t.value))return{unaryFilter:{field:td(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:td(t.field),op:Xf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:td(t.field),direction:Jf(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||gl(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Qf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Qf(e.endAt)),n}function Wf(t){var e=jf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Hc(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Yf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Jl(ed(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return gl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Kf(n.startAt));var l=null;return n.endAt&&(l=Kf(n.endAt)),rh(e,i,a,o,u,"F",c,l)}function Yf(t){return t?void 0!==t.unaryFilter?[rd(t)]:void 0!==t.fieldFilter?[nd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Yf(t)}).reduce(function(t,e){return t.concat(e)}):zc():[]}function Qf(t){return{before:t.before,values:t.position}}function Kf(t){return new Ql(t.values||[],!!t.before)}function Jf(t){return kf[t]}function Xf(t){return Af[t]}function td(t){return{fieldPath:t.canonicalString()}}function ed(t){return sl.fromServerFormat(t.fieldPath)}function nd(t){return Vl.create(ed(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return zc()}}(t.fieldFilter.op),t.fieldFilter.value)}function rd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ed(t.unaryFilter.field);return Vl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ed(t.unaryFilter.field);return Vl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ed(t.unaryFilter.field);return Vl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ed(t.unaryFilter.field);return Vl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return zc()}}function id(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function sd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function od(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ud(e)),e=ad(t.get(n),e);return ud(e)}function ad(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function ud(t){return t+"\x01\x01"}function cd(t){var e=t.length;if(Hc(e>=2),2===e)return Hc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),rl.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&zc(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:zc()}s=o+2}return new rl(r)}var ld=function(t,e){this.seconds=t,this.nanoseconds=e},hd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};hd.store="owner",hd.key="owner";var fd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};fd.store="mutationQueues",fd.keyPath="userId";var dd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};dd.store="mutations",dd.keyPath="batchId",dd.userMutationsIndex="userMutationsIndex",dd.userMutationsKeyPath=["userId","batchId"];var pd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,od(e)]},t.key=function(t,e,n){return[t,od(e),n]},t}();pd.store="documentMutations",pd.PLACEHOLDER=new pd;var gd=function(t,e){this.path=t,this.readTime=e},md=function(t,e){this.path=t,this.version=e},yd=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};yd.store="remoteDocuments",yd.readTimeIndex="readTimeIndex",yd.readTimeIndexPath="readTime",yd.collectionReadTimeIndex="collectionReadTimeIndex",yd.collectionReadTimeIndexPath=["parentPath","readTime"];var vd=function(t){this.byteSize=t};vd.store="remoteDocumentGlobal",vd.key="remoteDocumentGlobalKey";var wd=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};wd.store="targets",wd.keyPath="targetId",wd.queryTargetsIndexName="queryTargetsIndex",wd.queryTargetsKeyPath=["canonicalId","targetId"];var bd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};bd.store="targetDocuments",bd.keyPath=["targetId","path"],bd.documentTargetsIndex="documentTargetsIndex",bd.documentTargetsKeyPath=["path","targetId"];var _d=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};_d.key="targetGlobalKey",_d.store="targetGlobal";var xd=function(t,e){this.collectionId=t,this.parent=e};xd.store="collectionParents",xd.keyPath=["collectionId","parent"];var Td=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Td.store="clientMetadata",Td.keyPath="clientId";var Sd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Sd.store="bundles",Sd.keyPath="bundleId";var Ed=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ed.store="namedQueries",Ed.keyPath="name";var Cd=(0,Ts.ev)((0,Ts.ev)([],(0,Ts.ev)((0,Ts.ev)([],(0,Ts.ev)((0,Ts.ev)([],(0,Ts.ev)((0,Ts.ev)([],[fd.store,dd.store,pd.store,yd.store,wd.store,hd.store,_d.store,bd.store]),[Td.store])),[vd.store])),[xd.store])),[Sd.store,Ed.store]),kd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ad=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Id=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Od=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&zc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Dd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Id,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Rd(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=jd(e.target.error);n.ft.reject(new Rd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Rd(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(jc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Fd(e)},t}(),Nd=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,Ss.z$)())&&qc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return jc("SimpleDb","Removing database:",t),Md(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,Ss.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(jc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Rd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Fc(Pc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Rd(t,n))},i.onupgradeneeded=function(t){jc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){jc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Ts.mG)(this,void 0,void 0,function(){var i,s,o,a,u;return(0,Ts.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return(0,Ts.Jh)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Dd.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Od.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return jc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ld=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Md(this.Pt.delete())},t}(),Rd=function(t){function e(e,n){var r=this;return(r=t.call(this,Pc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Ts.ZT)(e,t),e}(Fc);function Pd(t){return"IndexedDbTransactionError"===t.name}var Fd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(jc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(jc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Md(n)},t.prototype.add=function(t){return jc("SimpleDb","ADD",this.store.name,t,t),Md(this.store.add(t))},t.prototype.get=function(t){var e=this;return Md(this.store.get(t)).next(function(n){return void 0===n&&(n=null),jc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return jc("SimpleDb","DELETE",this.store.name,t),Md(this.store.delete(t))},t.prototype.count=function(){return jc("SimpleDb","COUNT",this.store.name),Md(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){jc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Od(function(n,r){e.onerror=function(t){var e=jd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Od(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Ld(i),o=e(i.primaryKey,i.value,s);if(o instanceof Od){var a=o.catch(function(t){return s.done(),Od.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Od.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Md(t){return new Od(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=jd(t.target.error);n(e)}})}var Ud=!1;function jd(t){var e=Nd._t((0,Ss.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Fc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ud||(Ud=!0,setTimeout(function(){throw r},0)),r}}return t}var qd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Ts.ZT)(e,t),e}(Ad);function Vd(t,e){var n=Gc(t);return Nd.It(n.Mt,e)}var Bd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&jh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&qh(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&qh(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Jc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},gf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Yc(this.mutations,t.mutations,function(t,e){return Bh(t,e)})&&Yc(this.baseMutations,t.baseMutations,function(t,e){return Bh(t,e)})},t}(),zd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Hc(e.mutations.length===r.length);for(var i=df(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Hd=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Jc.min()),void 0===s&&(s=Jc.min()),void 0===o&&(o=al.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Gd=function(t){this.Lt=t};function $d(t,e){if(e.document)return zf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=vl.fromSegments(e.noDocument.path),r=Kd(e.noDocument.readTime),i=Pl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=vl.fromSegments(e.unknownDocument.path);return r=Kd(e.unknownDocument.version),Pl.newUnknownDocument(s,r)}return zc()}function Zd(t,e,n){var r=Wd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Ff(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Of(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new yd(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Qd(e.version);return o=e.hasCommittedMutations,new yd(null,new gd(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Qd(e.version);return new yd(new md(c,l),null,null,!0,r,i)}return zc()}function Wd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Yd(t){var e=new Kc(t[0],t[1]);return Jc.fromTimestamp(e)}function Qd(t){var e=t.toTimestamp();return new ld(e.seconds,e.nanoseconds)}function Kd(t){var e=new Kc(t.seconds,t.nanoseconds);return Jc.fromTimestamp(e)}function Jd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Gf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Gf(t.Lt,e)}),s=Kc.fromMillis(e.localWriteTimeMs);return new Bd(e.batchId,s,n,i)}function Xd(t){var e,n,r=Kd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Kd(t.lastLimboFreeSnapshotVersion):Jc.min();return void 0!==t.query.documents?(Hc(1===(n=t.query).documents.length),e=hh(ih(jf(n.documents[0])))):e=function(t){return hh(Wf(t))}(t.query),new Hd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,al.fromBase64String(t.resumeToken))}function tp(t,e){var n,r=Qd(e.snapshotVersion),i=Qd(e.lastLimboFreeSnapshotVersion);n=ql(e.target)?$f(t.Lt,e.target):Zf(t.Lt,e.target);var s=e.resumeToken.toBase64();return new wd(e.targetId,Ul(e.target),r,s,e.sequenceNumber,i,n)}function ep(t){var e=Wf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?fh(e,e.limit,"L"):e}var np=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return rp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Kd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return rp(t).put({bundleId:(n=e).id,createTime:Qd(Lf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return ip(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:ep(e.bundledQuery),readTime:Kd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return ip(t).put(function(t){return{name:t.name,readTime:Qd(Lf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function rp(t){return Vd(t,Sd.store)}function ip(t){return Vd(t,Ed.store)}var sp=function(){function t(){this.Bt=new op}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Od.resolve()},t.prototype.getCollectionParents=function(t,e){return Od.resolve(this.Bt.getEntries(e))},t}(),op=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new of(rl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new of(rl.comparator)).toArray()},t}(),ap=function(){function t(){this.qt=new op}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:od(i)};return up(t).put(s)}return Od.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Qc(e),""],!1,!0);return up(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(cd(s.parent))}return n})},t}();function up(t){return Vd(t,xd.store)}var cp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function hp(t,e,n){var r=t.store(dd.store),i=t.store(pd.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Hc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=pd.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Od.waitFor(s).next(function(){return c})}function fp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw zc();e=t.noDocument}return JSON.stringify(e).length}lp.DEFAULT_COLLECTION_PERCENTILE=10,lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lp.DEFAULT=new lp(41943040,lp.DEFAULT_COLLECTION_PERCENTILE,lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lp.DISABLED=new lp(-1,0,0);var dp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Hc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gp(t).$t({index:dd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=mp(t),o=gp(t);return o.add({}).next(function(a){Hc("number"==typeof a);for(var u=new Bd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Hf(t.Lt,e)}),i=n.mutations.map(function(e){return Hf(t.Lt,e)});return new dd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new of(function(t,e){return Wc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=pd.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,pd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Od.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return gp(t).get(e).next(function(t){return t?(Hc(t.userId===n.userId),Jd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Od.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return gp(t).$t({index:dd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Hc(e.batchId>=r),s=Jd(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gp(t).$t({index:dd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gp(t).Nt(dd.userMutationsIndex,n).next(function(t){return t.map(function(t){return Jd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=pd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return mp(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],c=cd(r[1]);if(a===n.userId&&e.path.isEqual(c))return gp(t).get(u).next(function(t){if(!t)throw zc();Hc(t.userId===n.userId),s.push(Jd(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new of(Wc),i=[];return e.forEach(function(e){var s=pd.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=mp(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=cd(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Od.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=pd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new of(Wc);return mp(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],c=cd(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(gp(t).get(e).next(function(t){if(null===t)throw zc();Hc(t.userId===n.userId),r.push(Jd(n.R,t))}))}),Od.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return hp(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Od.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Od.resolve();var r=IDBKeyRange.lowerBound(pd.prefixForUser(e.userId)),i=[];return mp(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=cd(t[1]);i.push(s)}else r.done()}).next(function(){Hc(0===i.length)})})},t.prototype.containsKey=function(t,e){return pp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return yp(t).get(this.userId).next(function(t){return t||new fd(e.userId,-1,"")})},t}();function pp(t,e,n){var r=pd.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return mp(t).$t({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function gp(t){return Vd(t,dd.store)}function mp(t){return Vd(t,pd.store)}function yp(t){return Vd(t,fd.store)}var vp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),wp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new vp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Jc.fromTimestamp(new Kc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return bp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Hc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return bp(t).$t(function(o,a){var u=Xd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Od.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return bp(t).$t(function(t,n){var r=Xd(n);e(r)})},t.prototype.Xt=function(t){return _p(t).get(_d.key).next(function(t){return Hc(null!==t),t})},t.prototype.Zt=function(t,e){return _p(t).put(_d.key,e)},t.prototype.te=function(t,e){return bp(t).put(tp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Ul(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bp(t).$t({range:r,index:wd.queryTargetsIndexName},function(t,n,r){var s=Xd(n);jl(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=xp(t);return e.forEach(function(e){var o=od(e.path);i.push(s.put(new bd(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Od.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=xp(t);return Od.forEach(e,function(e){var s=od(e.path);return Od.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=xp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=xp(t),i=gf();return r.$t({range:n,kt:!0},function(t,e,n){var r=cd(t[1]),s=new vl(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=od(e.path),r=IDBKeyRange.bound([n],[Qc(n)],!1,!0),i=0;return xp(t).$t({index:bd.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return bp(t).get(e).next(function(t){return t?Xd(t):null})},t}();function bp(t){return Vd(t,wd.store)}function _p(t){return Vd(t,_d.store)}function xp(t){return Vd(t,bd.store)}function Tp(t){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){if(t.code!==Pc.FAILED_PRECONDITION||t.message!==kd)throw t;return jc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Sp(t,e){var n=t[1],r=e[1],i=Wc(t[0],e[0]);return 0===i?Wc(n,r):i}var Ep=function(){function t(t){this.ne=t,this.buffer=new of(Sp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Sp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Cp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;jc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Ts.mG)(e,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Pd(e=n.sent())?(jc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Tp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),kp=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Od.resolve(Rc.o);var r=new Ep(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jc("LruGarbageCollector","Garbage collection skipped; disabled"),Od.resolve(cp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(jc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),cp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(jc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Uc()<=Es.in.DEBUG&&jc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Od.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Ap=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new kp(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Ip(t,n)},t.prototype.removeReference=function(t,e,n){return Ip(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Ip(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return yp(t).Ot(function(r){return pp(t,r,e).next(function(t){return t&&(n=!0),Od.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),xp(t).delete([0,od(o.path)])})});i.push(u)}}).next(function(){return Od.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Ip(t,e)},t.prototype.we=function(t,e){var n,r=xp(t),i=Rc.o;return r.$t({index:bd.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Rc.o&&e(new vl(cd(n)),i),i=o,n=s):i=Rc.o}).next(function(){i!==Rc.o&&e(new vl(cd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Ip(t,e){return xp(t).put(function(t,e){return new bd(0,od(t.path),e)}(e,t.currentSequenceNumber))}var Op=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){tl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return el(this.inner)},t}(),Dp=function(){function t(){this.changes=new Op(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Jc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Pl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Od.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Np=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Pp(t).put(Fp(e),n)},t.prototype.removeEntry=function(t,e){var n=Pp(t),r=Fp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Pp(t).get(Fp(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Pp(t).get(Fp(e)).next(function(t){return{document:n.ye(e,t),size:fp(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=cf();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=cf(),i=new nf(vl.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,fp(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Od.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Pp(t).$t({range:r},function(t,e,r){for(var o=vl.fromSegments(t);s&&vl.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=cf(),s=e.path.length+1,o={};if(n.isEqual(Jc.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Wd(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=yd.collectionReadTimeIndex}return Pp(t).$t(o,function(t,n,o){if(t.length===s){var a=$d(r.R,n);e.path.isPrefixOf(a.key.path)?mh(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Lp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Rp(t).get(vd.key).next(function(t){return Hc(!!t),t})},t.prototype.me=function(t,e){return Rp(t).put(vd.key,e)},t.prototype.ye=function(t,e){if(e){var n=$d(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Jc.min()))return n}return Pl.newInvalidDocument(t)},t}(),Lp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Op(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Ts.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new of(function(t,e){return Wc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=Zd(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=fp(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=Zd(e.Ie.R,Pl.newNoDocument(s,Jc.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Od.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Dp);function Rp(t){return Vd(t,vd.store)}function Pp(t){return Vd(t,yd.store)}function Fp(t){return t.path.toArray()}var Mp=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Hc(n<r&&n>=0&&r<=11);var s=new Dd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(hd.store)}(t),function(t){t.createObjectStore(fd.store,{keyPath:fd.keyPath}),t.createObjectStore(dd.store,{keyPath:dd.keyPath,autoIncrement:!0}).createIndex(dd.userMutationsIndex,dd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(pd.store)}(t),Up(t),function(t){t.createObjectStore(yd.store)}(t));var o=Od.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(bd.store),t.deleteObjectStore(wd.store),t.deleteObjectStore(_d.store)}(t),Up(t)),o=o.next(function(){return function(t){var e=t.store(_d.store),n=new _d(0,0,Jc.min().toTimestamp(),0);return e.put(_d.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(dd.store).Nt().next(function(n){t.deleteObjectStore(dd.store),t.createObjectStore(dd.store,{keyPath:dd.keyPath,autoIncrement:!0}).createIndex(dd.userMutationsIndex,dd.userMutationsKeyPath,{unique:!0});var r=e.store(dd.store),i=n.map(function(t){return r.put(t)});return Od.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Td.store,{keyPath:Td.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(vd.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(yd.store);e.createIndex(yd.readTimeIndex,yd.readTimeIndexPath,{unique:!1}),e.createIndex(yd.collectionReadTimeIndex,yd.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Sd.store,{keyPath:Sd.keyPath})}(t),function(t){t.createObjectStore(Ed.store,{keyPath:Ed.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(yd.store).$t(function(t,n){e+=fp(n)}).next(function(){var n=new vd(e);return t.store(vd.store).put(vd.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(fd.store),r=t.store(dd.store);return n.Nt().next(function(n){return Od.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(dd.userMutationsIndex,i).next(function(r){return Od.forEach(r,function(r){Hc(r.userId===n.userId);var i=Jd(e.R,r);return hp(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(bd.store),n=t.store(yd.store);return t.store(_d.store).get(_d.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new rl(n),o=function(t){return[0,od(t)]}(s);r.push(e.get(o).next(function(n){return n?Od.resolve():function(n){return e.put(new bd(0,od(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Od.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(xd.store,{keyPath:xd.keyPath});var n=e.store(xd.store),r=new op,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:od(i)})}};return e.store(yd.store).$t({kt:!0},function(t,e){var n=new rl(t);return i(n.popLast())}).next(function(){return e.store(pd.store).$t({kt:!0},function(t,e){var n=cd(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(wd.store);return n.$t(function(t,r){var i=Xd(r),s=tp(e.R,i);return n.put(s)})},t}();function Up(t){t.createObjectStore(bd.store,{keyPath:bd.keyPath}).createIndex(bd.documentTargetsIndex,bd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(wd.store,{keyPath:wd.keyPath}).createIndex(wd.queryTargetsIndexName,wd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(_d.store)}var jp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qp=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Fc(Pc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ap(this,i),this.Le=n+"main",this.R=new Gd(u),this.Be=new Nd(this.Le,11,new Mp(this.R)),this.qe=new wp(this.referenceDelegate,this.R),this.Ut=new ap,this.Ue=function(t,e){return new Np(t,e)}(this.R,this.Ut),this.Ke=new np,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&qc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Fc(Pc.FAILED_PRECONDITION,jp);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Rc(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Ts.mG)(e,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Ts.mG)(e,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Ts.mG)(e,void 0,void 0,function(){return(0,Ts.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Bp(e).put(new Td(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Pd(e))return jc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return jc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Vp(t).get(hd.key).next(function(t){return Od.resolve(e.tn(t))})},t.prototype.en=function(t){return Bp(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Ts.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Vd(t,Td.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Od.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Od.resolve(!0):Vp(t).get(hd.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Fc(Pc.FAILED_PRECONDITION,jp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&jc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Ts.mG)(this,void 0,void 0,function(){var t=this;return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[hd.store,Td.store],function(e){var n=new qd(e,Rc.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Bp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return dp.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return jc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Cd,function(s){return r=new qd(s,i.Ne?i.Ne.next():Rc.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw qc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Fc(Pc.FAILED_PRECONDITION,kd);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Vp(t).get(hd.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Fc(Pc.FAILED_PRECONDITION,jp)})},t.prototype.Ze=function(t){var e=new hd(this.clientId,this.allowTabSynchronization,Date.now());return Vp(t).put(hd.key,e)},t.yt=function(){return Nd.yt()},t.prototype.Xe=function(t){var e=this,n=Vp(t);return n.get(hd.key).next(function(t){return e.tn(t)?(jc("IndexedDbPersistence","Releasing primary lease."),n.delete(hd.key)):Od.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(qc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,Ss.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return jc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return qc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){qc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Vp(t){return Vd(t,hd.store)}function Bp(t){return Vd(t,Td.store)}function zp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Hp=function(t,e){this.progress=t,this.wn=e},Gp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return vl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):ch(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new vl(e)).next(function(t){var e=hf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=hf();return this.Ut.getCollectionParents(t,i).next(function(o){return Od.forEach(o,function(o){var a=function(t,e){return new nh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=Pl.newInvalidDocument(c),r=r.insert(c,l)),qh(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){mh(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=gf(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Gh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),$p=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=gf(),i=gf(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Zp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Jc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(sh(e)||oh(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Uc()<=Es.in.DEBUG&&jc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new of(yh(t));return e.forEach(function(e,r){mh(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Uc()<=Es.in.DEBUG&&jc("QueryEngine","Using full collection scan to execute query:",gh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Jc.min())},t}(),Wp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new nf(Wc),this.kn=new Op(function(t){return Ul(t)},jl),this.$n=Jc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Gp(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Yp(t,e,n,r){return new Wp(t,e,n,r)}function Qp(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i,s;return(0,Ts.Jh)(this,function(o){switch(o.label){case 0:return n=Gc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new Gp(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=gf(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Kp(t,e){var n=Gc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Od.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);Hc(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Jp(t){var e=Gc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Xp(t,e){var n=Gc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return Hc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=cf();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(tg(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Jc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Od.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function tg(t,e,n,r,i){var s=gf();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=cf();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Jc.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):jc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function eg(t,e){var n=Gc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function ng(t,e){var n=Gc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Od.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Hd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function rg(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,Ts.Jh)(this,function(a){switch(a.label){case 0:r=Gc(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Pd(o=a.sent()))throw o;return jc("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function ig(t,e,n){var r=Gc(t),i=Jc.min(),s=gf();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Gc(t),i=r.kn.get(n);return void 0!==i?Od.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,hh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Jc.min(),n?s:gf())}).next(function(t){return{documents:t,Bn:s}})})}function sg(t,e){var n=Gc(t),r=Gc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function og(t){var e=Gc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Gc(t),i=cf(),s=Wd(n),o=Pp(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:yd.readTimeIndex,range:a},function(t,e){var n=$d(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Yd(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function ag(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){return[2,(e=Gc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Pp(t),n=Jc.min();return e.$t({index:yd.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Yd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function ug(t,e,n,r){return(0,Ts.mG)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return(0,Ts.Jh)(this,function(p){switch(p.label){case 0:for(i=Gc(t),s=gf(),o=cf(),a=df(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,ng(i,function(t){return hh(ih(rl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return tg(t,f,o,Jc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,s,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function cg(t,e,n){return void 0===n&&(n=gf()),(0,Ts.mG)(this,void 0,void 0,function(){var r,i;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return[4,ng(t,hh(ep(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Gc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Lf(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ke.saveNamedQuery(t,e);var o=r.withResumeToken(al.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var lg=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Od.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Lf(n.createTime)}),Od.resolve()},t.prototype.getNamedQuery=function(t,e){return Od.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:ep(t.bundledQuery),readTime:Lf(t.readTime)}}(e)),Od.resolve()},t}(),hg=function(){function t(){this.Wn=new of(fg.Gn),this.zn=new of(fg.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new fg(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new fg(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new vl(new rl([])),r=new fg(n,t),i=new fg(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new vl(new rl([])),n=new fg(e,t),r=new fg(e,t+1),i=gf();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new fg(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),fg=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return vl.comparator(t.key,e.key)||Wc(t.ns,e.ns)},t.Hn=function(t,e){return Wc(t.ns,e.ns)||vl.comparator(t.key,e.key)},t}(),dg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new of(fg.Gn)}return t.prototype.checkEmpty=function(t){return Od.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Bd(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new fg(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Od.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Od.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Od.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Od.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Od.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new fg(e,0),i=new fg(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Od.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new of(Wc);return e.forEach(function(t){var e=new fg(t,0),i=new fg(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Od.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;vl.isDocumentKey(i)||(i=i.child(""));var s=new fg(new vl(i),0),o=new of(Wc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Od.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Hc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Od.forEach(e.mutations,function(i){var s=new fg(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new fg(e,0),r=this.rs.firstAfterOrEqual(n);return Od.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Od.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),pg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new nf(vl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Od.resolve(n?n.document.clone():Pl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=cf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Pl.newInvalidDocument(t))}),Od.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=cf(),i=new vl(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||mh(e,u)&&(r=r.insert(u.key,u.clone()))}return Od.resolve(r)},t.prototype.fs=function(t,e){return Od.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new gg(this)},t.prototype.getSize=function(t){return Od.resolve(this.size)},t}(),gg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Ts.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Od.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Dp),mg=function(){function t(t){this.persistence=t,this.ds=new Op(function(t){return Ul(t)},jl),this.lastRemoteSnapshotVersion=Jc.min(),this.highestTargetId=0,this.ws=0,this._s=new hg,this.targetCount=0,this.ys=vp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Od.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Od.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Od.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Od.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Od.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new vp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Od.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Od.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Od.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Od.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Od.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Od.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Od.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Od.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Od.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Od.resolve(n)},t.prototype.containsKey=function(t,e){return Od.resolve(this._s.containsKey(e))},t}(),yg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Rc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new mg(this),this.Ut=new sp,this.Ue=function(t,e){return new pg(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Gd(e),this.Ke=new lg(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new dg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;jc("MemoryPersistence","Starting transaction:",t);var i=new vg(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Od.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),vg=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Ts.ZT)(e,t),e}(Ad),wg=function(){function t(t){this.persistence=t,this.As=new hg,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw zc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Od.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Od.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Od.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Od.forEach(this.vs,function(r){var i=vl.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Od.or([function(){return Od.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),bg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function _g(t,e){return"firestore_clients_"+t+"_"+e}function xg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Tg(t,e){return"firestore_targets_"+t+"_"+e}bg.UNAUTHENTICATED=new bg(null),bg.GOOGLE_CREDENTIALS=new bg("google-credentials-uid"),bg.FIRST_PARTY=new bg("first-party-uid");var Sg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Fc(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(qc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Eg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fc(i.error.code,i.error.message)),s?new t(e,i.state,r):(qc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Cg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=yf(),o=0;i&&o<r.activeTargetIds.length;++o)i=yl(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(qc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),kg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(qc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ag=function(){function t(){this.activeTargetIds=yf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ig=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new nf(Wc),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=_g(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Ag),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Ts.mG)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return(0,Ts.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(_g(this.persistenceKey,r)))&&(s=Cg.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Tg(this.persistenceKey,t));if(n){var r=Eg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Tg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return jc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){jc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){jc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(jc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void qc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Ts.mG)(e,void 0,void 0,function(){var t,e,r,i,s,o;return(0,Ts.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Rc.o;if(null!=t)try{var n=JSON.parse(t);Hc("number"==typeof n),e=n}catch(t){qc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Rc.o&&this.sequenceNumberHandler(o);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Sg(this.currentUser,t,e,n),i=xg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=xg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Tg(this.persistenceKey,t),i=new Eg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Cg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Sg.Vs(new bg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Eg.Vs(r,e)},t.prototype.js=function(t){return kg.Vs(t)},t.prototype.ii=function(t){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(jc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=yf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Og=function(){function t(){this.li=new Ag,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Ag,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Dg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Ng=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){jc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){jc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Lg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Rg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Pg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Ts.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Lc;o.listenOnce(Ic.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Ac.NO_ERROR:var e=o.getResponseJson();jc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ac.TIMEOUT:jc("Connection",'RPC "'+t+'" timed out'),s(new Fc(Pc.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:var n=o.getStatus();if(jc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Pc).indexOf(e)>=0?e:Pc.UNKNOWN}(r.status);s(new Fc(a,r.message))}else s(new Fc(Pc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Fc(Pc.UNAVAILABLE,"Connection failed."));break;default:zc()}}finally{jc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Tc,i=ya(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Dc({})),this.Fi(s.initMessageHeaders,e),(0,Ss.uI)()||(0,Ss.b$)()||(0,Ss.d)()||(0,Ss.w1)()||(0,Ss.Mn)()||(0,Ss.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");jc("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Rg({Ei:function(t){c?jc("Connection","Not sending because WebChannel is closed:",t):(u||(jc("Connection","Opening WebChannel transport."),a.open(),u=!0),jc("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Nc.EventType.OPEN,function(){c||jc("Connection","WebChannel transport opened.")}),h(a,Nc.EventType.CLOSE,function(){c||(c=!0,jc("Connection","WebChannel transport closed"),l.Vi())}),h(a,Nc.EventType.ERROR,function(t){c||(c=!0,Vc("Connection","WebChannel transport errored:",t),l.Vi(new Fc(Pc.UNAVAILABLE,"The operation could not be completed")))}),h(a,Nc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Hc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){jc("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Yh[t];if(void 0!==e)return ef(e)}(i),o=r.message;void 0===s&&(s=Pc.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Fc(s,o)),a.close()}else jc("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Oc.STAT_EVENT,function(t){10===t.stat?jc("Connection","Detected buffering proxy"):11===t.stat&&jc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);jc("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return jc("RestConnection","Received: ",t),t},function(e){throw Vc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Lg[t]},t}());function Fg(){return"undefined"!=typeof window?window:null}function Mg(){return"undefined"!=typeof document?document:null}function Ug(t){return new If(t,!0)}var jg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&jc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),qg=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new jg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Pc.RESOURCE_EXHAUSTED?(qc(e.toString()),qc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Pc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Fc(Pc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Ts.mG)(t,void 0,void 0,function(){return(0,Ts.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return jc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(jc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Vg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return(0,Ts.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:zc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Hc(void 0===e||"string"==typeof e),al.fromBase64String(e||"")):(Hc(void 0===e||e instanceof Uint8Array),al.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Pc.UNKNOWN:ef(t.code);return new Fc(e,t.message||"")}(a);n=new xf(r,i,s,o||null)}else if("documentChange"in e){i=Mf(t,(r=e.documentChange).document.name),s=Lf(r.document.updateTime);var a=new Ll({mapValue:{fields:r.document.fields}}),u=(o=Pl.newFoundDocument(i,s,a),r.targetIds||[]);n=new bf(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Mf(t,(r=e.documentDelete).document),s=r.readTime?Lf(r.readTime):Jc.min(),a=Pl.newNoDocument(i,s),n=new bf([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Mf(t,(r=e.documentRemove).document),n=new bf([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return zc();var c=e.filter;i=new Xh(r=c.count||0),n=new _f(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Jc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Jc.min():e.readTime?Lf(e.readTime):Jc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=qf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=ql(r)?{documents:$f(t,r)}:{query:Zf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Df(t,e.resumeToken):e.snapshotVersion.compareTo(Jc.min())>0&&(n.readTime=Of(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=qf(this.R),e.removeTarget=t,this.cr(e)},e}(qg),Bg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return(0,Ts.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Hc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Hc(void 0!==e),t.map(function(t){return function(t,e){var n=Lf(t.updateTime?t.updateTime:e);return n.isEqual(Jc.min())&&(n=Lf(e)),new Ph(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Lf(t.commitTime);return this.listener.Tr(n,e)}return Hc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=qf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Hf(e.R,t)})};this.cr(n)},e}(qg),zg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Ts.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Fc(Pc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Pc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Fc(Pc.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Pc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Fc(Pc.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Hg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(qc(e),this.Vr=!1):jc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Gg=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Ts.mG)(s,void 0,void 0,function(){return(0,Ts.Jh)(this,function(t){switch(t.label){case 0:return tm(this)?(jc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return(e=Gc(t)).Or.add(4),[4,Zg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,$g(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Hg(n,r)};function $g(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e,n;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:if(!tm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Zg(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e,n;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Wg(t,e){var n=Gc(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Xg(n)?Jg(n):gm(n).er()&&Qg(n,e))}function Yg(t,e){var n=Gc(t),r=gm(n);n.$r.delete(e),r.er()&&Kg(n,e),0===n.$r.size&&(r.er()?r.ir():tm(n)&&n.Br.set("Unknown"))}function Qg(t,e){t.qr.U(e.targetId),gm(t).mr(e)}function Kg(t,e){t.qr.U(e),gm(t).yr(e)}function Jg(t){t.qr=new Sf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),gm(t).start(),t.Br.Sr()}function Xg(t){return tm(t)&&!gm(t).tr()&&t.$r.size>0}function tm(t){return 0===Gc(t).Or.size}function em(t){t.qr=void 0}function nm(t){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){return t.$r.forEach(function(e,n){Qg(t,e)}),[2]})})}function rm(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(n){return em(t),Xg(t)?(t.Br.Nr(e),Jg(t)):t.Br.set("Unknown"),[2]})})}function im(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r,i,s;return(0,Ts.Jh)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof xf&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i,s;return(0,Ts.Jh)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),jc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,sm(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof bf?t.qr.X(e):e instanceof _f?t.qr.rt(e):t.qr.et(e),n.isEqual(Jc.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Jp(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(al.EMPTY_BYTE_STRING,n.snapshotVersion)),Kg(t,e);var r=new Hd(n.target,e,1,n.sequenceNumber);Qg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return jc("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,sm(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function sm(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r=this;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:if(!Pd(e))throw e;return t.Or.add(1),[4,Zg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Jp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Ts.mG)(r,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return jc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,$g(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function om(t,e){return e().catch(function(n){return sm(t,n,e)})}function am(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e,n,r,i,s;return(0,Ts.Jh)(this,function(o){switch(o.label){case 0:e=Gc(t),n=mm(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return tm(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,eg(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=mm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,sm(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return um(e)&&cm(e),[2]}})})}function um(t){return tm(t)&&!mm(t).tr()&&t.kr.length>0}function cm(t){mm(t).start()}function lm(t){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){return mm(t).Ar(),[2]})})}function hm(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e,n,r;return(0,Ts.Jh)(this,function(i){for(e=mm(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function fm(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r,i;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=zd.from(r,e,n),[4,om(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,am(t)];case 2:return s.sent(),[2]}})})}function dm(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return e&&mm(t).pr?[4,function(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return tf(r=e.code)&&r!==Pc.ABORTED?(n=t.kr.shift(),mm(t).sr(),[4,om(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,am(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return um(t)&&cm(t),[2]}})})}function pm(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:return n=Gc(t),e?(n.Or.delete(2),[4,$g(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Zg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function gm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Gc(t);return r.br(),new Vg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:nm.bind(null,t),Ri:rm.bind(null,t),_r:im.bind(null,t)}),t.Mr.push(function(n){return(0,Ts.mG)(e,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Xg(t)?Jg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),em(t),e.label=3;case 3:return[2]}})})})),t.Ur}function mm(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Gc(t);return r.br(),new Bg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:lm.bind(null,t),Ri:dm.bind(null,t),Ir:hm.bind(null,t),Tr:fm.bind(null,t)}),t.Mr.push(function(n){return(0,Ts.mG)(e,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,am(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(jc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var ym=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Id,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fc(Pc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function vm(t,e){if(qc("AsyncQueue",e+": "+t),Pd(t))return new Fc(Pc.UNAVAILABLE,e+": "+t);throw t}var wm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||vl.comparator(e.key,n.key)}:function(t,e){return vl.comparator(t.key,e.key)},this.keyedMap=hf(),this.sortedSet=new nf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),bm=function(){function t(){this.Qr=new nf(vl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):zc():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),_m=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,wm.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),xm=function(){this.Wr=void 0,this.listeners=[]},Tm=function(){this.queries=new Op(function(t){return ph(t)},dh),this.onlineState="Unknown",this.Gr=new Set};function Sm(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return(0,Ts.Jh)(this,function(c){switch(c.label){case 0:if(n=Gc(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new xm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=vm(a,"Initialization of query '"+gh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Am(n),[2]}})})}function Em(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,Ts.Jh)(this,function(a){return n=Gc(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Cm(t,e){for(var n=Gc(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&Am(n)}function km(t,e,n){var r=Gc(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Am(t){t.Gr.forEach(function(t){t.next()})}var Im=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new _m(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=_m.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Om=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Dm=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Mf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?zf(this.R,t.document,!1):Pl.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Lf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Dm(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||gf()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Ts.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return[4,ug(this.localStore,new Dm(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,cg(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Hp(Object.assign({},this.progress),t))]}})})}}();var Nm=function(t){this.key=t},Lm=function(t){this.key=t},Rm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=gf(),this.mutatedKeys=gf(),this.lo=yh(t),this.fo=new wm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new bm,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=sh(this.query)&&i.size===this.query.limit?i.last():null,c=oh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=mh(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),sh(this.query)||oh(this.query))for(;o.size>this.query.limit;){var l=sh(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new _m(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new bm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=gf(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Lm(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Nm(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=gf();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return _m.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Pm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Fm=function(t){this.key=t,this.bo=!1},Mm=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Op(function(t){return ph(t)},dh),this.Vo=new Map,this.So=new Set,this.Do=new nf(vl.comparator),this.Co=new Map,this.No=new hg,this.xo={},this.Fo=new Map,this.ko=vp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Um(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,Ts.Jh)(this,function(a){switch(a.label){case 0:return n=dy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,ng(n.localStore,hh(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,jm(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&Wg(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function jm(t,e,n,r){return(0,Ts.mG)(this,void 0,void 0,function(){var i,s,o,a,u,c;return(0,Ts.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Ts.mG)(this,void 0,void 0,function(){var i,s,o;return(0,Ts.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,ig(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(Jm(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,ig(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Rm(e,i.Bn),o=s._o(i.documents),a=wf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),Jm(t,n,u.To),c=new Pm(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function qm(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return n=Gc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!dh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,rg(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Yg(n.remoteStore,r.targetId),Qm(n,r.targetId)}).catch(Tp)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Qm(n,r.targetId),[4,rg(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Vm(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,Ts.Jh)(this,function(a){switch(a.label){case 0:r=py(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Gc(t),i=Kc.now(),s=e.reduce(function(t,e){return t.add(e.key)},gf());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Vh(c,n.get(c.key));null!=l&&o.push(new Gh(c.key,l,Rl(l.value.mapValue),Fh.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new nf(Wc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,ey(r,i.changes)];case 3:return a.sent(),[4,am(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=vm(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Bm(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:n=Gc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Xp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Hc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Hc(r.bo):t.removedDocuments.size>0&&(Hc(r.bo),r.bo=!1))}),[4,ey(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Tp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function zm(t,e,n){var r=Gc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Gc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Am(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hm(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r,i,s,o,a,u;return(0,Ts.Jh)(this,function(c){switch(c.label){case 0:return(r=Gc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new nf(vl.comparator)).insert(s,Pl.newNoDocument(s,Jc.min())),a=gf().add(s),u=new vf(Jc.min(),new Map,new of(Wc),o,a),[4,Bm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),ty(r),[3,4];case 2:return[4,rg(r.localStore,e,!1).then(function(){return Qm(r,e,n)}).catch(Tp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Gm(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:n=Gc(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Kp(n.localStore,e)];case 2:return i=s.sent(),Ym(n,r,null),Wm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ey(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Tp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function $m(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r,i;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:r=Gc(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Gc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Hc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),Ym(r,e,n),Wm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ey(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Tp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Zm(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,Ts.Jh)(this,function(a){switch(a.label){case 0:tm((n=Gc(t)).remoteStore)||jc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Gc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=vm(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Wm(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Ym(t,e,n){var r=Gc(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Qm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Km(t,e)})}function Km(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Yg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),ty(t))}function Jm(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Nm?(t.No.addReference(s.key,e),Xm(t,s)):s instanceof Lm?(jc("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Km(t,s.key)):zc()}}function Xm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(jc("SyncEngine","New document in limbo: "+n),t.So.add(r),ty(t))}function ty(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new vl(rl.fromString(e)),r=t.ko.next();t.Co.set(r,new Fm(n)),t.Do=t.Do.insert(n,r),Wg(t.remoteStore,new Hd(hh(ih(n.path)),r,2,Rc.o))}}function ey(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,Ts.Jh)(this,function(a){switch(a.label){case 0:return r=Gc(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=$p.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return(0,Ts.Jh)(this,function(l){switch(l.label){case 0:n=Gc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Od.forEach(e,function(e){return Od.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Od.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Pd(r=l.sent()))throw r;return jc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function ny(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return(n=Gc(t)).currentUser.isEqual(e)?[3,3]:(jc("SyncEngine","User change. New user:",e.toKey()),[4,Qp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Fc(Pc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ey(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ry(t,e){var n=Gc(t),r=n.Co.get(e);if(r&&r.bo)return gf().add(r.key);var i=gf(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function iy(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return[4,ig((n=Gc(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Jm(n,e.targetId,i.To),i)]}})})}function sy(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){return[2,og((e=Gc(t)).localStore).then(function(t){return ey(e,t)})]})})}function oy(t,e,n,r){return(0,Ts.mG)(this,void 0,void 0,function(){var i,s;return(0,Ts.Jh)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Gc(t),r=Gc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Od.resolve(null)})})}((i=Gc(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,am(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ym(i,e,r||null),Wm(i,e),function(t,e){Gc(Gc(t)._n).Gt(e)}(i.localStore,e)):zc(),o.label=4;case 4:return[4,ey(i,s)];case 5:return o.sent(),[3,7];case 6:jc("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function ay(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return(0,Ts.Jh)(this,function(c){switch(c.label){case 0:return dy(n=Gc(t)),py(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,uy(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,pm(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Wg(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Qm(n,e),rg(n.localStore,e,!0)}),Yg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,uy(n,a)];case 5:return c.sent(),function(t){var e=Gc(t);e.Co.forEach(function(t,n){Yg(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new nf(vl.comparator)}(n),n.$o=!1,[4,pm(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function uy(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return(0,Ts.Jh)(this,function(g){switch(g.label){case 0:n=Gc(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,ng(n.localStore,hh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,iy(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,sg(n.localStore,a)];case 8:return p=g.sent(),[4,ng(n.localStore,p)];case 9:return u=g.sent(),[4,jm(n,cy(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function cy(t){return rh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ly(t){var e=Gc(t);return Gc(Gc(e.localStore).persistence).fn()}function hy(t,e,n,r){return(0,Ts.mG)(this,void 0,void 0,function(){var i,s,o;return(0,Ts.Jh)(this,function(a){switch(a.label){case 0:return(i=Gc(t)).$o?(jc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,og(i.localStore)];case 3:return s=a.sent(),o=vf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,ey(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,rg(i.localStore,e,!0)];case 6:return a.sent(),Qm(i,e,r),[3,8];case 7:zc(),a.label=8;case 8:return[2]}})})}function fy(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return(0,Ts.Jh)(this,function(f){switch(f.label){case 0:if(!(r=dy(t)).$o)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(jc("SyncEngine","Adding an already active target "+o),[3,5]):[4,sg(r.localStore,o)]:[3,6];case 2:return a=f.sent(),[4,ng(r.localStore,a)];case 3:return u=f.sent(),[4,jm(r,cy(a),u.targetId,!1)];case 4:f.sent(),Wg(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,rg(r.localStore,t,!1).then(function(){Yg(r.remoteStore,t),Qm(r,t)}).catch(Tp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function dy(t){var e=Gc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ry.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hm.bind(null,e),e.vo._r=Cm.bind(null,e.eventManager),e.vo.Mo=km.bind(null,e.eventManager),e}function py(t){var e=Gc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$m.bind(null,e),e}var gy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return this.R=Ug(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Yp(this.persistence,new Zp,t.initialUser,this.R)},t.prototype.qo=function(t){return new yg(wg.bs,this.R)},t.prototype.Bo=function(t){return new Og},t.prototype.terminate=function(){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),my=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Ts.ZT)(e,t),e.prototype.initialize=function(e){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ag(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,py(this.Qo.syncEngine)];case 4:return n.sent(),[4,am(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return Yp(this.persistence,new Zp,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Cp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=zp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?lp.withCacheSize(this.cacheSizeBytes):lp.DEFAULT;return new qp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Fg(),Mg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Og},e}(gy),yy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Ts.ZT)(e,t),e.prototype.initialize=function(e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r=this;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Ig?(this.sharedClientState.syncEngine={ui:oy.bind(null,n),ai:hy.bind(null,n),hi:fy.bind(null,n),fn:ly.bind(null,n),ci:sy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Ts.mG)(r,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return[4,ay(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Fg();if(!Ig.yt(e))throw new Fc(Pc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ig(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(my),vy=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n=this;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return zm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ny.bind(null,this.syncEngine),[4,pm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Tm},t.prototype.createDatastore=function(t){var e=Ug(t.databaseInfo.databaseId),n=new Pg(t.databaseInfo);return function(t,e,n){return new zg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return zm(o.syncEngine,t,0)},s=Ng.yt()?new Ng:new Dg,new Gg(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Mm(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return e=Gc(t),jc("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Zg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),wy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),by=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Id,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Ts.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Om(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Ts.mG)(this,void 0,void 0,function(){var t,e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Ts.mG)(this,void 0,void 0,function(){var t,e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Fc(Pc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a;return(0,Ts.Jh)(this,function(u){switch(u.label){case 0:return n=Gc(t),r=qf(n.R)+"/documents",i={documents:e.map(function(t){return Ff(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Hc(!!e.found);var n=Mf(t,e.found.name),r=Lf(e.found.updateTime),i=new Ll({mapValue:{fields:e.found.fields}});return Pl.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Hc(!!e.missing),Hc(!!e.readTime);var n=Mf(t,e.missing),r=Lf(e.readTime);return Pl.newNoDocument(n,r)}(t,e):zc()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Hc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Kh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Ts.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=vl.fromPath(n);e.mutations.push(new Jh(r,e.precondition(r)))}),[4,function(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return n=Gc(t),r=qf(n.R)+"/documents",i={writes:e.map(function(t){return Hf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw zc();e=Jc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Fc(Pc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Fh.updateTime(e):Fh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Jc.min()))throw new Fc(Pc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fh.updateTime(e)}return Fh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),_y=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new jg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Ts.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,Ts.Jh)(this,function(r){return t=new by(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!gl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!tf(e)}return!1},t}(),xy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=bg.UNAUTHENTICATED,this.clientId=Zc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Ts.mG)(r,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return jc("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Fc(Pc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Id;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ts.mG)(t,void 0,void 0,function(){var t,n;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=vm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ty(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),jc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Ts.mG)(i,void 0,void 0,function(){return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Qp(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Sy(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Ey(t)];case 1:return n=i.sent(),jc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Ts.mG)(this,void 0,void 0,function(){var n,r;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return(n=Gc(t)).asyncQueue.verifyOperationInProgress(),jc("RemoteStore","RemoteStore received new credentials"),r=tm(n),n.Or.add(3),[4,Zg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,$g(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Ey(t){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(jc("FirestoreClient","Using default OfflineComponentProvider"),[4,Ty(t,new gy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Cy(t){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(jc("FirestoreClient","Using default OnlineComponentProvider"),[4,Sy(t,new vy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function ky(t){return Ey(t).then(function(t){return t.persistence})}function Ay(t){return Ey(t).then(function(t){return t.localStore})}function Iy(t){return Cy(t).then(function(t){return t.remoteStore})}function Oy(t){return Cy(t).then(function(t){return t.syncEngine})}function Dy(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e,n;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:return[4,Cy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Um.bind(null,e.syncEngine),n.onUnlisten=qm.bind(null,e.syncEngine),n)]}})})}function Ny(t,e,n){var r=this;void 0===n&&(n={});var i=new Id;return t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(r,void 0,void 0,function(){var r;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new wy({next:function(s){e.enqueueAndForget(function(){return Em(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Fc(Pc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Fc(Pc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Im(ih(n.path),s,{includeMetadataChanges:!0,so:!0});return Sm(t,o)},[4,Dy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Ly(t,e,n){var r=this;void 0===n&&(n={});var i=new Id;return t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(r,void 0,void 0,function(){var r;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new wy({next:function(n){e.enqueueAndForget(function(){return Em(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Fc(Pc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Im(n,s,{includeMetadataChanges:!0,so:!0});return Sm(t,o)},[4,Dy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Ry=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},Py=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Fy=new Map,My=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Uy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(bg.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),jy=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),qy=function(){function t(t){var e=this;this.currentUser=bg.UNAUTHENTICATED,this.oc=new Id,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){jc("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(jc("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(jc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Hc("string"==typeof n.accessToken),new My(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Ts.mG)(n,void 0,void 0,function(){return(0,Ts.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Hc(null===t||"string"==typeof t),new bg(t)},t}(),Vy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=bg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),By=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Vy(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(bg.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function zy(t,e,n){if(!n)throw new Fc(Pc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Hy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Gy(t,e,n,r){if(!0===e&&!0===r)throw new Fc(Pc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function $y(t){if(!vl.isDocumentKey(t))throw new Fc(Pc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Zy(t){if(vl.isDocumentKey(t))throw new Fc(Pc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":zc()}function Yy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fc(Pc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wy(t);throw new Fc(Pc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Qy(t,e){if(e<=0)throw new Fc(Pc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ky=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Fc(Pc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fc(Pc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Gy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Jy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ky({}),this._settingsFrozen=!1,t instanceof Py?(this._databaseId=t,this._credentials=new Uy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Fc(Pc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Py(t.options.projectId)}(t),this._credentials=new qy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Fc(Pc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Fc(Pc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ky(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Uy;switch(t.type){case"gapi":var e=t.client;return Hc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new By(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fc(Pc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Fy.get(this))&&(jc("ComponentProvider","Removing Datastore"),Fy.delete(this),t.terminate()),Promise.resolve();var t},t}(),Xy=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ev(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),tv=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ev=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ih(r))||this)._path=r,i.type="collection",i}return(0,Ts.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Xy(this.firestore,null,new vl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(tv);function nv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Ss.m9)(t),zy("collection","path",e),t instanceof Jy)return Zy(n=rl.fromString.apply(rl,(0,Ts.ev)([e],r))),new ev(t,null,n);if(!(t instanceof Xy||t instanceof ev))throw new Fc(Pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Zy(n=rl.fromString.apply(rl,(0,Ts.ev)([t.path],r)).child(rl.fromString(e))),new ev(t.firestore,null,n)}function rv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Ss.m9)(t),1===arguments.length&&(e=Zc.u()),zy("doc","path",e),t instanceof Jy)return $y(n=rl.fromString.apply(rl,(0,Ts.ev)([e],r))),new Xy(t,null,new vl(n));if(!(t instanceof Xy||t instanceof ev))throw new Fc(Pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $y(n=t._path.child(rl.fromString.apply(rl,(0,Ts.ev)([e],r)))),new Xy(t.firestore,t instanceof ev?t.converter:null,new vl(n))}function iv(t,e){return t=(0,Ss.m9)(t),e=(0,Ss.m9)(e),(t instanceof Xy||t instanceof ev)&&(e instanceof Xy||e instanceof ev)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function sv(t,e){return t=(0,Ss.m9)(t),e=(0,Ss.m9)(e),t instanceof tv&&e instanceof tv&&t.firestore===e.firestore&&dh(t._query,e._query)&&t.converter===e.converter}var ov=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new jg(this,"async_queue_retry"),this.Ic=function(){var e=Mg();e&&jc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Mg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Mg();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Id;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,Ts.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Pd(t=n.sent()))throw t;return jc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,qc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=ym.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&zc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,Ts.mG)(this,void 0,void 0,function(){var t;return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function av(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Id,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var uv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new ov,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Ts.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||lv(this),this._firestoreClient.terminate()},e}(Jy);function cv(t){return t._firestoreClient||lv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Ry(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new xy(t._credentials,t._queue,r)}function hv(t,e,n){var r=this,i=new Id;return t.asyncQueue.enqueue(function(){return(0,Ts.mG)(r,void 0,void 0,function(){var r;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Ty(t,n)];case 1:return s.sent(),[4,Sy(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Pc.FAILED_PRECONDITION||t.code===Pc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function fv(t){if(t._initialized||t._terminated)throw new Fc(Pc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var dv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),pv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(al.fromBase64String(e))}catch(e){throw new Fc(Pc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(al.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),gv=function(t){this._methodName=t},mv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Fc(Pc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Fc(Pc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Wc(this._lat,t._lat)||Wc(this._long,t._long)},t}(),yv=/^__.*__$/,vv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Gh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hh(t,this.data,e,this.fieldTransforms)},t}(),wv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Gh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function bv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zc()}}var _v=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return Vv(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(bv(this.Nc)&&yv.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),xv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Ug(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new _v({Nc:t,methodName:e,qc:n,path:sl.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Tv(t){var e=t._freezeSettings(),n=Ug(t._databaseId);return new xv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sv(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Uc(s.merge||s.mergeFields?2:0,e,n,i);Mv("Data must be an object, but it was:",o,r);var a,u,c=Pv(r,o);if(s.merge)a=new ol(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Uv(e,f[h],n);if(!o.contains(d))throw new Fc(Pc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Bv(l,d)||l.push(d)}a=new ol(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new vv(new Ll(c),a,u)}var Ev=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ts.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(gv);function Cv(t,e,n){return new _v({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var kv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ts.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Rh(t.path,new Ch)},e.prototype.isEqual=function(t){return t instanceof e},e}(gv),Av=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Ts.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Cv(this,t,!0),n=this.Kc.map(function(t){return Rv(t,e)}),r=new kh(n);return new Rh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gv),Iv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Ts.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Cv(this,t,!0),n=this.Kc.map(function(t){return Rv(t,e)}),r=new Ih(n);return new Rh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gv),Ov=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,Ts.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new Dh(t.R,_h(t.R,this.Qc));return new Rh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(gv);function Dv(t,e,n,r){var i=t.Uc(1,e,n);Mv("Data must be an object, but it was:",i,r);var s=[],o=Ll.empty();tl(r,function(t,r){var a=qv(e,t,n);r=(0,Ss.m9)(r);var u=i.Oc(a);if(r instanceof Ev)s.push(a);else{var c=Rv(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new ol(s);return new wv(o,a,i.fieldTransforms)}function Nv(t,e,n,r,i,s){var o=t.Uc(1,e,n),a=[Uv(e,r,n)],u=[i];if(s.length%2!=0)throw new Fc(Pc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Uv(e,s[c])),u.push(s[c+1]);for(var l=[],h=Ll.empty(),f=a.length-1;f>=0;--f)if(!Bv(l,a[f])){var d=a[f],p=u[f];p=(0,Ss.m9)(p);var g=o.Oc(d);if(p instanceof Ev)l.push(d);else{var m=Rv(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new ol(l);return new wv(h,y,o.fieldTransforms)}function Lv(t,e,n,r){return void 0===r&&(r=!1),Rv(n,t.Uc(r?4:3,e))}function Rv(t,e){if(Fv(t=(0,Ss.m9)(t)))return Mv("Unsupported field value:",e,t),Pv(t,e);if(t instanceof gv)return function(t,e){if(!bv(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Rv(s[i],e.Mc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Ss.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _h(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Kc.fromDate(t);return{timestampValue:Of(e.R,n)}}if(t instanceof Kc)return n=new Kc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Of(e.R,n)};if(t instanceof mv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pv)return{bytesValue:Df(e.R,t._byteString)};if(t instanceof Xy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Rf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Wy(t))}(t,e)}function Pv(t,e){var n={};return el(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tl(t,function(t,r){var i=Rv(r,e.Fc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Fv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Kc||t instanceof mv||t instanceof pv||t instanceof Xy||t instanceof gv)}function Mv(t,e,n){if(!Fv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Wy(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Uv(t,e,n){if((e=(0,Ss.m9)(e))instanceof dv)return e._internalPath;if("string"==typeof e)return qv(t,e);throw Vv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var jv=new RegExp("[~\\*/\\[\\]]");function qv(t,e,n){if(e.search(jv)>=0)throw Vv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(dv.bind.apply(dv,(0,Ts.ev)([void 0],e.split(".")))))._internalPath}catch(Vw){throw Vv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Vv(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Fc(Pc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Bv(t,e){return t.some(function(t){return t.isEqual(e)})}var zv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Xy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Hv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Gv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ts.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(zv);function Gv(t,e){return"string"==typeof e?qv(t,e):e instanceof dv?e._internalPath:e._delegate._internalPath}var $v=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Zv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return(0,Ts.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Gv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(zv),Wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ts.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Zv),Yv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new $v(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Wv(n._firestore,n._userDataWriter,r.key,r,new $v(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fc(Pc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Wv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new $v(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Wv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new $v(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Qv(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Qv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zc()}}function Kv(t,e){return t instanceof Zv&&e instanceof Zv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Yv&&e instanceof Yv&&t._firestore===e._firestore&&sv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Jv(t){if(oh(t)&&0===t.explicitOrderBy.length)throw new Fc(Pc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xv=function(){};function tw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var ew=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Ts.ZT)(e,t),e.prototype._apply=function(t){var e=Tv(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){uw(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(aw(r,t,l[c]));a={arrayValue:{values:u}}}else a=aw(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||uw(o,s),a=Lv(n,"where",o,"in"===s||"not-in"===s);var h=Vl.create(i,s,a);return function(t,e){if(e.g()){var n=uh(t);if(null!==n&&!n.isEqual(e.field))throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ah(t);null!==r&&cw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Fc(Pc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new tv(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Xv),nw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,Ts.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Jl(e,n);return function(t,e){if(null===ah(t)){var n=uh(t);null!==n&&cw(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new tv(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new nh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Xv),rw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,Ts.ZT)(e,t),e.prototype._apply=function(t){return new tv(t.firestore,t.converter,fh(t._query,this.Hc,this.Jc))},e}(Xv),iw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Ts.ZT)(e,t),e.prototype._apply=function(t){var e=ow(t,this.type,this.Yc,this.Xc);return new tv(t.firestore,t.converter,function(t,e){return new nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Xv),sw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Ts.ZT)(e,t),e.prototype._apply=function(t){var e=ow(t,this.type,this.Yc,this.Xc);return new tv(t.firestore,t.converter,function(t,e){return new nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Xv);function ow(t,e,n,r){if(n[0]=(0,Ss.m9)(n[0]),n[0]instanceof zv)return function(t,e,n,r,i){if(!r)throw new Fc(Pc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=lh(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Cl(e,r.key));else{var c=r.data.field(u.field);if(fl(c))throw new Fc(Pc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Ql(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Tv(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Fc(Pc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ch(t)&&-1!==c.indexOf("/"))throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(rl.fromString(c));if(!vl.isDocumentKey(l))throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new vl(l);a.push(Cl(e,h))}else{var f=Lv(n,r,c);a.push(f)}}return new Ql(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function aw(t,e,n){if("string"==typeof(n=(0,Ss.m9)(n))){if(""===n)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ch(e)&&-1!==n.indexOf("/"))throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(rl.fromString(n));if(!vl.isDocumentKey(r))throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Cl(t,new vl(r))}if(n instanceof Xy)return Cl(t,n._key);throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wy(n)+".")}function uw(t,e){if(!Array.isArray(t)||0===t.length)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function cw(t,e,n){if(!n.isEqual(e))throw new Fc(Pc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var lw=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),wl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ll(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw zc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return tl(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new mv(ll(t.latitude),ll(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=dl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(pl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=cl(t);return new Kc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=rl.fromString(t);Hc(sd(n));var r=new Py(n.get(1),n.get(3)),i=new vl(n.popFirst(5));return r.isEqual(e)||qc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function hw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var fw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ts.ZT)(e,t),e.prototype.convertBytes=function(t){return new pv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xy(this.firestore,null,e)},e}(lw),dw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Tv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=pw(t,this._firestore),i=hw(r.converter,e,n),s=Sv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Fh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=pw(t,this._firestore);return s="string"==typeof(e=(0,Ss.m9)(e))||e instanceof dv?Nv(this._dataReader,"WriteBatch.update",o._key,e,n,r):Dv(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Fh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=pw(t,this._firestore);return this._mutations=this._mutations.concat(new Kh(e._key,Fh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Fc(Pc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function pw(t,e){if((t=(0,Ss.m9)(t)).firestore!==e)throw new Fc(Pc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var gw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ts.ZT)(e,t),e.prototype.convertBytes=function(t){return new pv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xy(this.firestore,null,e)},e}(lw);function mw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Yy(t,Xy);var s=Yy(t.firestore,uv),o=Tv(s);return vw(s,[("string"==typeof(e=(0,Ss.m9)(e))||e instanceof dv?Nv(o,"updateDoc",t._key,e,n,r):Dv(o,"updateDoc",t._key,e)).toMutation(t._key,Fh.exists(!0))])}function yw(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=(0,Ss.m9)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||av(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(av(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Xy)c=Yy(t.firestore,uv),l=ih(t._key.path),u={next:function(e){i[a]&&i[a](ww(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Yy(t,tv);c=Yy(d.firestore,uv),l=d._query;var p=new gw(c);u={next:function(t){i[a]&&i[a](new Yv(c,p,d,t))},error:i[a+1],complete:i[a+2]},Jv(t._query)}return function(t,e,n,r){var i=this,s=new wy(r),o=new Im(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(i,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return e=Sm,[4,Dy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(i,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return e=Em,[4,Dy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(cv(c),l,h,u)}function vw(t,e){return function(t,e){var n=this,r=new Id;return t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(n,void 0,void 0,function(){var n;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return n=Vm,[4,Oy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(cv(t),e)}function ww(t,e,n){var r=n.docs.get(e._key),i=new gw(t);return new Zv(t,i,e._key,r,new $v(n.hasPendingWrites,n.fromCache),e.converter)}var bw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Ts.ZT)(e,t),e.prototype.get=function(e){var n=this,r=pw(e,this._firestore),i=new gw(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Zv(n._firestore,i,r._key,t._document,new $v(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Tv(t)}return t.prototype.get=function(t){var e=this,n=pw(t,this._firestore),r=new fw(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return zc();var i=t[0];if(i.isFoundDocument())return new zv(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zv(e._firestore,r,n._key,null,n.converter);throw zc()})},t.prototype.set=function(t,e,n){var r=pw(t,this._firestore),i=hw(r.converter,e,n),s=Sv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=pw(t,this._firestore);return s="string"==typeof(e=(0,Ss.m9)(e))||e instanceof dv?Nv(this._dataReader,"Transaction.update",o._key,e,n,r):Dv(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=pw(t,this._firestore);return this._transaction.delete(e._key),this},t}());function _w(){if("undefined"==typeof Uint8Array)throw new Fc(Pc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xw(){if("undefined"==typeof atob)throw new Fc(Pc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Tw=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return xw(),new t(pv.fromBase64String(e))},t.fromUint8Array=function(e){return _w(),new t(pv.fromUint8Array(e))},t.prototype.toBase64=function(){return xw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return _w(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Sw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){fv(t=Yy(t,uv));var n=cv(t),r=t._freezeSettings(),i=new vy;return hv(n,i,new my(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){fv(t=Yy(t,uv));var e=cv(t),n=t._freezeSettings(),r=new vy;return hv(e,r,new yy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Fc(Pc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Id;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ts.mG)(e,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Ts.mG)(this,void 0,void 0,function(){return(0,Ts.Jh)(this,function(e){switch(e.label){case 0:return Nd.yt()?[4,Nd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(zp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Ew=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Py||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Vc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Yy(t,Jy))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Vc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=(0,Ss.Sg)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Fc(Pc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new jy(new My(s,new bg(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ts.mG)(e,void 0,void 0,function(){var e,n;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:return[4,ky(t)];case 1:return e=r.sent(),[4,Iy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Gc(t);return e.Or.delete(0),$g(e)}(n))]}})})})}(cv(Yy(this._delegate,uv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ts.mG)(e,void 0,void 0,function(){var e,n;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:return[4,ky(t)];case 1:return e=r.sent(),[4,Iy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Ts.mG)(this,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return(e=Gc(t)).Or.add(0),[4,Zg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(cv(Yy(this._delegate,uv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Gy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Id;return t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(e,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(r){switch(r.label){case 0:return e=Zm,[4,Oy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(cv(Yy(this._delegate,uv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new wy(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(n,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Gc(t).Gr.add(e),e.next()},[4,Dy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(n,void 0,void 0,function(){var e;return(0,Ts.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Gc(t).Gr.delete(e)},[4,Dy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(cv(t=Yy(t,uv)),av(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Fc(Pc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new jw(this,nv(this._delegate,t))}catch(t){throw Dw(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Ow(this,rv(this._delegate,t))}catch(t){throw Dw(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Fw(this,function(t,e){if(t=Yy(t,Jy),zy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new tv(t,null,function(t){return new nh(rl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Dw(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Id;return t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(n,void 0,void 0,function(){var n;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return Cy(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new _y(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(cv(t),function(n){return e(new bw(t,n))})}(this._delegate,function(n){return t(new kw(e,n))})},t.prototype.batch=function(){var t=this;return cv(this._delegate),new Aw(new dw(this._delegate,function(e){return vw(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Fc(Pc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Fc(Pc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Cw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ts.ZT)(e,t),e.prototype.convertBytes=function(t){return new Tw(new pv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Ow.eu(e,this.firestore,null)},e}(lw),kw=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Cw(t)}return t.prototype.get=function(t){var e=this,n=qw(t);return this._delegate.get(n).then(function(t){return new Rw(e._firestore,new Zv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=qw(t);return n?(Hy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=qw(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,(0,Ts.ev)([o,e,n],i)),this},t.prototype.delete=function(t){var e=qw(t);return this._delegate.delete(e),this},t}(),Aw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=qw(t);return n?(Hy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=qw(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,(0,Ts.ev)([o,e,n],i)),this},t.prototype.delete=function(t){var e=qw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Iw=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Wv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Pw(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Cw(e),n),i.set(n,s)),s},t}();Iw.su=new WeakMap;var Ow=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Cw(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Fc(Pc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Xy(n._delegate,r,new vl(e)))},t.eu=function(e,n,r){return new t(n,new Xy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new jw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new jw(this.firestore,nv(this._delegate,t))}catch(t){throw Dw(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,Ss.m9)(t))instanceof Xy&&iv(this._delegate,t)},t.prototype.set=function(t,e){e=Hy("DocumentReference.set",e);try{return function(t,e,n){t=Yy(t,Xy);var r=Yy(t.firestore,uv),i=hw(t.converter,e,n);return vw(r,[Sv(Tv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Fh.none())])}(this._delegate,t,e)}catch(t){throw Dw(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?mw(this._delegate,t):mw.apply(void 0,(0,Ts.ev)([this._delegate,t,e],n))}catch(t){throw Dw(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return vw(Yy((t=this._delegate).firestore,uv),[new Kh(t._key,Fh.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Nw(e),i=Lw(e,function(e){return new Rw(t.firestore,new Zv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return yw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Yy(t,Xy);var e=Yy(t.firestore,uv),n=cv(e),r=new gw(e);return function(t,e){var n=this,r=new Id;return t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(n,void 0,void 0,function(){var n;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r,i;return(0,Ts.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Gc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Fc(Pc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=vm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Ay(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Zv(e,r,t._key,n,new $v(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Yy(t,Xy);var e=Yy(t.firestore,uv);return Ny(cv(e),t._key,{source:"server"}).then(function(n){return ww(e,t,n)})}(this._delegate):function(t){t=Yy(t,Xy);var e=Yy(t.firestore,uv);return Ny(cv(e),t._key).then(function(n){return ww(e,t,n)})}(this._delegate)).then(function(t){return new Rw(e.firestore,new Zv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Iw.nu(this.firestore,e):null))},t}();function Dw(t,e,n){return t.message=t.message.replace(e,n),t}function Nw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!av(r))return r}return{}}function Lw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=av(t[0])?t[0]:av(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Rw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ow(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Kv(this._delegate,t._delegate)},t}(),Pw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ts.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Rw),Fw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Cw(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,tw(this._delegate,function(t,e,n){var r=e,i=Gv("where",t);return new ew(i,r,n)}(e,n,r)))}catch(e){throw Dw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,tw(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Gv("orderBy",t);return new nw(r,n)}(e,n)))}catch(e){throw Dw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,tw(this._delegate,function(t){return Qy("limit",t),new rw("limit",t,"F")}(e)))}catch(e){throw Dw(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,tw(this._delegate,function(t){return Qy("limitToLast",t),new rw("limitToLast",t,"L")}(e)))}catch(e){throw Dw(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,tw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iw("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Dw(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,tw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iw("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Dw(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,tw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sw("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Dw(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,tw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sw("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Dw(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return sv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Yy(t,tv);var e=Yy(t.firestore,uv),n=cv(e),r=new gw(e);return function(t,e){var n=this,r=new Id;return t.asyncQueue.enqueueAndForget(function(){return(0,Ts.mG)(n,void 0,void 0,function(){var n;return(0,Ts.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ts.mG)(this,void 0,void 0,function(){var r,i,s,o,a;return(0,Ts.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ig(t,e,!0)];case 1:return a=u.sent(),r=new Rm(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=vm(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Ay(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Yv(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Yy(t,tv);var e=Yy(t.firestore,uv),n=cv(e),r=new gw(e);return Ly(n,t._query,{source:"server"}).then(function(n){return new Yv(e,r,t,n)})}(this._delegate):function(t){t=Yy(t,tv);var e=Yy(t.firestore,uv),n=cv(e),r=new gw(e);return Jv(t._query),Ly(n,t._query).then(function(n){return new Yv(e,r,t,n)})}(this._delegate)).then(function(t){return new Uw(e.firestore,new Yv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Nw(e),i=Lw(e,function(e){return new Uw(t.firestore,new Yv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return yw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Iw.nu(this.firestore,e):null))},t}(),Mw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Pw(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Uw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Fw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Pw(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Mw(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Pw(n._firestore,r))})},t.prototype.isEqual=function(t){return Kv(this._delegate,t._delegate)},t}(),jw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Ts.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Ow(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ow(this.firestore,void 0===t?rv(this._delegate):rv(this._delegate,t))}catch(t){throw Dw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Yy(t.firestore,uv),r=rv(t),i=hw(t.converter,e);return vw(n,[Sv(Tv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Fh.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Ow(e.firestore,t)})},e.prototype.isEqual=function(t){return iv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Iw.nu(this.firestore,t):null))},e}(Fw);function qw(t){return Yy(t,Xy)}var Vw,Bw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(dv.bind.apply(dv,(0,Ts.ev)([void 0],t)))}return t.documentId=function(){return new t(sl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,Ss.m9)(t))instanceof dv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),zw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new kv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Ev("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Av("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Iv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Ov("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Hw=n(5119),Gw={Firestore:Ew,GeoPoint:mv,Timestamp:Kc,Blob:Tw,Transaction:kw,WriteBatch:Aw,DocumentReference:Ow,DocumentSnapshot:Rw,Query:Fw,QueryDocumentSnapshot:Pw,QuerySnapshot:Uw,CollectionReference:jw,FieldPath:Bw,FieldValue:zw,setLogLevel:function(t){Mc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Hw.wA("firestore",function(t){return function(t,e){return new Ew(t,new uv(t,e),new Sw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Gw)))})(Vw=xs.Z),Vw.registerVersion("@firebase/firestore","2.3.9");var $w=n(1906),Zw=n(8489),Ww=n(9291);class Yw extends Tt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Qw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new St.N;if(this.isStopped||this.hasError?s=Ee.w.EMPTY:(this.observers.push(t),s=new Ww.W(this,t)),r&&t.add(t=new ws.ht(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Zw.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Qw{constructor(t,e){this.time=t,this.value=e}}function Kw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new Yw(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function Jw(t,e){return e?$t(()=>t,e):$t(()=>t)}var Xw=n(4187);const tb=new r.OlP("angularfire2.auth.use-emulator"),eb=new r.OlP("angularfire2.auth.settings"),nb=new r.OlP("angularfire2.auth.tenant-id"),rb=new r.OlP("angularfire2.auth.langugage-code"),ib=new r.OlP("angularfire2.auth.use-device-language"),sb=new r.OlP("angularfire.auth.persistence");let ob=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new bs.HU(i),f=(0,bs.ss)(h),d=new Tt.xQ,p=(0,xt.of)(void 0).pipe((0,ws.QV)(h.outsideAngular),$t(()=>i.runOutsideAngular(()=>n.e(420).then(n.bind(n,7420)))),(0,Ht.U)(()=>(0,bs.on)(t,i,e)),(0,Ht.U)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return(0,bs.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Kw({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xt.of)(null);else{p.pipe(xe()).subscribe();const t=p.pipe($t(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Kw({bufferSize:1,refCount:!1})),e=t=>new Nt.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe($t(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe($t(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Jw(n),(0,Xw.R)(h.outsideAngular),(0,ws.QV)(h.insideAngular)),this.user=t.pipe(Jw(r),(0,Xw.R)(h.outsideAngular),(0,ws.QV)(h.insideAngular)),this.idToken=this.user.pipe($t(t=>t?(0,_t.D)(t.getIdToken()):(0,xt.of)(null))),this.idTokenResult=this.user.pipe($t(t=>t?(0,_t.D)(t.getIdTokenResult()):(0,xt.of)(null))),this.credential=(0,$w.T)(t,d,this.authState.pipe(re(t=>!t))).pipe((0,Ht.U)(t=>(null==t?void 0:t.user)?t:null),(0,Xw.R)(h.outsideAngular),(0,ws.QV)(h.insideAngular))}return(0,bs.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(bs.Dh),r.LFG(bs.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(tb,8),r.LFG(eb,8),r.LFG(nb,8),r.LFG(rb,8),r.LFG(ib,8),r.LFG(sb,8))},token:t,providedIn:"any"}),t})();function ab(t,e){return function(t,e=ds.z){return new Nt.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function ub(t,e){return ab(t,e).pipe((0,Ht.U)(t=>({payload:t,type:"query"})))}function cb(t,e){return ub(t,e).pipe(Xt(void 0),ps(),(0,Ht.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function lb(t,e,n){return cb(t,n).pipe(te((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return hb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return hb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return hb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new ys(void 0,void 0)),(0,Ht.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function hb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function fb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(0,bs.GT)(ob,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class db{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=cb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ht.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Xt(void 0),ps(),re(([t,e])=>e.length>0||!t),(0,Ht.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(te((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=fb(t);return lb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ub(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ht.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,_t.D)(this.query.get(t)).pipe((0,ws.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new pb(this.ref.doc(t),this.afs)}}class pb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=bb(n,e);return new db(r,i,this.afs)}snapshotChanges(){return ab(this.ref,this.afs.schedulers.outsideAngular).pipe(Xt(void 0),ps(),(0,Ht.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ht.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,_t.D)(this.ref.get(t)).pipe((0,ws.QV)(this.afs.schedulers.insideAngular))}}class gb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?cb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ht.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),re(t=>t.length>0),this.afs.keepUnstableUntilFirst):cb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(te((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=fb(t);return lb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ub(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ht.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,_t.D)(this.query.get(t)).pipe((0,ws.QV)(this.afs.schedulers.insideAngular))}}const mb=new r.OlP("angularfire2.enableFirestorePersistence"),yb=new r.OlP("angularfire2.firestore.persistenceSettings"),vb=new r.OlP("angularfire2.firestore.settings"),wb=new r.OlP("angularfire2.firestore.use-emulator");function bb(t,e=(t=>t)){return{query:e(t),ref:t}}let _b=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new bs.HU(s),this.keepUnstableUntilFirst=(0,bs.ss)(this.schedulers);const c=(0,bs.on)(t,s,e);!_s.Z.auth&&u&&(0,bs.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,bs.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return(0,_t.D)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Vw){return"undefined"!=typeof console&&console.warn(Vw),(0,xt.of)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,(0,xt.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=bb(n,e),s=this.schedulers.ngZone.run(()=>r);return new db(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new gb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new pb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(bs.Dh),r.LFG(bs.xv,8),r.LFG(mb,8),r.LFG(vb,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(yb,8),r.LFG(wb,8),r.LFG(tb,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(bs.Dh),r.LFG(bs.xv,8),r.LFG(mb,8),r.LFG(vb,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(yb,8),r.LFG(wb,8),r.LFG(tb,8))},token:t,providedIn:"any"}),t})(),xb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:mb,useValue:!0},{provide:yb,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[_b]}),t})();class Tb{}const Sb="*";function Eb(t,e){return{type:7,name:t,definitions:e,options:{}}}function Cb(t,e=null){return{type:4,styles:e,timings:t}}function kb(t,e=null){return{type:2,steps:t,options:e}}function Ab(t){return{type:6,styles:t,offset:null}}function Ib(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Ob(t){Promise.resolve(null).then(t)}class Db{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ob(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Nb{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ob(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Lb(){throw Error("Host already has a portal attached")}class Rb{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Lb(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Pb extends Rb{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Fb extends Rb{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Mb extends Rb{constructor(t){super(),this.element=t instanceof r.SBq?t.nativeElement:t}}class Ub extends class extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Lb(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Pb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Fb?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Mb?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}{}var jb=n(5024);function qb(t,e,n,r){return(0,jb.m)(n)&&(r=n,n=void 0),r?qb(t,e,n).pipe((0,Ht.U)(t=>(0,kt.k)(t)?r(...t):r(t))):new Nt.y(r=>{Vb(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Vb(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Vb(t[s],e,n,r,i)}r.add(s)}class Bb{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new zb(t,this.dueTime,this.scheduler))}}class zb extends At.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Hb,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Hb(t){t.debouncedNext()}function Gb(){}function $b(t){return null==t?Gb:function(){return this.querySelector(t)}}function Zb(){return[]}function Wb(t){return null==t?Zb:function(){return this.querySelectorAll(t)}}function Yb(t){return function(){return this.matches(t)}}function Qb(t){return new Array(t.length)}function Kb(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Jb(t,e,n,r,i,s){for(var o,a=0,u=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new Kb(t,s[a]);for(;a<u;++a)(o=e[a])&&(i[a]=o)}function Xb(t,e,n,r,i,s,o){var a,u,c,l={},h=e.length,f=s.length,d=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(d[a]=c="$"+o.call(u,u.__data__,a,e),c in l?i[a]=u:l[c]=u);for(a=0;a<f;++a)(u=l[c="$"+o.call(t,s[a],a,s)])?(r[a]=u,u.__data__=s[a],l[c]=null):n[a]=new Kb(t,s[a]);for(a=0;a<h;++a)(u=e[a])&&l[d[a]]===u&&(i[a]=u)}function t_(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Kb.prototype={constructor:Kb,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var e_="http://www.w3.org/1999/xhtml";const n_={svg:"http://www.w3.org/2000/svg",xhtml:e_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function r_(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),n_.hasOwnProperty(e)?{space:n_[e],local:t}:t}function i_(t){return function(){this.removeAttribute(t)}}function s_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o_(t,e){return function(){this.setAttribute(t,e)}}function a_(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function u_(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function c_(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function l_(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function h_(t){return function(){this.style.removeProperty(t)}}function f_(t,e,n){return function(){this.style.setProperty(t,e,n)}}function d_(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function p_(t,e){return t.style.getPropertyValue(e)||l_(t).getComputedStyle(t,null).getPropertyValue(e)}function g_(t){return function(){delete this[t]}}function m_(t,e){return function(){this[t]=e}}function y_(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function v_(t){return t.trim().split(/^|\s+/)}function w_(t){return t.classList||new b_(t)}function b_(t){this._node=t,this._names=v_(t.getAttribute("class")||"")}function __(t,e){for(var n=w_(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function x_(t,e){for(var n=w_(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function T_(t){return function(){__(this,t)}}function S_(t){return function(){x_(this,t)}}function E_(t,e){return function(){(e.apply(this,arguments)?__:x_)(this,t)}}function C_(){this.textContent=""}function k_(t){return function(){this.textContent=t}}function A_(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function I_(){this.innerHTML=""}function O_(t){return function(){this.innerHTML=t}}function D_(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function N_(){this.nextSibling&&this.parentNode.appendChild(this)}function L_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function R_(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===e_&&e.documentElement.namespaceURI===e_?e.createElement(t):e.createElementNS(n,t)}}function P_(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function F_(t){var e=r_(t);return(e.local?P_:R_)(e)}function M_(){return null}function U_(){var t=this.parentNode;t&&t.removeChild(this)}function j_(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function q_(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}b_.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var V_={},B_=null;function z_(t,e,n){return t=H_(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function H_(t,e,n){return function(r){var i=B_;B_=r;try{t.call(this,this.__data__,e,n)}finally{B_=i}}}function G_(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function $_(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,s=e.length;r<s;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Z_(t,e,n){var r=V_.hasOwnProperty(t.type)?z_:H_;return function(i,s,o){var a,u=this.__on,c=r(e,s,o);if(u)for(var l=0,h=u.length;l<h;++l)if((a=u[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(a):this.__on=[a]}}function W_(t,e,n){var r=l_(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Y_(t,e){return function(){return W_(this,t,e)}}function Q_(t,e){return function(){return W_(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(V_={mouseenter:"mouseover",mouseleave:"mouseout"}));var K_=[null];function J_(t,e){this._groups=t,this._parents=e}function X_(){return new J_([[document.documentElement]],K_)}J_.prototype=X_.prototype={constructor:J_,select:function(t){"function"!=typeof t&&(t=$b(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o,a=e[i],u=a.length,c=r[i]=new Array(u),l=0;l<u;++l)(s=a[l])&&(o=t.call(s,s.__data__,l,a))&&("__data__"in s&&(o.__data__=s.__data__),c[l]=o);return new J_(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Wb(t));for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o,a=e[s],u=a.length,c=0;c<u;++c)(o=a[c])&&(r.push(t.call(o,o.__data__,c,a)),i.push(o));return new J_(r,i)},filter:function(t){"function"!=typeof t&&(t=Yb(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,u=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&u.push(s);return new J_(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n=e?Xb:Jb,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),c=0;c<s;++c){var l=r[c],h=i[c],f=h.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,g=a[c]=new Array(p),m=o[c]=new Array(p);n(l,h,g,m,u[c]=new Array(f),d,e);for(var y,v,w=0,b=0;w<p;++w)if(y=g[w]){for(w>=b&&(b=w+1);!(v=m[b])&&++b<p;);y._next=v||null}}return(o=new J_(o,r))._enter=a,o._exit=u,o},enter:function(){return new J_(this._enter||this._groups.map(Qb),this._parents)},exit:function(){return new J_(this._exit||this._groups.map(Qb),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,s=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,u=e[o],c=n[o],l=u.length,h=s[o]=new Array(l),f=0;f<l;++f)(a=u[f]||c[f])&&(h[f]=a);for(;o<r;++o)s[o]=e[o];return new J_(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=t_);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o,a=n[s],u=a.length,c=i[s]=new Array(u),l=0;l<u;++l)(o=a[l])&&(c[l]=o);c.sort(e)}return new J_(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,s=e[n],o=0,a=s.length;o<a;++o)(i=s[o])&&t.call(i,i.__data__,o,s);return this},attr:function(t,e){var n=r_(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?s_:i_:"function"==typeof e?n.local?c_:u_:n.local?a_:o_)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?h_:"function"==typeof e?d_:f_)(t,e,null==n?"":n)):p_(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?g_:"function"==typeof e?y_:m_)(t,e)):this.node()[t]},classed:function(t,e){var n=v_(t+"");if(arguments.length<2){for(var r=w_(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?E_:e?T_:S_)(n,e))},text:function(t){return arguments.length?this.each(null==t?C_:("function"==typeof t?A_:k_)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?I_:("function"==typeof t?D_:O_)(t)):this.node().innerHTML},raise:function(){return this.each(N_)},lower:function(){return this.each(L_)},append:function(t){var e="function"==typeof t?t:F_(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:F_(t),r=null==e?M_:"function"==typeof e?e:$b(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(U_)},clone:function(t){return this.select(t?q_:j_)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,s=G_(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?Z_:$_,null==n&&(n=!1),r=0;r<o;++r)this.each(a(s[r],e,n));return this}var a=this.node().__on;if(a)for(var u,c=0,l=a.length;c<l;++c)for(r=0,u=a[c];r<o;++r)if((i=s[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Q_:Y_)(t,e))}};const tx=X_;var ex={value:function(){}};function nx(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new rx(r)}function rx(t){this._=t}function ix(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function sx(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ox(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ex,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}rx.prototype=nx.prototype={constructor:rx,on:function(t,e){var n,r=this._,i=ix(t+"",r),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=i[s]).type)r[n]=ox(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ox(r[n],t.name,null);return this}for(;++s<o;)if((n=(t=i[s]).type)&&(n=sx(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new rx(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(r=this._[t]).length;s<n;++s)r[s].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};const ax=nx;function ux(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cx(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lx(){}var hx=.7,fx=1/hx,dx="\\s*([+-]?\\d+)\\s*",px="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",gx="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mx=/^#([0-9a-f]{3,8})$/,yx=new RegExp("^rgb\\("+[dx,dx,dx]+"\\)$"),vx=new RegExp("^rgb\\("+[gx,gx,gx]+"\\)$"),wx=new RegExp("^rgba\\("+[dx,dx,dx,px]+"\\)$"),bx=new RegExp("^rgba\\("+[gx,gx,gx,px]+"\\)$"),_x=new RegExp("^hsl\\("+[px,gx,gx]+"\\)$"),xx=new RegExp("^hsla\\("+[px,gx,gx,px]+"\\)$"),Tx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Sx(){return this.rgb().formatHex()}function Ex(){return this.rgb().formatRgb()}function Cx(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mx.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?kx(e):3===n?new Dx(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ax(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ax(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=yx.exec(t))?new Dx(e[1],e[2],e[3],1):(e=vx.exec(t))?new Dx(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=wx.exec(t))?Ax(e[1],e[2],e[3],e[4]):(e=bx.exec(t))?Ax(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=_x.exec(t))?Px(e[1],e[2]/100,e[3]/100,1):(e=xx.exec(t))?Px(e[1],e[2]/100,e[3]/100,e[4]):Tx.hasOwnProperty(t)?kx(Tx[t]):"transparent"===t?new Dx(NaN,NaN,NaN,0):null}function kx(t){return new Dx(t>>16&255,t>>8&255,255&t,1)}function Ax(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dx(t,e,n,r)}function Ix(t){return t instanceof lx||(t=Cx(t)),t?new Dx((t=t.rgb()).r,t.g,t.b,t.opacity):new Dx}function Ox(t,e,n,r){return 1===arguments.length?Ix(t):new Dx(t,e,n,null==r?1:r)}function Dx(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Nx(){return"#"+Rx(this.r)+Rx(this.g)+Rx(this.b)}function Lx(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Rx(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Px(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Mx(t,e,n,r)}function Fx(t){if(t instanceof Mx)return new Mx(t.h,t.s,t.l,t.opacity);if(t instanceof lx||(t=Cx(t)),!t)return new Mx;if(t instanceof Mx)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(o=e===s?(n-r)/a+6*(n<r):n===s?(r-e)/a+2:(e-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Mx(o,a,u,t.opacity)}function Mx(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ux(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function jx(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}function qx(t){return function(){return t}}function Vx(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):qx(isNaN(t)?e:t)}ux(lx,Cx,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Sx,formatHex:Sx,formatHsl:function(){return Fx(this).formatHsl()},formatRgb:Ex,toString:Ex}),ux(Dx,Ox,cx(lx,{brighter:function(t){return t=null==t?fx:Math.pow(fx,t),new Dx(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?hx:Math.pow(hx,t),new Dx(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nx,formatHex:Nx,formatRgb:Lx,toString:Lx})),ux(Mx,function(t,e,n,r){return 1===arguments.length?Fx(t):new Mx(t,e,n,null==r?1:r)},cx(lx,{brighter:function(t){return t=null==t?fx:Math.pow(fx,t),new Mx(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?hx:Math.pow(hx,t),new Mx(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dx(Ux(t>=240?t-240:t+120,i,r),Ux(t,i,r),Ux(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Bx=function t(e){var n=function(t){return 1==(t=+t)?Vx:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):qx(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Ox(t)).r,(e=Ox(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),o=Vx(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function zx(t){return function(e){var n,r,i=e.length,s=new Array(i),o=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=Ox(e[n]),s[n]=r.r||0,o[n]=r.g||0,a[n]=r.b||0;return s=t(s),o=t(o),a=t(a),r.opacity=1,function(t){return r.r=s(t),r.g=o(t),r.b=a(t),r+""}}}function Hx(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,s=new Array(i),o=new Array(r);for(n=0;n<i;++n)s[n]=Jx(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=s[n](t);return o}}function Gx(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $x(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Zx(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Jx(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}zx(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1];return jx((n-r/e)*e,r>0?t[r-1]:2*i-s,i,s,r<e-1?t[r+2]:2*s-i)}}),zx(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return jx((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}});var Wx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yx=new RegExp(Wx.source,"g");function Qx(t,e){var n,r,i,s=Wx.lastIndex=Yx.lastIndex=0,o=-1,a=[],u=[];for(t+="",e+="";(n=Wx.exec(t))&&(r=Yx.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,u.push({i:o,x:$x(n,r)})),s=Yx.lastIndex;return s<e.length&&(i=e.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)a[(n=u[r]).i]=n.x(t);return a.join("")})}function Kx(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(s){for(n=0;n<r;++n)i[n]=t[n]*(1-s)+e[n]*s;return i}}function Jx(t,e){var n,r=typeof e;return null==e||"boolean"===r?qx(e):("number"===r?$x:"string"===r?(n=Cx(e))?(e=n,Bx):Qx:e instanceof Cx?Bx:e instanceof Date?Gx:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Kx:Array.isArray(e)?Hx:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Zx:$x)(t,e)}var Xx,tT,eT=0,nT=0,rT=0,iT=0,sT=0,oT=0,aT="object"==typeof performance&&performance.now?performance:Date,uT="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function cT(){return sT||(uT(lT),sT=aT.now()+oT)}function lT(){sT=0}function hT(){this._call=this._time=this._next=null}function fT(t,e,n){var r=new hT;return r.restart(t,e,n),r}function dT(){sT=(iT=aT.now())+oT,eT=nT=0;try{!function(){cT(),++eT;for(var t,e=Xx;e;)(t=sT-e._time)>=0&&e._call.call(null,t),e=e._next;--eT}()}finally{eT=0,function(){for(var t,e,n=Xx,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Xx=e);tT=t,gT(r)}(),sT=0}}function pT(){var t=aT.now(),e=t-iT;e>1e3&&(oT-=e,iT=t)}function gT(t){eT||(nT&&(nT=clearTimeout(nT)),t-sT>24?(t<1/0&&(nT=setTimeout(dT,t-aT.now()-oT)),rT&&(rT=clearInterval(rT))):(rT||(iT=aT.now(),rT=setInterval(pT,1e3)),eT=1,uT(dT)))}function mT(t,e,n){var r=new hT;return r.restart(function(n){r.stop(),t(n+e)},e=null==e?0:+e,n),r}hT.prototype=fT.prototype={constructor:hT,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?cT():+n)+(null==e?0:+e),this._next||tT===this||(tT?tT._next=this:Xx=this,tT=this),this._call=t,this._time=n,gT()},stop:function(){this._call&&(this._call=null,this._time=1/0,gT())}};var yT=ax("start","end","cancel","interrupt"),vT=[];function wT(t,e,n,r,i,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function s(u){var c,l,h,f;if(1!==n.state)return a();for(c in i)if((f=i[c]).name===n.name){if(3===f.state)return mT(s);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(mT(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=f);r.length=l+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=r.length;++s<o;)r[s].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=fT(function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:yT,tween:vT,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function bT(t,e){var n=xT(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function _T(t,e){var n=xT(t,e);if(n.state>3)throw new Error("too late; already running");return n}function xT(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var TT,ST,ET,CT,kT=180/Math.PI,AT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function IT(t,e,n,r,i,s){var o,a,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*kT,skewX:Math.atan(u)*kT,scaleX:o,scaleY:a}}function OT(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],u=[];return s=t(s),o=t(o),function(t,r,i,s,o,a){if(t!==i||r!==s){var u=o.push("translate(",null,e,null,n);a.push({i:u-4,x:$x(t,i)},{i:u-2,x:$x(r,s)})}else(i||s)&&o.push("translate("+i+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,u),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(i(n)+"rotate(",null,r)-2,x:$x(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(s.rotate,o.rotate,a,u),function(t,e,n,s){t!==e?s.push({i:n.push(i(n)+"skewX(",null,r)-2,x:$x(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(s.skewX,o.skewX,a,u),function(t,e,n,r,s,o){if(t!==n||e!==r){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:$x(t,n)},{i:a-2,x:$x(e,r)})}else 1===n&&1===r||s.push(i(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,u),s=o=null,function(t){for(var e,n=-1,r=u.length;++n<r;)a[(e=u[n]).i]=e.x(t);return a.join("")}}}var DT=OT(function(t){return"none"===t?AT:(TT||(TT=document.createElement("DIV"),ST=document.documentElement,ET=document.defaultView),TT.style.transform=t,t=ET.getComputedStyle(ST.appendChild(TT),null).getPropertyValue("transform"),ST.removeChild(TT),IT(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),NT=OT(function(t){return null==t?AT:(CT||(CT=document.createElementNS("http://www.w3.org/2000/svg","g")),CT.setAttribute("transform",t),(t=CT.transform.baseVal.consolidate())?IT((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):AT)},", ",")",")");function LT(t,e){var n,r;return function(){var i=_T(this,t),s=i.tween;if(s!==n)for(var o=0,a=(r=n=s).length;o<a;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function RT(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var s=_T(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=a;break}u===c&&i.push(a)}s.tween=i}}function PT(t,e,n){var r=t._id;return t.each(function(){var t=_T(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return xT(t,r).value[e]}}function FT(t,e){var n;return("number"==typeof e?$x:e instanceof Cx?Bx:(n=Cx(e))?(e=n,Bx):Qx)(t,e)}function MT(t){return function(){this.removeAttribute(t)}}function UT(t){return function(){this.removeAttributeNS(t.space,t.local)}}function jT(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}}function qT(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}function VT(t,e,n){var r,i,s;return function(){var o,a,u=n(this);if(null!=u)return(o=this.getAttribute(t))===(a=u+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,u));this.removeAttribute(t)}}function BT(t,e,n){var r,i,s;return function(){var o,a,u=n(this);if(null!=u)return(o=this.getAttributeNS(t.space,t.local))===(a=u+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}function zT(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function HT(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function GT(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&HT(t,i)),n}return i._value=e,i}function $T(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&zT(t,i)),n}return i._value=e,i}function ZT(t,e){return function(){bT(this,t).delay=+e.apply(this,arguments)}}function WT(t,e){return e=+e,function(){bT(this,t).delay=e}}function YT(t,e){return function(){_T(this,t).duration=+e.apply(this,arguments)}}function QT(t,e){return e=+e,function(){_T(this,t).duration=e}}function KT(t,e){if("function"!=typeof e)throw new Error;return function(){_T(this,t).ease=e}}function JT(t,e,n){var r,i,s=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?bT:_T;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}var XT=tx.prototype.constructor;function tS(t){return function(){this.style.removeProperty(t)}}function eS(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function nS(t,e,n){var r,i;function s(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&eS(t,s,n)),r}return s._value=e,s}function rS(t){return function(e){this.textContent=t.call(this,e)}}function iS(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&rS(r)),e}return r._value=t,r}var sS=0;function oS(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function aS(){return++sS}var uS=tx.prototype;oS.prototype=(function(t){return tx().transition(t)}).prototype={constructor:oS,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=$b(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a,u,c=r[o],l=c.length,h=s[o]=new Array(l),f=0;f<l;++f)(a=c[f])&&(u=t.call(a,a.__data__,f,c))&&("__data__"in a&&(u.__data__=a.__data__),h[f]=u,wT(h[f],e,n,f,h,xT(a,n)));return new oS(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Wb(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u,c=r[a],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var f,d=t.call(u,u.__data__,h,c),p=xT(u,n),g=0,m=d.length;g<m;++g)(f=d[g])&&wT(f,e,n,g,d,p);s.push(d),o.push(u)}return new oS(s,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Yb(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,u=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&u.push(s);return new oS(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,u=e[o],c=n[o],l=u.length,h=s[o]=new Array(l),f=0;f<l;++f)(a=u[f]||c[f])&&(h[f]=a);for(;o<r;++o)s[o]=e[o];return new oS(s,this._parents,this._name,this._id)},selection:function(){return new XT(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=aS(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],u=a.length,c=0;c<u;++c)if(o=a[c]){var l=xT(o,e);wT(o,t,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new oS(r,this._parents,t,n)},call:uS.call,nodes:uS.nodes,node:uS.node,size:uS.size,empty:uS.empty,each:uS.each,on:function(t,e){var n=this._id;return arguments.length<2?xT(this.node(),n).on.on(t):this.each(JT(n,t,e))},attr:function(t,e){var n=r_(t),r="transform"===n?NT:FT;return this.attrTween(t,"function"==typeof e?(n.local?BT:VT)(n,r,PT(this,"attr."+t,e)):null==e?(n.local?UT:MT)(n):(n.local?qT:jT)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=r_(t);return this.tween(n,(r.local?GT:$T)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?DT:FT;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var s=p_(this,t),o=(this.style.removeProperty(t),p_(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}(t,r)).on("end.style."+t,tS(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,s;return function(){var o=p_(this,t),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(t),u=a=p_(this,t)),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a))}}(t,r,PT(this,"style."+t,e))).each(function(t,e){var n,r,i,s,o="style."+e,a="end."+o;return function(){var u=_T(this,t),c=u.on,l=null==u.value[o]?s||(s=tS(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(a,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,s=n+"";return function(){var o=p_(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,nS(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(PT(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,iS(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=xT(this.node(),n).tween,s=0,o=i.length;s<o;++s)if((r=i[s]).name===t)return r.value;return null}return this.each((null==e?LT:RT)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ZT:WT)(e,t)):xT(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?YT:QT)(e,t)):xT(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(KT(e,t)):xT(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){0==--i&&s()}};n.each(function(){var n=_T(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),n.on=e})})}};var cS={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function lS(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return cS.time=cT(),cS;return n}function hS(t){return{type:t}}function fS(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function dS(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const s=r+i>>>1;n(t[s],e)<0?r=s+1:i=s}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>fS(t(e),n)}(t)),{left:r,center:function(t,n,i,s){null==i&&(i=0),null==s&&(s=t.length);const o=r(t,n,i,s-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const s=r+i>>>1;n(t[s],e)>0?i=s:r=s+1}return r}}}tx.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,s=t.__transition,o=!0;if(s){for(i in e=null==e?null:e+"",s)(n=s[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]):o=!1;o&&delete t.__transition}}(this,t)})},tx.prototype.transition=function(t){var e,n;t instanceof oS?(e=t._id,t=t._name):(e=aS(),(n=cS).time=cT(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],u=a.length,c=0;c<u;++c)(o=a[c])&&wT(o,t,e,c,a,n||lS(o,e));return new oS(r,this._parents,t,e)},["w","e"].map(hS),["n","s"].map(hS),["n","w","e","s","nw","ne","sw","se"].map(hS);var pS=Math.sqrt(50),gS=Math.sqrt(10),mS=Math.sqrt(2);function yS(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=pS?10:s>=gS?5:s>=mS?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=pS?10:s>=gS?5:s>=mS?2:1)}function vS(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=pS?i*=10:s>=gS?i*=5:s>=mS&&(i*=2),e<t?-i:i}const wS=1e3,bS=6e4,_S=36e5,xS=864e5,TS=6048e5,SS=31536e6;var ES=new Date,CS=new Date;function kS(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,s){var o,a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return a;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<r);return a},i.filter=function(n){return kS(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return ES.setTime(+e),CS.setTime(+r),t(ES),t(CS),Math.floor(n(ES,CS))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var AS=kS(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});AS.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?kS(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):AS:null};const IS=AS,OS=kS(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*wS)},function(t,e){return(e-t)/wS},function(t){return t.getUTCSeconds()}),DS=kS(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*wS)},function(t,e){t.setTime(+t+e*bS)},function(t,e){return(e-t)/bS},function(t){return t.getMinutes()}),NS=kS(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*wS-t.getMinutes()*bS)},function(t,e){t.setTime(+t+e*_S)},function(t,e){return(e-t)/_S},function(t){return t.getHours()}),LS=kS(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bS)/xS,t=>t.getDate()-1);function RS(t){return kS(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bS)/TS})}var PS=RS(0);const FS=(RS(1),RS(2),RS(3),RS(4),RS(5),RS(6),kS(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}));var MS=kS(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});MS.every=function(t){return isFinite(t=Math.floor(t))&&t>0?kS(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};const US=MS,jS=kS(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*bS)},function(t,e){return(e-t)/bS},function(t){return t.getUTCMinutes()}),qS=kS(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*_S)},function(t,e){return(e-t)/_S},function(t){return t.getUTCHours()}),VS=kS(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/xS},function(t){return t.getUTCDate()-1});function BS(t){return kS(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/TS})}var zS=BS(0);const HS=(BS(1),BS(2),BS(3),BS(4),BS(5),BS(6),kS(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}));var GS=kS(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});GS.every=function(t){return isFinite(t=Math.floor(t))&&t>0?kS(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};const $S=GS;function ZS(t,e,n,r,i,s){const o=[[OS,1,wS],[OS,5,5e3],[OS,15,15e3],[OS,30,3e4],[s,1,bS],[s,5,3e5],[s,15,9e5],[s,30,18e5],[i,1,_S],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,xS],[r,2,1728e5],[n,1,TS],[e,1,2592e6],[e,3,7776e6],[t,1,SS]];function a(e,n,r){const i=Math.abs(n-e)/r,s=dS(([,,t])=>t).right(o,i);if(s===o.length)return t.every(vS(e/SS,n/SS,r));if(0===s)return IS.every(Math.max(vS(e,n,r),1));const[a,u]=o[i/o[s-1][2]<o[s][2]/i?s-1:s];return a.every(u)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:a(t,e,n),s=i?i.range(t,+e+1):[];return r?s.reverse():s},a]}const[WS,YS]=ZS($S,HS,zS,VS,qS,jS),[QS,KS]=ZS(US,FS,PS,LS,NS,DS);var JS=new Date,XS=new Date;function tE(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,s){var o,a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return a;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<r);return a},i.filter=function(n){return tE(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return JS.setTime(+e),XS.setTime(+r),t(JS),t(XS),Math.floor(n(JS,XS))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var eE=864e5,nE=6048e5;function rE(t){return tE(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/nE})}var iE=rE(0),sE=rE(1),oE=(rE(2),rE(3),rE(4));const aE=(rE(5),rE(6),tE(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/eE},function(t){return t.getUTCDate()-1}));function uE(t){return tE(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/nE})}var cE=uE(0),lE=uE(1),hE=(uE(2),uE(3),uE(4));const fE=(uE(5),uE(6),tE(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/eE},function(t){return t.getDate()-1}));var dE=tE(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});dE.every=function(t){return isFinite(t=Math.floor(t))&&t>0?tE(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};const pE=dE;var gE=tE(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});gE.every=function(t){return isFinite(t=Math.floor(t))&&t>0?tE(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};const mE=gE;var yE={"-":"",_:" ",0:"0"},vE=/[\\^$*+?|[\]().{}]/g;function wE(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function bE(t){return t.replace(vE,"\\$&")}function _E(t){return new RegExp("^(?:"+t.map(bE).join("|")+")","i")}function xE(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function TE(t,e){return wE(t.getDate(),e,2)}function SE(t,e){return wE(t.getHours(),e,2)}function EE(t,e){return wE(t.getHours()%12||12,e,2)}function CE(t,e){return wE(1+fE.count(pE(t),t),e,3)}function kE(t,e){return wE(t.getMilliseconds(),e,3)}function AE(t,e){return kE(t,e)+"000"}function IE(t,e){return wE(t.getMonth()+1,e,2)}function OE(t,e){return wE(t.getMinutes(),e,2)}function DE(t,e){return wE(t.getSeconds(),e,2)}function NE(t){var e=t.getDay();return 0===e?7:e}function LE(t,e){return wE(cE.count(pE(t)-1,t),e,2)}function RE(t){var e=t.getDay();return e>=4||0===e?hE(t):hE.ceil(t)}function PE(t,e){return t=RE(t),wE(hE.count(pE(t),t)+(4===pE(t).getDay()),e,2)}function FE(t){return t.getDay()}function ME(t,e){return wE(lE.count(pE(t)-1,t),e,2)}function UE(t,e){return wE(t.getFullYear()%100,e,2)}function jE(t,e){return wE((t=RE(t)).getFullYear()%100,e,2)}function qE(t,e){return wE(t.getFullYear()%1e4,e,4)}function VE(t,e){var n=t.getDay();return wE((t=n>=4||0===n?hE(t):hE.ceil(t)).getFullYear()%1e4,e,4)}function BE(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+wE(e/60|0,"0",2)+wE(e%60,"0",2)}function zE(t,e){return wE(t.getUTCDate(),e,2)}function HE(t,e){return wE(t.getUTCHours(),e,2)}function GE(t,e){return wE(t.getUTCHours()%12||12,e,2)}function $E(t,e){return wE(1+aE.count(mE(t),t),e,3)}function ZE(t,e){return wE(t.getUTCMilliseconds(),e,3)}function WE(t,e){return ZE(t,e)+"000"}function YE(t,e){return wE(t.getUTCMonth()+1,e,2)}function QE(t,e){return wE(t.getUTCMinutes(),e,2)}function KE(t,e){return wE(t.getUTCSeconds(),e,2)}function JE(t){var e=t.getUTCDay();return 0===e?7:e}function XE(t,e){return wE(iE.count(mE(t)-1,t),e,2)}function tC(t){var e=t.getUTCDay();return e>=4||0===e?oE(t):oE.ceil(t)}function eC(t,e){return t=tC(t),wE(oE.count(mE(t),t)+(4===mE(t).getUTCDay()),e,2)}function nC(t){return t.getUTCDay()}function rC(t,e){return wE(sE.count(mE(t)-1,t),e,2)}function iC(t,e){return wE(t.getUTCFullYear()%100,e,2)}function sC(t,e){return wE((t=tC(t)).getUTCFullYear()%100,e,2)}function oC(t,e){return wE(t.getUTCFullYear()%1e4,e,4)}function aC(t,e){var n=t.getUTCDay();return wE((t=n>=4||0===n?oE(t):oE.ceil(t)).getUTCFullYear()%1e4,e,4)}function uC(){return"+0000"}function cC(){return"%"}function lC(t){return+t}function hC(t){return Math.floor(+t/1e3)}function fC(t){return null===t?NaN:+t}!function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,u=t.shortMonths,c=(_E(i),xE(i),_E(s),xE(s),_E(o),xE(o),_E(a),xE(a),_E(u),xE(u),{a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:TE,e:TE,f:AE,g:jE,G:VE,H:SE,I:EE,j:CE,L:kE,m:IE,M:OE,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:lC,s:hC,S:DE,u:NE,U:LE,V:PE,w:FE,W:ME,x:null,X:null,y:UE,Y:qE,Z:BE,"%":cC}),l={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:zE,e:zE,f:WE,g:sC,G:aC,H:HE,I:GE,j:$E,L:ZE,m:YE,M:QE,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:lC,s:hC,S:KE,u:JE,U:XE,V:eC,w:nC,W:rC,x:null,X:null,y:iC,Y:oC,Z:uC,"%":cC};function h(t,e){return function(n){var r,i,s,o=[],a=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(u,a)),null!=(i=yE[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(s=e[r])&&(r=s(n,i)),o.push(r),u=a+1);return o.push(t.slice(u,a)),o.join("")}}c.x=h(n,c),c.X=h(r,c),c.c=h(e,c),l.x=h(n,l),l.X=h(r,l),l.c=h(e,l)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const dC=dS(fS).right,pC=(dS(fC),dC);function gC(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mC(t){return+t}var yC=[0,1];function vC(t){return t}function wC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function bC(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=wC(i,r),s=n(o,s)):(r=wC(r,i),s=n(s,o)),function(t){return s(r(t))}}function _C(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=wC(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(e){var n=pC(t,e,1,r)-1;return s[n](i[n](e))}}function xC(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function TC(){return function(){var t,e,n,r,i,s,o=yC,a=yC,u=Jx,c=vC;function l(){var t=Math.min(o.length,a.length);return c!==vC&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?_C:bC,i=s=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),a,u)))(t(c(e)))}return h.invert=function(n){return c(e((s||(s=r(a,o.map(t),$x)))(n)))},h.domain=function(t){return arguments.length?(o=Array.from(t,mC),l()):o.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),l()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),u=gC,l()},h.clamp=function(t){return arguments.length?(c=!!t||vC,l()):c!==vC},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}()(vC,vC)}function SC(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var EC,CC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kC(t){if(!(e=CC.exec(t)))throw new Error("invalid format: "+t);var e;return new AC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function AC(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function IC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function OC(t){return(t=IC(Math.abs(t)))?t[1]:NaN}function DC(t,e){var n=IC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}kC.prototype=AC.prototype,AC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const NC={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return DC(100*t,e)},r:DC,s:function(t,e){var n=IC(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(EC=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+IC(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function LC(t){return t}var RC,PC,FC,MC=Array.prototype.map,UC=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function jC(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,s,o,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=yS(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);for(n*o<t&&++n,r*o>e&&--r,s=new Array(i=r-n+1);++a<i;)s[a]=(n+a)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);for(n/o<t&&++n,r/o>e&&--r,s=new Array(i=r-n+1);++a<i;)s[a]=(n+a)/o}return r&&s.reverse(),s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,s=vS(t,e,n);switch((r=kC(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(OC(e)/3)))-OC(Math.abs(t)))}(s,o))||(r.precision=i),FC(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,OC(e)-OC(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-OC(Math.abs(t)))}(s))||(r.precision=i-2*("%"===r.type))}return PC(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,s=e(),o=0,a=s.length-1,u=s[o],c=s[a],l=10;for(c<u&&(i=u,u=c,c=i,i=o,o=a,a=i);l-- >0;){if((i=yS(u,c,n))===r)return s[o]=u,s[a]=c,e(s);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function qC(){var t=TC();return t.copy=function(){return xC(t,qC())},SC.apply(t,arguments),jC(t)}function VC(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),s=new Array(i);++r<i;)s[r]=t+r*n;return s}RC=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?LC:(e=MC.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(t.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?LC:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(MC.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=kC(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):NC[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var w="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===f?s:/[%p]/.test(v)?u:"",_=NC[v],x=/[defgprs%]/.test(v);function T(t){var i,s,u,f=w,T=b;if("c"===v)T=_(t)+T,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:_(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==h&&(S=!1),f=(S?"("===h?h:c:"-"===h||"("===h?"":h)+f,T=("s"===v?UC[8+EC/3]:"")+T+(S&&"("===h?")":""),x)for(i=-1,s=t.length;++i<s;)if(48>(u=t.charCodeAt(i))||u>57){T=(46===u?o+t.slice(i+1):t.slice(i))+T,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var E=f.length+t.length+T.length,C=E<p?new Array(p-E+1).join(e):"";switch(g&&d&&(t=r(C+t,C.length?p-T.length:1/0),C=""),n){case"<":t=f+t+T+C;break;case"=":t=f+C+t+T;break;case"^":t=C.slice(0,E=C.length>>1)+f+t+T+C.slice(E);break;default:t=C+f+t+T}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),T.toString=function(){return t+""},T}return{format:h,formatPrefix:function(t,e){var n=h(((t=kC(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(OC(e)/3))),i=Math.pow(10,-r),s=UC[8+r/3];return function(t){return n(i*t)+s}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),PC=RC.format,FC=RC.formatPrefix;const BC=Symbol("implicit");function zC(){var t=new Map,e=[],n=[],r=BC;function i(i){var s=i+"",o=t.get(s);if(!o){if(r!==BC)return r;t.set(s,o=e.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return zC(e,n).unknown(r)},SC.apply(i,arguments),i}function HC(){var t,e,n=zC().unknown(void 0),r=n.domain,i=n.range,s=0,o=1,a=!1,u=0,c=0,l=.5;function h(){var n=r().length,h=o<s,f=h?o:s,d=h?s:o;t=(d-f)/Math.max(1,n-u+2*c),a&&(t=Math.floor(t)),f+=(d-f-t*(n-u))*l,e=t*(1-u),a&&(f=Math.round(f),e=Math.round(e));var p=VC(n).map(function(e){return f+t*e});return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([s,o]=t,s=+s,o=+o,h()):[s,o]},n.rangeRound=function(t){return[s,o]=t,s=+s,o=+o,a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),h()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),h()):u},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},n.copy=function(){return HC(r(),[s,o]).round(a).paddingInner(u).paddingOuter(c).align(l)},SC.apply(h(),arguments)}function GC(t,e,n=fC){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t);return o+(+n(t[s+1],s+1,t)-o)*(i-s)}}function $C(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=GC(e,t/i);return s}function s(e){return null==e||isNaN(e=+e)?t:n[pC(r,e)]}return s.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},s.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(fS),i()},s.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return r.slice()},s.copy=function(){return $C().domain(e).range(n).unknown(t)},SC.apply(s,arguments)}function ZC(t){this._context=t}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var WC=Math.PI,YC=2*WC,QC=1e-6,KC=YC-QC;function JC(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function XC(){}function tk(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ek(t,e){this._context=t,this._k=(1-e)/6}function nk(t,e){this._context=t,this._k=(1-e)/6}function rk(t){this._curve=t}function ik(t,e,n,r,i){for(var s,o=t.children,a=-1,u=o.length,c=t.value&&(r-e)/t.value;++a<u;)(s=o[a]).y0=n,s.y1=i,s.x0=e,s.x1=e+=s.value*c}function sk(t,e,n,r,i){for(var s,o=t.children,a=-1,u=o.length,c=t.value&&(i-n)/t.value;++a<u;)(s=o[a]).x0=e,s.x1=r,s.y0=n,s.y1=n+=s.value*c}function ok(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function ak(t,e){var n,r,i,s,o,a=new hk(t),u=+t.value&&(a.value=t.value),c=[a];for(null==e&&(e=uk);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(o=i.length))for(n.children=new Array(o),s=o-1;s>=0;--s)c.push(r=n.children[s]=new hk(i[s])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(lk)}function uk(t){return t.children}function ck(t){t.data=t.data.data}function lk(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function hk(t){this.data=t,this.depth=this.height=0,this.parent=null}JC.prototype=(function(){return new JC}).prototype={constructor:JC,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,e,n,r,i){var s=this._x1,o=this._y1,a=(n=+n)-(t=+t),u=(r=+r)-(e=+e),c=s-t,l=o-e,h=c*c+l*l;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>QC)if(Math.abs(l*a-u*c)>QC&&i){var f=n-s,d=r-o,p=a*a+u*u,g=f*f+d*d,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((WC-Math.acos((p+h-g)/(2*m*y)))/2),w=v/y,b=v/m;Math.abs(w-1)>QC&&(this._+="L"+(t+w*c)+","+(e+w*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>c*d)+","+(this._x1=t+b*a)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,s){t=+t,e=+e,s=!!s;var o=(n=+n)*Math.cos(r),a=n*Math.sin(r),u=t+o,c=e+a,l=1^s,h=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>QC||Math.abs(this._y1-c)>QC)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%YC+YC),h>KC?this._+="A"+n+","+n+",0,1,"+l+","+(t-o)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>QC&&(this._+="A"+n+","+n+",0,"+ +(h>=WC)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},ek.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:tk(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:tk(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new ek(t,e)}return n.tension=function(e){return t(+e)},n}(0),nk.prototype={areaStart:XC,areaEnd:XC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:tk(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new nk(t,e)}return n.tension=function(e){return t(+e)},n}(0),rk.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}},Math,Math,Math,Math,Math,Math,Math,Math,function t(e){function n(t,n,r,i,s){!function(t,e,n,r,i,s){for(var o,a,u,c,l,h,f,d,p,g,m,y=[],v=e.children,w=0,b=0,_=v.length,x=e.value;w<_;){u=i-n,c=s-r;do{l=v[b++].value}while(!l&&b<_);for(h=f=l,m=l*l*(g=Math.max(c/u,u/c)/(x*t)),p=Math.max(f/m,m/h);b<_;++b){if(l+=a=v[b].value,a<h&&(h=a),a>f&&(f=a),m=l*l*g,(d=Math.max(f/m,m/h))>p){l-=a;break}p=d}y.push(o={value:l,dice:u<c,children:v.slice(w,b)}),o.dice?ik(o,n,r,i,x?r+=c*l/x:s):sk(o,n,r,x?n+=u*l/x:i,s),x-=l,w=b}}(e,t,n,r,i,s)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}((1+Math.sqrt(5))/2),hk.prototype=ak.prototype={constructor:hk,count:function(){return this.eachAfter(ok)},each:function(t){var e,n,r,i,s=this,o=[s];do{for(e=o.reverse(),o=[];s=e.pop();)if(t(s),n=s.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(t){for(var e,n,r,i=this,s=[i],o=[];i=s.pop();)if(o.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)s.push(e[n]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return ak(this).eachBefore(ck)}};const fk=["caretElm"];function dk(t,e){}const pk=function(t){return{model:t}};function gk(t,e){if(1&t&&(r.TgZ(0,"span"),r.YNc(1,dk,0,0,"ng-template",5),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",r.VKq(2,pk,t.context))}}function mk(t,e){if(1&t&&r._UZ(0,"span",6),2&t){const t=r.oxw();r.Q6J("innerHTML",t.title,r.oJD)}}function yk(t,e){if(1&t&&(r.O4$(),r.kcU(),r._UZ(0,"ngx-charts-scale-legend",4)),2&t){const t=r.oxw();r.Q6J("horizontal",t.legendOptions&&"below"===t.legendOptions.position)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function vk(t,e){if(1&t){const t=r.EpF();r.O4$(),r.kcU(),r.TgZ(0,"ngx-charts-legend",5),r.NdJ("labelClick",function(e){return r.CHM(t),r.oxw().legendLabelClick.emit(e)})("labelActivate",function(e){return r.CHM(t),r.oxw().legendLabelActivate.emit(e)})("labelDeactivate",function(e){return r.CHM(t),r.oxw().legendLabelDeactivate.emit(e)}),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("horizontal",t.legendOptions&&"below"===t.legendOptions.position)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}const wk=["*"],bk=["ngx-charts-axis-label",""],_k=["ticksel"],xk=["ngx-charts-x-axis-ticks",""];function Tk(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"g",3),r.TgZ(1,"title"),r._uU(2),r.qZA(),r.TgZ(3,"text",4),r._uU(4),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.uIk("transform",n.tickTransform(t)),r.xp6(2),r.Oqu(n.tickFormat(t)),r.xp6(1),r.Udp("font-size","12px"),r.uIk("text-anchor",n.textAnchor)("transform",n.textTransform),r.xp6(1),r.hij(" ",n.tickTrim(n.tickFormat(t))," ")}}function Sk(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r._UZ(1,"line",6),r.qZA()),2&t){const t=r.oxw(2);r.uIk("transform",t.gridLineTransform()),r.xp6(1),r.uIk("y1",-t.gridLineHeight)}}function Ek(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,Sk,2,2,"g",5),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.uIk("transform",n.tickTransform(t)),r.xp6(1),r.Q6J("ngIf",n.showGridLines)}}const Ck=["ngx-charts-x-axis",""];function kk(t,e){if(1&t){const t=r.EpF();r.O4$(),r.TgZ(0,"g",2),r.NdJ("dimensionsChanged",function(e){return r.CHM(t),r.oxw().emitTicksHeight(e)}),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("trimTicks",t.trimTicks)("rotateTicks",t.rotateTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickStroke",t.tickStroke)("scale",t.xScale)("orient",t.xOrient)("showGridLines",t.showGridLines)("gridLineHeight",t.dims.height)("width",t.dims.width)("tickValues",t.ticks)}}function Ak(t,e){if(1&t&&(r.O4$(),r._UZ(0,"g",3)),2&t){const t=r.oxw();r.Q6J("label",t.labelText)("offset",t.labelOffset)("orient","bottom")("height",t.dims.height)("width",t.dims.width)}}const Ik=["ngx-charts-y-axis-ticks",""];function Ok(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"g",4),r.TgZ(1,"title"),r._uU(2),r.qZA(),r.TgZ(3,"text",5),r._uU(4),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.uIk("transform",n.transform(t)),r.xp6(2),r.Oqu(n.tickFormat(t)),r.xp6(1),r.Udp("font-size","12px"),r.uIk("dy",n.dy)("x",n.x1)("y",n.y1)("text-anchor",n.textAnchor),r.xp6(1),r.hij(" ",n.tickTrim(n.tickFormat(t))," ")}}function Dk(t,e){if(1&t&&(r.O4$(),r._UZ(0,"path",6)),2&t){const t=r.oxw();r.uIk("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function Nk(t,e){if(1&t&&(r.O4$(),r._UZ(0,"line",9)),2&t){const t=r.oxw(3);r.uIk("x2",t.gridLineWidth)}}function Lk(t,e){if(1&t&&(r.O4$(),r._UZ(0,"line",9)),2&t){const t=r.oxw(3);r.uIk("x2",-t.gridLineWidth)}}function Rk(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,Nk,1,1,"line",8),r.YNc(2,Lk,1,1,"line",8),r.qZA()),2&t){const t=r.oxw(2);r.uIk("transform",t.gridLineTransform()),r.xp6(1),r.Q6J("ngIf","left"===t.orient),r.xp6(1),r.Q6J("ngIf","right"===t.orient)}}function Pk(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,Rk,3,3,"g",7),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.uIk("transform",n.transform(t)),r.xp6(1),r.Q6J("ngIf",n.showGridLines)}}function Fk(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.TgZ(1,"title"),r._uU(2),r.qZA(),r.TgZ(3,"text",11),r._uU(4),r.qZA(),r.qZA()),2&t){const t=r.oxw(2).$implicit,e=r.oxw();r.xp6(2),r.Oqu(e.tickTrim(e.tickFormat(t.value))),r.xp6(1),r.uIk("dy",e.dy)("y",-6)("x",e.gridLineWidth)("text-anchor",e.textAnchor),r.xp6(1),r.hij(" ",t.name," ")}}function Mk(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r._UZ(1,"line",10),r.YNc(2,Fk,5,6,"g",7),r.qZA()),2&t){const t=r.oxw().$implicit,e=r.oxw();r.uIk("transform",e.transform(t.value)),r.xp6(1),r.uIk("x2",e.gridLineWidth)("transform",e.gridLineTransform()),r.xp6(1),r.Q6J("ngIf",e.showRefLabels)}}function Uk(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,Mk,3,4,"g",7),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.showRefLines)}}const jk=["ngx-charts-y-axis",""];function qk(t,e){if(1&t){const t=r.EpF();r.O4$(),r.TgZ(0,"g",2),r.NdJ("dimensionsChanged",function(e){return r.CHM(t),r.oxw().emitTicksWidth(e)}),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("trimTicks",t.trimTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickValues",t.ticks)("tickStroke",t.tickStroke)("scale",t.yScale)("orient",t.yOrient)("showGridLines",t.showGridLines)("gridLineWidth",t.dims.width)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("height",t.dims.height)}}function Vk(t,e){if(1&t&&(r.O4$(),r._UZ(0,"g",3)),2&t){const t=r.oxw();r.Q6J("label",t.labelText)("offset",t.labelOffset)("orient",t.yOrient)("height",t.dims.height)("width",t.dims.width)}}const Bk=["ngx-charts-svg-linear-gradient",""];function zk(t,e){if(1&t&&(r.O4$(),r._UZ(0,"stop")),2&t){const t=e.$implicit;r.Udp("stop-color",t.color)("stop-opacity",t.opacity),r.uIk("offset",t.offset+"%")}}function Hk(t,e){if(1&t&&(r.TgZ(0,"header",4),r.TgZ(1,"span",5),r._uU(2),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(2),r.Oqu(t.title)}}function Gk(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",6),r.TgZ(1,"ngx-charts-legend-entry",7),r.NdJ("select",function(e){return r.CHM(t),r.oxw().labelClick.emit(e)})("activate",function(e){return r.CHM(t),r.oxw().activate(e)})("deactivate",function(e){return r.CHM(t),r.oxw().deactivate(e)}),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Q6J("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",n.isActive(t))}}const $k=["tooltipTemplate"],Zk=function(t,e){return[t,e]},Wk=["ngx-charts-bar",""];function Yk(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"defs"),r._UZ(1,"g",2),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("orientation",t.orientation)("name",t.gradientId)("stops",t.gradientStops)}}function Qk(t,e){if(1&t){const t=r.EpF();r.O4$(),r.TgZ(0,"g",5),r.NdJ("dimensionsChanged",function(e){return r.CHM(t),r.oxw().updateXAxisHeight(e)}),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)}}function Kk(t,e){if(1&t){const t=r.EpF();r.O4$(),r.TgZ(0,"g",6),r.NdJ("dimensionsChanged",function(e){return r.CHM(t),r.oxw().updateYAxisWidth(e)}),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("yScale",t.yScale)("dims",t.dims)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("yAxisOffset",t.dataLabelMaxWidth.negative)}}const Jk=["ngx-charts-series-horizontal",""];function Xk(t,e){if(1&t){const t=r.EpF();r.O4$(),r.TgZ(0,"g",2),r.NdJ("select",function(e){return r.CHM(t),r.oxw().click(e)})("activate",function(e){return r.CHM(t),r.oxw().activate.emit(e)})("deactivate",function(e){return r.CHM(t),r.oxw().deactivate.emit(e)}),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw();r.Q6J("@animationState","active")("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation","horizontal")("roundEdges",t.roundEdges)("gradient",n.gradient)("isActive",n.isActive(t.data))("ariaLabel",t.ariaLabel)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",n.noBarWhenZero)}}function tA(t,e){if(1&t){const t=r.EpF();r.O4$(),r.TgZ(0,"g",4),r.NdJ("dimensionsChanged",function(e){const n=r.CHM(t).index;return r.oxw(2).dataLabelWidthChanged.emit({size:e,index:n})}),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw(2);r.Q6J("barX",t.x)("barY",t.y)("barWidth",t.width)("barHeight",t.height)("value",t.total)("valueFormatting",n.dataLabelFormatting)("orientation","horizontal")}}function eA(t,e){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,tA,1,7,"g",3),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.barsForDataLabels)("ngForTrackBy",t.trackDataLabelBy)}}const nA=["ngx-charts-bar-label",""];var rA;let iA=(()=>{let t=rA=class{constructor(t,e,n){this.applicationRef=t,this.componentFactoryResolver=e,this.injector=n}static setGlobalRootViewContainer(t){rA.globalRootViewContainer=t}getRootViewContainer(){if(this._container)return this._container;if(rA.globalRootViewContainer)return rA.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return function(t){return t.element}(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,e){if(e){if(void 0!==e.inputs){const n=Object.getOwnPropertyNames(e.inputs);for(const r of n)t.instance[r]=e.inputs[r]}if(void 0!==e.outputs){const n=Object.getOwnPropertyNames(e.outputs);for(const r of n)t.instance[r]=e.outputs[r]}}return t}appendComponent(t,e={},n){n||(n=this.getRootViewContainer());const r=this.getComponentRootNode(n),i=new Ub(r,this.componentFactoryResolver,this.applicationRef,this.injector),s=new Pb(t),o=i.attach(s);return this.projectComponentBindings(o,e),o}};return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.z2F),r.LFG(r._Vd),r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t.globalRootViewContainer=null,t})();function sA(t,e,n){let r,i,s;n=n||{};let o=null,a=0;function u(){a=!1===n.leading?0:+new Date,o=null,s=t.apply(r,i)}return function(){const c=+new Date;a||!1!==n.leading||(a=c);const l=e-(c-a);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,a=c,s=t.apply(r,i)):o||!1===n.trailing||(o=setTimeout(u,l)),s}}var oA=function(t){return t[t.top="top"]="top",t[t.bottom="bottom"]="bottom",t[t.left="left"]="left",t[t.right="right"]="right",t}({});function aA(t,e,n){return"top"===n?t.top-7:"bottom"===n?t.top+t.height-e.height+7:"center"===n?t.top+t.height/2-e.height/2:void 0}function uA(t,e,n){return"left"===n?t.left-7:"right"===n?t.left+t.width-e.width+7:"center"===n?t.left+t.width/2-e.width/2:void 0}class cA{static calculateVerticalAlignment(t,e,n){let r=aA(t,e,n);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,n,r){let i;"top"===r&&(i=t.height/2-n.height/2+7),"bottom"===r&&(i=e.height-t.height/2-n.height/2-7),"center"===r&&(i=e.height/2-n.height/2);const s=aA(t,e,r);return s+e.height>window.innerHeight&&(i+=s+e.height-window.innerHeight),i}static calculateHorizontalAlignment(t,e,n){let r=uA(t,e,n);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,n,r){let i;"left"===r&&(i=t.width/2-n.width/2+7),"right"===r&&(i=e.width-t.width/2-n.width/2-7),"center"===r&&(i=e.width/2-n.width/2);const s=uA(t,e,r);return s+e.width>window.innerWidth&&(i+=s+e.width-window.innerWidth),i}static shouldFlip(t,e,n,r){let i=!1;return"right"===n&&t.left+t.width+e.width+r>window.innerWidth&&(i=!0),"left"===n&&t.left-e.width-r<0&&(i=!0),"top"===n&&t.top-e.height-r<0&&(i=!0),"bottom"===n&&t.top+t.height+e.height+r>window.innerHeight&&(i=!0),i}static positionCaret(t,e,n,r,i){let s=0,o=0;return t===oA.right?(o=-7,s=cA.calculateVerticalCaret(n,e,r,i)):t===oA.left?(o=e.width,s=cA.calculateVerticalCaret(n,e,r,i)):t===oA.top?(s=e.height,o=cA.calculateHorizontalCaret(n,e,r,i)):t===oA.bottom&&(s=-7,o=cA.calculateHorizontalCaret(n,e,r,i)),{top:s,left:o}}static positionContent(t,e,n,r,i){let s=0,o=0;return t===oA.right?(o=n.left+n.width+r,s=cA.calculateVerticalAlignment(n,e,i)):t===oA.left?(o=n.left-e.width-r,s=cA.calculateVerticalAlignment(n,e,i)):t===oA.top?(s=n.top-e.height-r,o=cA.calculateHorizontalAlignment(n,e,i)):t===oA.bottom&&(s=n.top+n.height+r,o=cA.calculateHorizontalAlignment(n,e,i)),{top:s,left:o}}static determinePlacement(t,e,n,r){if(cA.shouldFlip(n,e,t,r)){if(t===oA.right)return oA.left;if(t===oA.left)return oA.right;if(t===oA.top)return oA.bottom;if(t===oA.bottom)return oA.top}return t}}let lA=(()=>{let t=class{constructor(t,e){this.element=t,this.renderer=e}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){const t=this.element.nativeElement,e=this.host.nativeElement.getBoundingClientRect();if(!e.height&&!e.width)return;const n=t.getBoundingClientRect();this.checkFlip(e,n),this.positionContent(t,e,n),this.showCaret&&this.positionCaret(e,n),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,e,n){const{top:r,left:i}=cA.positionContent(this.placement,n,e,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${r}px`),this.renderer.setStyle(t,"left",`${i}px`)}positionCaret(t,e){const n=this.caretElm.nativeElement,r=n.getBoundingClientRect(),{top:i,left:s}=cA.positionCaret(this.placement,e,t,r,this.alignment);this.renderer.setStyle(n,"top",`${i}px`),this.renderer.setStyle(n,"left",`${s}px`)}checkFlip(t,e){this.placement=cA.determinePlacement(this.placement,e,t,this.spacing)}onWindowResize(){this.position()}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,e){if(1&t&&r.Gf(fk,5),2&t){let t;r.iGM(t=r.CRH())&&(e.caretElm=t.first)}},hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("resize",function(){return e.onWindowResize()},!1,r.Jf7),2&t&&r.Tol(e.cssClasses)},inputs:{placement:"placement",host:"host",showCaret:"showCaret",type:"type",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.TgZ(0,"div"),r._UZ(1,"span",0,1),r.TgZ(3,"div",2),r.YNc(4,gk,2,4,"span",3),r.YNc(5,mk,1,1,"span",4),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.Gre("tooltip-caret position-",e.placement,""),r.Q6J("hidden",!e.showCaret),r.xp6(3),r.Q6J("ngIf",!e.title),r.xp6(1),r.Q6J("ngIf",e.title))},directives:[N,P],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate3d(0,0,0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}"],encapsulation:2}),(0,Ts.gn)([(100,function(t,e,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,e,{configurable:!0,enumerable:n.enumerable,value:sA(n.value,100,undefined)}),this[e]}}})],t.prototype,"onWindowResize",null),t})(),hA=(()=>{let t=class extends class{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const n=this.injectComponent(t,e);return this.register(t,n),n}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const n=e.indexOf(t);n>-1&&(e[n].destroy(),e.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let t=e.length-1;for(;t>=0;)this.destroy(e[t--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e=Object.assign({},this.defaults.inputs),n=Object.assign({},this.defaults.outputs);return t.inputs||t.outputs||(t={inputs:t}),e&&(t.inputs=Object.assign(Object.assign({},e),t.inputs)),n&&(t.outputs=Object.assign(Object.assign({},n),t.outputs)),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}{constructor(t){super(t),this.type=lA}};return t.\u0275fac=function(e){return new(e||t)(r.LFG(iA))},t.\u0275prov=r.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),fA=(()=>{let t=class{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new r.vpe,this.legendLabelActivate=new r.vpe,this.legendLabelDeactivate=new r.vpe}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),this.legendOptions&&"right"!==this.legendOptions.position||(t="scaleLegend"===this.legendType?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-t)/12),this.legendWidth=this.legendOptions&&"right"!==this.legendOptions.position?this.chartWidth:Math.floor(this.view[0]*t/12)}getLegendType(){return"linear"===this.legendOptions.scaleType?"scaleLegend":"legend"}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-charts-chart"]],inputs:{showLegend:"showLegend",animations:"animations",legendType:"legendType",view:"view",legendOptions:"legendOptions",data:"data",legendData:"legendData",colors:"colors",activeEntries:"activeEntries"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[r._Bn([hA]),r.TTD],ngContentSelectors:wk,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"div",0),r.O4$(),r.TgZ(1,"svg",1),r.Hsn(2),r.qZA(),r.YNc(3,yk,1,5,"ngx-charts-scale-legend",2),r.YNc(4,vk,1,7,"ngx-charts-legend",3),r.qZA()),2&t&&(r.Udp("width",e.view[0],"px"),r.Q6J("@animationState","active")("@.disabled",!e.animations),r.xp6(1),r.uIk("width",e.chartWidth)("height",e.view[1]),r.xp6(2),r.Q6J("ngIf",e.showLegend&&"scaleLegend"===e.legendType),r.xp6(1),r.Q6J("ngIf",e.showLegend&&"legend"===e.legendType))},directives:function(){return[N,FA,RA]},encapsulation:2,data:{animation:[Eb("animationState",[Ib(":enter",[Ab({opacity:0}),Cb("500ms 100ms",Ab({opacity:1}))])])]},changeDetection:0}),t})(),dA=(()=>{let t=class{constructor(t,e){this.element=t,this.zone=e,this.visible=new r.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{if(!this.element)return;const{offsetHeight:e,offsetWidth:n}=this.element.nativeElement;e&&n?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275dir=r.lG2({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),t})(),pA=(()=>{let t=class{constructor(t,e,n){this.chartElement=t,this.zone=e,this.cd=n,this.scheme="cool",this.schemeType="ordinal",this.animations=!0,this.select=new r.vpe}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new dA(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,e;const n=this.chartElement.nativeElement;if(null!==n.parentNode){const r=n.parentNode.getBoundingClientRect();t=r.width,e=r.height}return t&&e?{width:t,height:e}:null}formatDates(){for(let t=0;t<this.results.length;t++){const e=this.results[t];if(e.label=e.name,e.label instanceof Date&&(e.label=e.label.toLocaleDateString()),e.series)for(let t=0;t<e.series.length;t++){const n=e.series[t];n.label=n.name,n.label instanceof Date&&(n.label=n.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const t=qb(window,"resize").pipe(function(t,e=ds.P){return n=>n.lift(new Bb(t,e))}(200)).subscribe(t=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=t}cloneData(t){const e=[];for(const n of t){const t={name:n.name};if(void 0!==n.value&&(t.value=n.value),void 0!==n.series){t.series=[];for(const e of n.series){const n=Object.assign({},e);t.series.push(n)}}void 0!==n.extra&&(t.extra=JSON.parse(JSON.stringify(n.extra))),e.push(t)}return e}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["base-chart"]],inputs:{scheme:"scheme",schemeType:"schemeType",animations:"animations",results:"results",view:"view",customColors:"customColors"},outputs:{select:"select"},features:[r.TTD],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"div")},encapsulation:2}),t})(),gA=(()=>{let t=class{constructor(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case"top":case"bottom":this.y=this.offset,this.x=this.width/2;break;case"left":this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case"right":this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[r.TTD],attrs:bk,decls:2,vars:6,template:function(t,e){1&t&&(r.O4$(),r.TgZ(0,"text"),r._uU(1),r.qZA()),2&t&&(r.uIk("stroke-width",e.strokeWidth)("x",e.x)("y",e.y)("text-anchor",e.textAnchor)("transform",e.transform),r.xp6(1),r.hij(" ",e.label," "))},encapsulation:2,changeDetection:0}),t})();function mA(t,e=16){return"string"!=typeof t?"number"==typeof t?t+"":"":(t=t.trim()).length<=e?t:`${t.slice(0,e)}...`}function yA(t,e){if(t.length>e){const n=[],r=Math.floor(t.length/e);for(let e=0;e<t.length;e++)e%r==0&&n.push(t[e]);t=n}return t}let vA=(()=>{let t=class{constructor(){this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.dimensionsChanged=new r.vpe,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor="middle",this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:t}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(t){return"Date"===t.constructor.name?t.toLocaleDateString():t.toLocaleString()};const e=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(t){return this.scale(t)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",e&&0!==e?(this.textTransform=`rotate(${e})`,this.textAnchor="end",this.verticalSpacing=10):this.textAnchor="middle",setTimeout(()=>this.updateDims())}getRotationAngle(t){let e=0;this.maxTicksLength=0;for(let s=0;s<t.length;s++){const e=this.tickFormat(t[s]).toString();let n=e.length;this.trimTicks&&(n=this.tickTrim(e).length),n>this.maxTicksLength&&(this.maxTicksLength=n)}const n=8*Math.min(this.maxTicksLength,this.maxAllowedLength);let r=n;const i=Math.floor(this.width/t.length);for(;r>i&&e>-90;)e-=30,r=Math.cos(e*(Math.PI/180))*n;return e}getTicks(){let t;const e=this.getMaxTicks(20),n=this.getMaxTicks(100);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[n]):(t=this.scale.domain(),t=yA(t,e)),t}getMaxTicks(t){return Math.floor(this.width/t)}tickTransform(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(t){return this.trimTicks?mA(t,this.maxTickLength):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(t,e){if(1&t&&r.Gf(_k,5),2&t){let t;r.iGM(t=r.CRH())&&(e.ticksElement=t.first)}},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",rotateTicks:"rotateTicks",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineHeight:"gridLineHeight",width:"width"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.TTD],attrs:xk,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[4,"ngIf"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(t,e){1&t&&(r.O4$(),r.TgZ(0,"g",null,0),r.YNc(2,Tk,5,7,"g",1),r.qZA(),r.YNc(3,Ek,2,2,"g",2)),2&t&&(r.xp6(2),r.Q6J("ngForOf",e.ticks),r.xp6(1),r.Q6J("ngForOf",e.ticks))},directives:[O,N],encapsulation:2,changeDetection:0}),t})(),wA=(()=>{let t=class{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient="bottom",this.xAxisOffset=0,this.dimensionsChanged=new r.vpe,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5}ngOnChanges(t){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,void 0!==this.xAxisTickCount&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:t}){const e=t+25+5;e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({height:t})},0))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(t,e){if(1&t&&r.Gf(vA,5),2&t){let t;r.iGM(t=r.CRH())&&(e.ticksComponent=t.first)}},inputs:{rotateTicks:"rotateTicks",showGridLines:"showGridLines",xOrient:"xOrient",xAxisOffset:"xAxisOffset",xScale:"xScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickInterval:"xAxisTickInterval",xAxisTickCount:"xAxisTickCount"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.TTD],attrs:Ck,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,e){1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,kk,1,12,"g",0),r.YNc(2,Ak,1,5,"g",1),r.qZA()),2&t&&(r.uIk("class",e.xAxisClassName)("transform",e.transform),r.xp6(1),r.Q6J("ngIf",e.xScale),r.xp6(1),r.Q6J("ngIf",e.showLabel))},directives:[N,vA,gA],encapsulation:2,changeDetection:0}),t})();function bA(t,e,n,r,i,[s,o,a,u]){let c="";return c=`M${[t+i,e]}`,c+="h"+((n=0===(n=Math.floor(n))?1:n)-2*i),c+=o?`a${[i,i]} 0 0 1 ${[i,i]}`:`h${i}v${i}`,c+="v"+((r=0===(r=Math.floor(r))?1:r)-2*i),c+=u?`a${[i,i]} 0 0 1 ${[-i,i]}`:`v${i}h${-i}`,c+="h"+(2*i-n),c+=a?`a${[i,i]} 0 0 1 ${[-i,-i]}`:`h${-i}v${-i}`,c+="v"+(2*i-r),c+=s?`a${[i,i]} 0 0 1 ${[i,-i]}`:`v${-i}h${i}`,c+="z",c}let _A=(()=>{let t=class{constructor(){this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new r.vpe,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor="middle",this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout(()=>this.updateDims()))}update(){let t;const e="top"===this.orient||"right"===this.orient?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,t=this.scale,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(t){return"Date"===t.constructor.name?t.toLocaleDateString():t.toLocaleString()},this.adjustedScale=t.bandwidth?function(e){return t(e)+.5*t.bandwidth()}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case"top":case"bottom":this.transform=function(t){return"translate("+this.adjustedScale(t)+",0)"},this.textAnchor="middle",this.y2=this.innerTickSize*e,this.y1=this.tickSpacing*e,this.dy=e<0?"0em":".71em";break;case"left":this.transform=function(t){return"translate(0,"+this.adjustedScale(t)+")"},this.textAnchor="end",this.x2=this.innerTickSize*-e,this.x1=this.tickSpacing*-e,this.dy=".32em";break;case"right":this.transform=function(t){return"translate(0,"+this.adjustedScale(t)+")"},this.textAnchor="start",this.x2=this.innerTickSize*-e,this.x1=this.tickSpacing*-e,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=bA(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let t;const e=this.getMaxTicks(20),n=this.getMaxTicks(50);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[n]):(t=this.scale.domain(),t=yA(t,e)),t}getMaxTicks(t){return Math.floor(this.height/t)}tickTransform(t){return`translate(${this.adjustedScale(t)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(t){return this.trimTicks?mA(t,this.maxTickLength):t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(t,e){if(1&t&&r.Gf(_k,5),2&t){let t;r.iGM(t=r.CRH())&&(e.ticksElement=t.first)}},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.TTD],attrs:Ik,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[1,"reference-area"],[4,"ngIf"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(t,e){1&t&&(r.O4$(),r.TgZ(0,"g",null,0),r.YNc(2,Ok,5,9,"g",1),r.qZA(),r.YNc(3,Dk,1,2,"path",2),r.YNc(4,Pk,2,2,"g",3),r.YNc(5,Uk,2,1,"g",3)),2&t&&(r.xp6(2),r.Q6J("ngForOf",e.ticks),r.xp6(1),r.Q6J("ngIf",e.referenceLineLength>1&&e.refMax&&e.refMin&&e.showRefLines),r.xp6(1),r.Q6J("ngForOf",e.ticks),r.xp6(1),r.Q6J("ngForOf",e.referenceLines))},directives:[O,N],encapsulation:2,changeDetection:0}),t})(),xA=(()=>{let t=class{constructor(){this.showGridLines=!1,this.yOrient="left",this.yAxisOffset=0,this.dimensionsChanged=new r.vpe,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(t){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),"right"===this.yOrient?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):(this.offset=this.offset,this.transform=`translate(${this.offset} , 0)`),void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:t}){t!==this.labelOffset&&"right"===this.yOrient?(this.labelOffset=t+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0)):t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(t,e){if(1&t&&r.Gf(_A,5),2&t){let t;r.iGM(t=r.CRH())&&(e.ticksComponent=t.first)}},inputs:{showGridLines:"showGridLines",yOrient:"yOrient",yAxisOffset:"yAxisOffset",yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showLabel:"showLabel",labelText:"labelText",yAxisTickInterval:"yAxisTickInterval",yAxisTickCount:"yAxisTickCount",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.TTD],attrs:jk,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,e){1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,qk,1,14,"g",0),r.YNc(2,Vk,1,5,"g",1),r.qZA()),2&t&&(r.uIk("class",e.yAxisClassName)("transform",e.transform),r.xp6(1),r.Q6J("ngIf",e.yScale),r.xp6(1),r.Q6J("ngIf",e.showLabel))},directives:[N,_A,gA],encapsulation:2,changeDetection:0}),t})(),TA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})();var SA=function(t){return t[t.popover="popover"]="popover",t[t.tooltip="tooltip"]="tooltip",t}({}),EA=function(t){return t[t.left="left"]="left",t[t.center="center"]="center",t[t.right="right"]="right",t}({}),CA=function(t){return t[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",t}({});let kA=(()=>{let t=class{constructor(t,e,n){this.tooltipService=t,this.viewContainerRef=e,this.renderer=n,this.tooltipCssClass="",this.tooltipTitle="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=oA.top,this.tooltipAlignment=EA.center,this.tooltipType=SA.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=CA.all,this.tooltipImmediateExit=!1,this.show=new r.vpe,this.hide=new r.vpe}get listensForFocus(){return this.tooltipShowEvent===CA.all||this.tooltipShowEvent===CA.focus}get listensForHover(){return this.tooltipShowEvent===CA.all||this.tooltipShowEvent===CA.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;const e=t?0:this.tooltipShowTimeout;clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const t=this.createBoundOptions();this.component=this.tooltipService.create(t),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},e)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen(document,"click",e=>{t.contains(e.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;const e=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?e():this.timeout=setTimeout(e,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(hA),r.Y36(r.s_b),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(t,e){1&t&&r.NdJ("focusin",function(){return e.onFocus()})("blur",function(){return e.onBlur()})("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(t){return e.onMouseLeave(t.target)})("click",function(){return e.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipShowEvent:"tooltipShowEvent",tooltipImmediateExit:"tooltipImmediateExit",tooltipTemplate:"tooltipTemplate",tooltipContext:"tooltipContext"},outputs:{show:"show",hide:"hide"}}),t})(),AA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[iA,hA],imports:[[F]]}),t})();function IA(t){return t instanceof Date?t.toLocaleDateString():t.toLocaleString()}const OA={};function DA(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,OA[t]?DA():(OA[t]=!0,t)}let NA,LA=(()=>{let t=class{constructor(){this.orientation="vertical"}ngOnChanges(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%","horizontal"===this.orientation?this.x2="100%":"vertical"===this.orientation&&(this.y1="100%")}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[r.TTD],attrs:Bk,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.O4$(),r.TgZ(0,"linearGradient",0),r.YNc(1,zk,1,5,"stop",1),r.qZA()),2&t&&(r.Q6J("id",e.name),r.uIk("x1",e.x1)("y1",e.y1)("x2",e.x2)("y2",e.y2),r.xp6(1),r.Q6J("ngForOf",e.stops))},directives:[O],encapsulation:2,changeDetection:0}),t})();"undefined"!=typeof window?NA=window:"undefined"!=typeof global&&(NA=global);let RA=(()=>{let t=class{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new r.vpe,this.labelActivate=new r.vpe,this.labelDeactivate=new r.vpe,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const t=[];for(const e of this.data){const n=IA(e);-1===t.findIndex(t=>t.label===n)&&t.push({label:e,formattedLabel:n,color:this.colors.getColor(e)})}return t}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(e=>t.label===e.name)}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,e){return e.label}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-charts-legend"]],inputs:{horizontal:"horizontal",data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[r.TTD],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(t,e){1&t&&(r.TgZ(0,"div"),r.YNc(1,Hk,3,1,"header",0),r.TgZ(2,"div",1),r.TgZ(3,"ul",2),r.YNc(4,Gk,2,4,"li",3),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.Udp("width",e.width,"px"),r.xp6(1),r.Q6J("ngIf",(null==e.title?null:e.title.length)>0),r.xp6(2),r.Udp("max-height",e.height-45,"px"),r.ekj("horizontal-legend",e.horizontal),r.xp6(1),r.Q6J("ngForOf",e.legendEntries)("ngForTrackBy",e.trackBy))},directives:function(){return[N,O,PA]},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend li,.chart-legend ul{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),t})(),PA=(()=>{let t=class{constructor(){this.isActive=!1,this.select=new r.vpe,this.activate=new r.vpe,this.deactivate=new r.vpe,this.toggle=new r.vpe}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(t,e){1&t&&r.NdJ("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{isActive:"isActive",color:"color",label:"label",formattedLabel:"formattedLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(t,e){1&t&&(r.TgZ(0,"span",0),r.NdJ("click",function(){return e.select.emit(e.formattedLabel)}),r.TgZ(1,"span",1),r.NdJ("click",function(){return e.toggle.emit(e.formattedLabel)}),r.qZA(),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r.qZA()),2&t&&(r.ekj("active",e.isActive),r.Q6J("title",e.formattedLabel),r.xp6(1),r.Udp("background-color",e.color),r.xp6(2),r.hij(" ",e.trimmedLabel," "))},encapsulation:2,changeDetection:0}),t})(),FA=(()=>{let t=class{constructor(t){this.sanitizer=t,this.horizontal=!1}ngOnChanges(t){const e=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${e})`)}gradientString(t,e){e.push(1);const n=[];return t.reverse().forEach((t,r)=>{n.push(`${t} ${Math.round(100*e[r])}%`)}),n.join(", ")}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(gt))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{horizontal:"horizontal",valueRange:"valueRange",colors:"colors",height:"height",width:"width"},features:[r.TTD],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.qZA(),r._UZ(4,"div",2),r.TgZ(5,"div",1),r.TgZ(6,"span"),r._uU(7),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.Udp("height",e.horizontal?void 0:e.height,"px")("width",e.width,"px"),r.ekj("horizontal-legend",e.horizontal),r.xp6(3),r.Oqu(e.valueRange[1].toLocaleString()),r.xp6(1),r.Udp("background",e.gradient),r.xp6(3),r.Oqu(e.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}"],encapsulation:2,changeDetection:0}),t})(),MA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F,TA,AA],F,TA,AA]}),t})(),UA=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class jA{constructor(t,e,n,r){"string"==typeof t&&(t=UA.find(e=>e.name===t)),this.colorDomain=t.domain,this.scaleType=e,this.domain=n,this.customColors=r,this.scale=this.generateColorScheme(t,e,this.domain)}generateColorScheme(t,e,n){let r;if("string"==typeof t&&(t=UA.find(e=>e.name===t)),"quantile"===e)r=$C().range(t.domain).domain(n);else if("ordinal"===e)r=zC().range(t.domain).domain(n);else if("linear"===e){const e=[...t.domain];1===e.length&&(e.push(e[0]),this.colorDomain=e);const n=VC(0,1,1/e.length);r=qC().domain(n).range(e)}return r}getColor(t){if(null==t)throw new Error("Value can not be null");if("linear"===this.scaleType){const e=qC().domain(this.domain).range([0,1]);return this.scale(e(t))}{if("function"==typeof this.customColors)return this.customColors(t);const e=t.toString();let n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(t=>t.name.toLowerCase()===e.toLowerCase())),n?n.value:this.scale(t)}}getLinearGradientStops(t,e){void 0===e&&(e=this.domain[0]);const n=qC().domain(this.domain).range([0,1]),r=HC().domain(this.colorDomain).range([0,1]),i=this.getColor(t),s=n(e),o=this.getColor(e),a=n(t);let u=1,c=s;const l=[];for(l.push({color:o,offset:s,originalOffset:s,opacity:1});c<a&&u<this.colorDomain.length;){const t=this.colorDomain[u],e=r(t);if(e<=s)u++;else{if(e.toFixed(4)>=(a-r.bandwidth()).toFixed(4))break;l.push({color:t,offset:e,opacity:1}),c=e,u++}}if(l[l.length-1].offset<100&&l.push({color:i,offset:a,opacity:1}),a===s)l[0].offset=0,l[1].offset=100;else if(100!==l[l.length-1].offset)for(const h of l)h.offset=(h.offset-s)/(a-s)*100;return l}}let qA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[MA]]}),t})(),VA=(()=>{let t=class{constructor(t){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new r.vpe,this.activate=new r.vpe,this.deactivate=new r.vpe,this.hasGradient=!1,this.hideBar=!1,this.element=t.nativeElement}ngOnChanges(t){t.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+DA().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const t=function(t){return"string"==typeof t?new J_([[document.querySelector(t)]],[document.documentElement]):new J_([[t]],K_)}(this.element).select(".bar"),e=this.getPath();this.animations?t.transition().duration(500).attr("d",e):t.attr("d",e)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let t,e=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(e=Math.min(this.height,e),t=bA(this.x,this.y+this.height,this.width,1,0,this.edges)):"horizontal"===this.orientation&&(e=Math.min(this.width,e),t=bA(this.x,this.y,1,this.height,0,this.edges)):"vertical"===this.orientation?t=bA(this.x,this.y+this.height,this.width,1,0,this.edges):"horizontal"===this.orientation&&(t=bA(this.x,this.y,1,this.height,0,this.edges)),t}getPath(){let t,e=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(e=Math.min(this.height,e),t=bA(this.x,this.y,this.width,this.height,e,this.edges)):"horizontal"===this.orientation&&(e=Math.min(this.width,e),t=bA(this.x,this.y,this.width,this.height,e,this.edges)):t=bA(this.x,this.y,this.width,this.height,e,this.edges),t}getRadius(){let t=0;return this.roundEdges&&this.height>5&&this.width>5&&(t=Math.floor(Math.min(5,this.height/2,this.width/2))),t}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let t=[!1,!1,!1,!1];return this.roundEdges&&("vertical"===this.orientation?t=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:"horizontal"===this.orientation&&(t=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),t}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&("vertical"===this.orientation&&0===this.height||"horizontal"===this.orientation&&0===this.width)}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(t,e){1&t&&r.NdJ("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",animations:"animations",noBarWhenZero:"noBarWhenZero",fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",stops:"stops",ariaLabel:"ariaLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[r.TTD],attrs:Wk,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(t,e){1&t&&(r.YNc(0,Yk,2,3,"defs",0),r.O4$(),r.TgZ(1,"path",1),r.NdJ("click",function(){return e.select.emit(e.data)}),r.qZA()),2&t&&(r.Q6J("ngIf",e.hasGradient),r.xp6(1),r.ekj("active",e.isActive)("hidden",e.hideBar),r.uIk("d",e.path)("aria-label",e.ariaLabel)("fill",e.hasGradient?e.gradientFill:e.fill))},directives:[N,LA],encapsulation:2,changeDetection:0}),t})(),BA=(()=>{let t=class extends pA{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new r.vpe,this.deactivate=new r.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxWidth={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxWidth={negative:0,positive:0}),this.margin=[10,20+this.dataLabelMaxWidth.positive,10,20+this.dataLabelMaxWidth.negative],this.dims=function({width:t,height:e,margins:n,showXAxis:r=!1,showYAxis:i=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:u=!1,showLegend:c=!1,legendType:l="ordinal",legendPosition:h="right",columns:f=12}){let d=n[3],p=t,g=e-n[0]-n[2];if(c&&"right"===h&&(f-="ordinal"===l?2:1),p=p*f/12,p=p-n[1]-n[3],r&&(g-=5,g-=s,a)&&(g-=30),i&&(p-=5,p-=o,d+=o,d+=10,u)){const t=30;p-=t,d+=t}return p=Math.max(0,p),g=Math.max(0,g),{width:Math.floor(p),height:Math.floor(g),xOffset:Math.floor(d)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getXScale(){this.xDomain=this.getXDomain();const t=qC().range([0,this.dims.width]).domain(this.xDomain);return this.roundDomains?t.nice():t}getYScale(){this.yDomain=this.getYDomain();const t=this.yDomain.length/(this.dims.height/this.barPadding+1);return HC().rangeRound([0,this.dims.height]).paddingInner(t).domain(this.yDomain)}getXDomain(){const t=this.results.map(t=>t.value);return[this.xScaleMin?Math.min(this.xScaleMin,...t):Math.min(0,...t),this.xScaleMax?Math.max(this.xScaleMax,...t):Math.max(0,...t)]}getYDomain(){return this.results.map(t=>t.label)}onClick(t){this.select.emit(t)}setColors(){let t;t="ordinal"===this.schemeType?this.yDomain:this.xDomain,this.colors=new jA(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===t.scaleType?(t.domain=this.yDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.xDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onDataLabelMaxWidthChanged(t){t.size.negative?this.dataLabelMaxWidth.negative=Math.max(this.dataLabelMaxWidth.negative,t.size.width):this.dataLabelMaxWidth.positive=Math.max(this.dataLabelMaxWidth.positive,t.size.width),t.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(t,e=!1){t=this.results.find(n=>e?n.label===t.name:n.name===t.name),this.activeEntries.findIndex(e=>e.name===t.name&&e.value===t.value&&e.series===t.series)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,e=!1){t=this.results.find(n=>e?n.label===t.name:n.name===t.name);const n=this.activeEntries.findIndex(e=>e.name===t.name&&e.value===t.value&&e.series===t.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}};return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-charts-bar-horizontal"]],contentQueries:function(t,e,n){if(1&t&&r.Suo(n,$k,5),2&t){let t;r.iGM(t=r.CRH())&&(e.tooltipTemplate=t.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",xScaleMax:"xScaleMax",xScaleMin:"xScaleMin",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[r.qOj],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-series-horizontal","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","activeEntries","roundEdges","animations","showDataLabel","dataLabelFormatting","noBarWhenZero","select","activate","deactivate","dataLabelWidthChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged"]],template:function(t,e){1&t&&(r.TgZ(0,"ngx-charts-chart",0),r.NdJ("legendLabelClick",function(t){return e.onClick(t)})("legendLabelActivate",function(t){return e.onActivate(t,!0)})("legendLabelDeactivate",function(t){return e.onDeactivate(t,!0)}),r.O4$(),r.TgZ(1,"g",1),r.YNc(2,Qk,1,10,"g",2),r.YNc(3,Kk,1,9,"g",3),r.TgZ(4,"g",4),r.NdJ("select",function(t){return e.onClick(t)})("activate",function(t){return e.onActivate(t)})("deactivate",function(t){return e.onDeactivate(t)})("dataLabelWidthChanged",function(t){return e.onDataLabelMaxWidthChanged(t)}),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.Q6J("view",r.WLB(22,Zk,e.width,e.height))("showLegend",e.legend)("legendOptions",e.legendOptions)("activeEntries",e.activeEntries)("animations",e.animations),r.xp6(1),r.uIk("transform",e.transform),r.xp6(1),r.Q6J("ngIf",e.xAxis),r.xp6(1),r.Q6J("ngIf",e.yAxis),r.xp6(1),r.Q6J("xScale",e.xScale)("yScale",e.yScale)("colors",e.colors)("series",e.results)("dims",e.dims)("gradient",e.gradient)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.tooltipTemplate)("activeEntries",e.activeEntries)("roundEdges",e.roundEdges)("animations",e.animations)("showDataLabel",e.showDataLabel)("dataLabelFormatting",e.dataLabelFormatting)("noBarWhenZero",e.noBarWhenZero))},directives:function(){return[fA,N,HA,wA,xA]},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:0}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:0}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}"],encapsulation:2,changeDetection:0}),t})();var zA=function(t){return t.positive="positive",t.negative="negative",t}({});let HA=(()=>{let t=class{constructor(){this.barsForDataLabels=[],this.type="standard",this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new r.vpe,this.activate=new r.vpe,this.deactivate=new r.vpe,this.dataLabelWidthChanged=new r.vpe}ngOnChanges(t){this.update()}update(){this.updateTooltipSettings();const t={[zA.positive]:0,[zA.negative]:0};let e,n;e=zA.positive,"normalized"===this.type&&(n=this.series.map(t=>t.value).reduce((t,e)=>t+e,0));const r=Math.max(this.xScale.domain()[0],0);this.bars=this.series.map((i,s)=>{let o=i.value;const a=this.getLabel(i),u=IA(a);e=o>0?zA.positive:zA.negative;const c={value:o,label:a,roundEdges:this.roundEdges,data:i,formattedLabel:u};if(c.height=this.yScale.bandwidth(),"standard"===this.type)c.width=Math.abs(this.xScale(o)-this.xScale(r)),c.x=this.xScale(o<0?o:r),c.y=this.yScale(a);else if("stacked"===this.type){const n=t[e],r=n+o;t[e]+=o,c.width=this.xScale(r)-this.xScale(n),c.x=this.xScale(n),c.y=0,c.offset0=n,c.offset1=r}else if("normalized"===this.type){let r=t[e],i=r+o;t[e]+=o,n>0?(r=100*r/n,i=100*i/n):(r=0,i=0),c.width=this.xScale(i)-this.xScale(r),c.x=this.xScale(r),c.y=0,c.offset0=r,c.offset1=i,o=(i-r).toFixed(2)+"%"}"ordinal"===this.colors.scaleType?c.color=this.colors.getColor(a):"standard"===this.type?(c.color=this.colors.getColor(o),c.gradientStops=this.colors.getLinearGradientStops(o)):(c.color=this.colors.getColor(c.offset1),c.gradientStops=this.colors.getLinearGradientStops(c.offset1,c.offset0));let l=u;return c.ariaLabel=u+" "+o.toLocaleString(),this.seriesName&&(l=`${this.seriesName} \u2022 ${u}`,c.data.series=this.seriesName,c.ariaLabel=this.seriesName+" "+c.ariaLabel),c.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${function(t){return t.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[t]))}(l)}</span>\n        <span class="tooltip-val">${o.toLocaleString()}</span>\n      `,c}),this.updateDataLabels()}updateDataLabels(){if("stacked"===this.type){this.barsForDataLabels=[];const t={};t.series=this.seriesName;const e=this.series.map(t=>t.value).reduce((t,e)=>e>0?t+e:t,0),n=this.series.map(t=>t.value).reduce((t,e)=>e<0?t+e:t,0);t.total=e+n,t.x=0,t.y=0,t.width=this.xScale(t.total>0?e:n),t.height=this.yScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map(t=>{const e={};return e.series=this.seriesName?this.seriesName:t.label,e.total=t.value,e.x=this.xScale(0),e.y=this.yScale(t.label),e.width=this.xScale(e.total)-this.xScale(0),e.height=this.yScale.bandwidth(),e})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:"top",this.tooltipType=this.tooltipDisabled?void 0:"tooltip"}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(e=>t.name===e.name&&t.series===e.series)}getLabel(t){return t.label?t.label:t.name}trackBy(t,e){return e.label}trackDataLabelBy(t,e){return t+"#"+e.series+"#"+e.total}click(t){this.select.emit(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-series-horizontal",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",animations:"animations",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",dims:"dims",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",dataLabelFormatting:"dataLabelFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelWidthChanged:"dataLabelWidthChanged"},features:[r.TTD],attrs:Jk,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(t,e){1&t&&(r.YNc(0,Xk,1,21,"g",0),r.YNc(1,eA,2,2,"g",1)),2&t&&(r.Q6J("ngForOf",e.bars)("ngForTrackBy",e.trackBy),r.xp6(1),r.Q6J("ngIf",e.showDataLabel))},directives:function(){return[O,N,VA,kA,GA]},encapsulation:2,data:{animation:[Eb("animationState",[Ib(":leave",[Ab({opacity:1}),Cb(500,Ab({opacity:0}))])])]},changeDetection:0}),t})(),GA=(()=>{let t=class{constructor(t){this.dimensionsChanged=new r.vpe,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):IA(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.TTD],attrs:nA,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(t,e){1&t&&(r.O4$(),r.TgZ(0,"text",0),r._uU(1),r.qZA()),2&t&&(r.uIk("text-anchor",e.textAnchor)("transform",e.transform)("x",e.x)("y",e.y),r.xp6(1),r.hij(" ",e.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),t})(),$A=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[MA]]}),t})(),ZA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[MA]]}),t})(),WA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[MA]]}),t})(),YA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[MA]]}),t})();Math;let QA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[MA]]}),t})(),KA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[MA,QA,YA]]}),t})(),JA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[MA]]}),t})(),XA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[MA]]}),t})(),tI=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[MA,QA,$A]]}),t})(),eI=(()=>{let t=class{constructor(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[MA,qA,$A,ZA,WA,YA,KA,JA,QA,XA,tI]}),t})(),nI=(()=>{class t{constructor(){this.results=[],this.showXAxis=!0,this.showYAxis=!0,this.gradient=!0,this.showLegend=!0,this.showXAxisLabel=!0,this.xAxisLabel="Juegos",this.showYAxisLabel=!0,this.yAxisLabel="Votos",this.colorScheme="nightLights",console.log(Math.round(500*Math.random()))}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-grafico-barra-horizontal"]],inputs:{results:"results"},decls:2,vars:10,consts:[[1,"chart-container"],[2,"fill","grey",3,"scheme","results","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"ngx-charts-bar-horizontal",1),r.qZA()),2&t&&(r.xp6(1),r.Q6J("scheme",e.colorScheme)("results",e.results)("gradient",e.gradient)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.showLegend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.xAxisLabel)("yAxisLabel",e.yAxisLabel))},directives:[BA],styles:[".chart-container[_ngcontent-%COMP%]{display:grid;height:300px}"]}),t})();const rI=[{path:"inicio",component:(()=>{class t{constructor(t){this.db=t,this.juegos=[]}ngOnInit(){this.db.collection("goty").valueChanges().pipe((0,Ht.U)(t=>t.map(({name:t,votos:e})=>({name:t,value:e})))).subscribe(t=>{this.juegos=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-inicio"]],decls:6,vars:1,consts:[[1,"row"],[1,"col"],[3,"results"]],template:function(t,e){1&t&&(r.TgZ(0,"h2"),r._uU(1,"Game of the year!"),r.qZA(),r._UZ(2,"hr"),r.TgZ(3,"div",0),r.TgZ(4,"div",1),r._UZ(5,"app-grafico-barra-horizontal",2),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.Q6J("results",e.juegos))},directives:[nI],styles:[""]}),t})()},{path:"goty",component:fs},{path:"**",pathMatch:"full",redirectTo:"inicio"}];let iI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[wi.forRoot(rI)],wi]}),t})(),sI=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-navbar"]],decls:14,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["routerLinkActive","active",1,"nav-item"],["aria-current","page","routerLink","/inicio",1,"nav-link"],["routerLink","/goty",1,"nav-link"]],template:function(t,e){1&t&&(r.TgZ(0,"nav",0),r.TgZ(1,"div",1),r.TgZ(2,"a",2),r._uU(3,"GOTY"),r.qZA(),r.TgZ(4,"button",3),r._UZ(5,"span",4),r.qZA(),r.TgZ(6,"div",5),r.TgZ(7,"ul",6),r.TgZ(8,"li",7),r.TgZ(9,"a",8),r._uU(10,"Inicio"),r.qZA(),r.qZA(),r.TgZ(11,"li",7),r.TgZ(12,"a",9),r._uU(13,"Votar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},directives:[ui,oi],styles:[""]}),t})(),oI=(()=>{class t{constructor(){this.title="goty"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r._UZ(0,"app-navbar"),r._UZ(1,"router-outlet"))},directives:[sI,ci],styles:[""]}),t})();function aI(){return"undefined"!=typeof window&&void 0!==window.document}function uI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function cI(t){switch(t.length){case 0:return new Db;case 1:return t[0];default:return new Nb(t)}}function lI(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Sb:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function hI(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&fI(n,"start",t)));break;case"done":t.onDone(()=>r(n&&fI(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&fI(n,"destroy",t)))}}function fI(t,e,n){const r=n.totalTime,i=dI(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function dI(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function pI(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function gI(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let mI=(t,e)=>!1,yI=(t,e)=>!1,vI=(t,e,n)=>[];const wI=uI();(wI||"undefined"!=typeof Element)&&(mI=aI()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),yI=(()=>{if(wI||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):yI}})(),vI=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let bI=null,_I=!1;function xI(t){bI||(bI=("undefined"!=typeof document?document.body:null)||{},_I=!!bI.style&&"WebkitAppearance"in bI.style);let e=!0;return bI.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in bI.style,!e&&_I)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in bI.style),e}const TI=yI,SI=mI,EI=vI;function CI(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let kI=(()=>{class t{validateStyleProperty(t){return xI(t)}matchesElement(t,e){return TI(t,e)}containsElement(t,e){return SI(t,e)}query(t,e,n){return EI(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Db(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),AI=(()=>{class t{}return t.NOOP=new kI,t})();const II="ng-enter",OI="ng-leave",DI="ng-trigger",NI=".ng-trigger",LI="ng-animating",RI=".ng-animating";function PI(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:FI(parseFloat(e[1]),e[2])}function FI(t,e){switch(e){case"s":return 1e3*t;default:return t}}function MI(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=FI(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=FI(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function UI(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function jI(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else UI(t,n);return n}function qI(t,e,n){return n?e+":"+n+";":""}function VI(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=qI(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=qI(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function BI(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=QI(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),uI()&&VI(t))}function zI(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=QI(e);t.style[n]=""}),uI()&&VI(t))}function HI(t){return Array.isArray(t)?1==t.length?t[0]:kb(t):t}const GI=new RegExp("{{\\s*(.+?)\\s*}}","g");function $I(t){let e=[];if("string"==typeof t){let n;for(;n=GI.exec(t);)e.push(n[1]);GI.lastIndex=0}return e}function ZI(t,e,n){const r=t.toString(),i=r.replace(GI,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function WI(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const YI=/-+([a-z0-9])/g;function QI(t){return t.replace(YI,(...t)=>t[1].toUpperCase())}function KI(t,e){return 0===t||0===e}function JI(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=tO(t,e)})}}return e}function XI(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function tO(t,e){return window.getComputedStyle(t)[e]}const eO="*";function nO(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(sO(i,o)),"<"!=s[0]||i==eO&&o==eO||e.push(sO(o,i))}(t,n,e)):n.push(t),n}const rO=new Set(["true","1"]),iO=new Set(["false","0"]);function sO(t,e){const n=rO.has(t)||iO.has(t),r=rO.has(e)||iO.has(e);return(i,s)=>{let o=t==eO||t==i,a=e==eO||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?rO.has(t):iO.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?rO.has(e):iO.has(e)),o&&a}}const oO=new RegExp("s*:selfs*,?","g");function aO(t,e,n){return new uO(t).build(e,n)}class uO{constructor(t){this._driver=t}build(t,e){const n=new cO(e);return this._resetContextStyleTimingState(n),XI(this,HI(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(lO(t)){const e=t;Object.keys(e).forEach(t=>{$I(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=WI(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=XI(this,HI(t.animation),e);return{type:1,matchers:nO(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:hO(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>XI(this,t,e)),options:hO(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=XI(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:hO(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return fO(MI(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=fO(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||MI(r,e),fO(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Ab({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Ab(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Sb?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(lO(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=$I(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(lO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(lO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:XI(this,HI(t.animation),e),options:hO(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:hO(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:hO(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(oO,"")),[t=t.replace(/@\*/g,NI).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,RI),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,pI(e.collectedStyles,e.currentQuerySelector,{});const o=XI(this,HI(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:hO(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:MI(t.timings,e.errors,!0);return{type:12,animation:XI(this,HI(t.animation),e),timings:n,options:null}}}class cO{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function lO(t){return!Array.isArray(t)&&"object"==typeof t}function hO(t){var e;return t?(t=UI(t)).params&&(t.params=(e=t.params)?UI(e):null):t={},t}function fO(t,e,n){return{duration:t,delay:e,easing:n}}function dO(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class pO{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gO=new RegExp(":enter","g"),mO=new RegExp(":leave","g");function yO(t,e,n,r,i,s={},o={},a,u,c=[]){return(new vO).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class vO{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new pO;const l=new bO(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),XI(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[dO(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?PI(n.duration):null,s=null!=n.delay?PI(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),XI(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wO);const t=PI(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>XI(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?PI(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),XI(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return MI(e.params?ZI(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?PI(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=wO);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),XI(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;XI(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const wO={};class bO{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new _O(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=PI(n.duration)),null!=n.delay&&(r.delay=PI(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ZI(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new bO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=wO,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new xO(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(gO,"."+this._enterClassName)).replace(mO,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class _O{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new _O(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Sb,this._currentKeyframe[t]=Sb}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Sb})):jI(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=ZI(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Sb),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=jI(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Sb&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?WI(t.values()):[],s=e.size?WI(e.values()):[];if(n){const t=r[0],e=UI(t);t.offset=0,e.offset=1,r=[t,e]}return dO(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class xO extends _O{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=jI(t[0],!1);a.offset=0,i.push(a);const u=jI(t[0],!1);u.offset=TO(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=jI(t[r],!1);o.offset=TO((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return dO(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function TO(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class SO{}class EO extends SO{normalizePropertyName(t,e){return QI(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(CO[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const CO=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function kO(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const AO={};class IO{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||AO,f=this.buildStyles(n,o&&o.params||AO,l),d=a&&a.params||AO,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,w={params:Object.assign(Object.assign({},h),d)},b=c?[]:yO(t,e,this.ast.animation,i,s,f,p,w,u,l);let _=0;if(b.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return kO(e,this._triggerName,n,r,v,f,p,[],[],m,y,_,l);b.forEach(t=>{const n=t.element,r=pI(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=pI(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const x=WI(g.values());return kO(e,this._triggerName,n,r,v,f,p,b,x,m,y,_)}}class OO{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=UI(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=ZI(s,r,e)),n[t]=s})}}),n}}class DO{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new OO(t.style,t.options&&t.options.params||{})}),NO(this.states,"true","1"),NO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new IO(t,e,this.states))}),this.fallbackTransition=new IO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function NO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const LO=new pO;class RO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=aO(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=lI(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=yO(this._driver,e,i,II,OI,{},{},n,LO,r),s.forEach(t=>{const e=pI(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Sb)})});const a=cI(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=dI(e,"","","");return hI(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const PO="ng-animate-queued",FO="ng-animate-disabled",MO=".ng-animate-disabled",UO=[],jO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class VO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=UI(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const BO="void",zO=new VO(BO);class HO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,KO(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=pI(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=pI(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(KO(t,DI),KO(t,"ng-trigger-"+e),a[e]=zO),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new $O(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(KO(t,DI),KO(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new VO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=zO),u.value!==BO&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{zI(t,n),BI(t,r)})}return}const c=pI(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(KO(t,PO),s.onStart(()=>{JO(t,PO)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,NI,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,BO,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&cI(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||zO,a=new VO(BO),u=new $O(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==jO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){KO(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=dI(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,hI(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class GO{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new HO(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(ZO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!ZO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),KO(t,FO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),JO(t,FO))}removeNode(t,e,n,r){if(ZO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return ZO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,NI,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,RI,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return cI(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=jO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,MO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,MO,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)KO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?cI(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new pO,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=QO(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=II+p++;d.set(e,n),t.forEach(t=>KO(t,n))});const g=[],m=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,w=QO(h,Array.from(m));w.forEach((t,e)=>{const n=OI+p++;v.set(e,n),t.forEach(t=>KO(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>JO(t,n))}),w.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>JO(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],_=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>zI(i,p.fromStyles)),e.onDestroy(()=>BI(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>zI(i,p.fromStyles)),e.onDestroy(()=>BI(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>pI(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,T=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(T.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{pI(x,e,[]).push(t),t.destroy()})});const S=g.filter(t=>eD(t,a,u)),E=new Map;YO(E,this.driver,y,u,Sb).forEach(t=>{eD(t,a,u)&&S.push(t)});const C=new Map;f.forEach((t,e)=>{YO(C,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=E.get(t),n=C.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const k=[],A=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>BI(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=I;if(T.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=T.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>T.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,i,C,E);if(s.setRealPlayer(n),t===I)k.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=cI(e)),r.push(s)}}else zI(e,o.fromStyles),s.onDestroy(()=>BI(e,o.toStyles)),A.push(s),c.has(e)&&r.push(s)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=cI(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<g.length;O++){const t=g[O],e=t.__ng_removed;if(JO(t,OI),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,RI,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?XO(this,t,r):this.processLeaveNode(t)}return g.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==BO;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=pI(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}zI(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Db(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return tD(t,e),e}((n.get(h)||UO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=lI(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new $O(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{pI(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>KO(t,LI));const f=cI(h);return f.onDestroy(()=>{c.forEach(t=>JO(t,LI)),BI(a,e.toStyles)}),l.forEach(t=>{pI(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Db(t.duration,t.delay)}}class $O{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Db,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>hI(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){pI(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ZO(t){return t&&1===t.nodeType}function WO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function YO(t,e,n,r,i){const s=[];n.forEach(t=>s.push(WO(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=qO,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>WO(t,s[a++])),o}function QO(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function KO(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function JO(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function XO(t,e,n){cI(n).onDone(()=>t.processLeaveNode(e))}function tD(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Nb?tD(r.players,e):e.push(r)}}function eD(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class nD{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new GO(t,e,n),this._timelineEngine=new RO(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=aO(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new DO(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=gI(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=gI(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function rD(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=sD(e[0]),e.length>1&&(r=sD(e[e.length-1]))):e&&(n=sD(e)),n||r?new iD(t,n,r):null}let iD=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&BI(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(BI(this._element,this._initialStyles),this._endStyles&&(BI(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(zI(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zI(this._element,this._endStyles),this._endStyles=null),BI(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function sD(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];oD(i)&&(e=e||{},e[i]=t[i])}return e}function oD(t){return"display"===t||"position"===t}const aD="animation",uD="animationend";class cD{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=gD(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),pD(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),dD(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){lD(this._element,this._name,"paused")}resume(){lD(this._element,this._name,"running")}setPosition(t){const e=hD(this._element,this._name);this._position=t*this._duration,pD(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),dD(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=gD(t,"").split(","),r=fD(n,e);r>=0&&(n.splice(r,1),pD(t,"",n.join(",")))}(this._element,this._name))}}function lD(t,e,n){pD(t,"PlayState",n,hD(t,e))}function hD(t,e){const n=gD(t,"");return n.indexOf(",")>0?fD(n.split(","),e):fD([n],e)}function fD(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function dD(t,e,n){n?t.removeEventListener(uD,e):t.addEventListener(uD,e)}function pD(t,e,n,r){const i=aD+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function gD(t,e){return t.style[aD+e]||""}class mD{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new cD(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:tO(this.element,n))})}this.currentSnapshot=t}}class yD extends Db{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=CI(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class vD{constructor(){this._count=0}validateStyleProperty(t){return xI(t)}matchesElement(t,e){return TI(t,e)}containsElement(t,e){return SI(t,e)}query(t,e,n){return EI(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>CI(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof mD),u={};KI(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=JI(t,e,u));if(0==n)return new yD(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const f=rD(t,e),d=new mD(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class wD{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:tO(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class bD{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_D().toString()),this._cssKeyframesDriver=new vD}validateStyleProperty(t){return xI(t)}matchesElement(t,e){return TI(t,e)}containsElement(t,e){return SI(t,e)}query(t,e,n){return EI(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof wD);KI(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=rD(t,e=JI(t,e=e.map(t=>jI(t,!1)),u));return new wD(t,e,a,l)}}function _D(){return aI()&&Element.prototype.animate||{}}let xD=(()=>{class t extends Tb{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?kb(t):t;return ED(this._renderer,null,e,"register",[n]),new TD(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class TD extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new SD(this._id,t,e||{},this._renderer)}}class SD{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ED(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function ED(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const CD="@",kD="@.disabled";let AD=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ID("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new OD(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(nD),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class ID{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==CD&&e==kD?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class OD extends ID{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==CD?"."==e.charAt(1)&&e==kD?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==CD){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=CD&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let DD=(()=>{class t extends nD{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(AI),r.LFG(SO))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ND=new r.OlP("AnimationModuleType"),LD=[{provide:Tb,useClass:xD},{provide:SO,useFactory:function(){return new EO}},{provide:nD,useClass:DD},{provide:r.FYo,useFactory:function(t,e,n){return new AD(t,e,n)},deps:[st,nD,r.R0b]}],RD=[{provide:AI,useFactory:function(){return"function"==typeof _D()?new bD:new vD}},{provide:ND,useValue:"BrowserAnimations"},...LD],PD=[{provide:AI,useClass:kI},{provide:ND,useValue:"NoopAnimations"},...LD];let FD=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?PD:RD}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:RD,imports:[bt]}),t})(),MD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F,wi,FD,eI]]}),t})(),UD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[oI]}),t.\u0275inj=r.cJS({providers:[],imports:[[bt,iI,MD,cs,bs.hO.initializeApp(Di),xb]]}),t})();(0,r.G48)(),vt().bootstrapModule(UD).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>s,gn:()=>o,mG:()=>a,Jh:()=>u,XA:()=>c,CR:()=>l,ev:()=>h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function a(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function h(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}}},t=>{"use strict";t(t.s=426)}]);